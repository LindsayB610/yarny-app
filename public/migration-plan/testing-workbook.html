<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yarny React Migration - Testing Workbook</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="/global.css">
  <link rel="stylesheet" href="/docs.css">
  <link rel="stylesheet" href="/footer.css">
  <style>
    /* Keep content styling unchanged */
    .workbook-intro {
      background: rgba(31, 41, 55, 0.95);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-lg);
      padding: var(--space-4xl);
      margin-bottom: var(--space-3xl);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
      max-width: 1000px;
    }
    
    .workbook-intro h1 {
      color: var(--color-white);
      font-size: 2.5rem;
      margin-bottom: var(--space-md);
      font-weight: var(--font-weight-bold);
    }
    
    .workbook-intro p {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: var(--space-md);
    }
    
    .test-section {
      background: rgba(31, 41, 55, 0.6);
      border-radius: var(--radius-lg);
      padding: var(--space-4xl);
      margin-bottom: var(--space-4xl);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-width: 1000px;
    }
    
    .test-section h2 {
      color: var(--color-primary);
      font-size: 1.8rem;
      margin-bottom: var(--space-lg);
      display: flex;
      align-items: center;
      gap: var(--space-md);
    }
    
    .test-section h3 {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.3rem;
      margin-top: var(--space-3xl);
      margin-bottom: var(--space-md);
    }
    
    .test-item {
      background: rgba(31, 41, 55, 0.4);
      border-left: 4px solid var(--color-primary);
      padding: var(--space-xl);
      margin-bottom: var(--space-lg);
      border-radius: var(--radius-md);
    }
    
    .test-item h4 {
      color: rgba(255, 255, 255, 0.95);
      font-size: 1.1rem;
      margin-bottom: var(--space-sm);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }
    
    .test-item p {
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: var(--space-md);
      line-height: 1.6;
    }
    
    .test-steps {
      background: rgba(0, 0, 0, 0.2);
      padding: var(--space-lg);
      border-radius: var(--radius-md);
      margin-top: var(--space-md);
    }
    
    .test-steps ol {
      margin: 0;
      padding-left: var(--space-xl);
      color: rgba(255, 255, 255, 0.8);
    }
    
    .test-steps li {
      margin-bottom: var(--space-sm);
      line-height: 1.6;
    }
    
    .checkbox-container {
      display: flex;
      align-items: flex-start;
      gap: var(--space-md);
      margin-top: var(--space-md);
    }
    
    .checkbox-container input[type="checkbox"] {
      margin-top: 4px;
      width: 20px;
      height: 20px;
      cursor: pointer;
      flex-shrink: 0;
    }
    
    .checkbox-container label {
      color: rgba(255, 255, 255, 0.7);
      cursor: pointer;
      flex: 1;
    }
    
    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: var(--radius-full);
      font-size: 0.85rem;
      font-weight: var(--font-weight-semibold);
      margin-left: var(--space-sm);
    }
    
    .status-pass {
      background: rgba(16, 185, 129, 0.2);
      color: var(--color-primary);
      border: 1px solid var(--color-primary);
    }
    
    .status-fail {
      background: rgba(239, 68, 68, 0.2);
      color: #EF4444;
      border: 1px solid #EF4444;
    }
    
    .status-skip {
      background: rgba(156, 163, 175, 0.2);
      color: #9CA3AF;
      border: 1px solid #9CA3AF;
    }
    
    .note-box {
      background: rgba(254, 243, 199, 0.1);
      border-left: 4px solid #F59E0B;
      padding: var(--space-lg);
      margin: var(--space-lg) 0;
      border-radius: var(--radius-md);
    }
    
    .note-box p {
      color: rgba(255, 255, 255, 0.9);
      margin: 0;
    }
    
    .note-box strong {
      color: #F59E0B;
    }
    
    .summary-section {
      background: rgba(16, 185, 129, 0.1);
      border: 2px solid var(--color-primary);
      border-radius: var(--radius-lg);
      padding: var(--space-4xl);
      margin-top: var(--space-6xl);
      text-align: center;
    }
    
    .summary-section h2 {
      color: var(--color-primary);
      margin-bottom: var(--space-xl);
    }
    
    .summary-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-xl);
      margin-top: var(--space-2xl);
    }
    
    .stat-box {
      background: rgba(31, 41, 55, 0.6);
      padding: var(--space-xl);
      border-radius: var(--radius-md);
    }
    
    .stat-box .stat-number {
      font-size: 2rem;
      font-weight: var(--font-weight-bold);
      color: var(--color-primary);
    }
    
    .stat-box .stat-label {
      color: rgba(255, 255, 255, 0.7);
      margin-top: var(--space-sm);
    }
  </style>
</head>
<body>
  <div class="docs-container">
    <main class="docs-main">
      <div class="sidebar-backdrop"></div>
      <aside class="docs-sidebar">
        <div class="sidebar-header">
          <div class="sidebar-branding">
            <h1>Yarny</h1>
            <p class="docs-subtitle">Your personal writing tool</p>
          </div>
          <a href="/migration-plan" style="color: var(--color-primary); text-decoration: none; font-weight: var(--font-weight-semibold); display: block; margin-bottom: var(--space-md);">
            Migration Plan
          </a>
        </div>
        <nav class="sidebar-nav">
          <ul class="sidebar-nav-list">
            <li><a href="#intro" class="nav-link">Introduction</a></li>
            <li><a href="#section-0" class="nav-link">Section 0: Test Corpus Setup</a></li>
            <li><a href="#section-1" class="nav-link">Section 1: Smoke Tests & Infrastructure</a></li>
            <li><a href="#section-2" class="nav-link">Section 2: Google Drive Integration & Sync</a></li>
            <li><a href="#section-3" class="nav-link">Section 3: Editor - Visual & IME</a></li>
            <li><a href="#section-4" class="nav-link">Section 4: Drag & Drop Visual</a></li>
            <li><a href="#section-5" class="nav-link">Section 5: Classic UX Anchors</a></li>
            <li><a href="#section-6" class="nav-link">Section 6: Notes Drag & Drop</a></li>
            <li><a href="#section-7" class="nav-link">Section 7: UI/UX Elements & Accessibility</a></li>
            <li><a href="#section-8" class="nav-link">Section 8: Export Functionality</a></li>
            <li><a href="#section-9" class="nav-link">Section 9: Performance & Edge Cases</a></li>
            <li><a href="#section-10" class="nav-link">Section 10: Round-Trip Validation (test-small)</a></li>
            <li><a href="#section-11" class="nav-link">Section 11: Operations & Conflict Resolution</a></li>
            <li><a href="#section-12" class="nav-link">Section 12: Color Coding & Visual Organization</a></li>
            <li><a href="#section-13" class="nav-link">Section 13: Search Functionality</a></li>
            <li><a href="#section-14" class="nav-link">Section 14: Goals & Daily Writing Targets</a></li>
            <li><a href="#section-15" class="nav-link">Section 15: Notes CRUD Operations</a></li>
            <li><a href="#section-16" class="nav-link">Section 16: Visibility Gating & Performance</a></li>
            <li><a href="#section-17" class="nav-link">Section 17: Rate Limiting & Error Handling</a></li>
            <li><a href="#section-18" class="nav-link">Section 18: Visual Regression Testing</a></li>
            <li><a href="#summary" class="nav-link">Testing Summary</a></li>
          </ul>
        </nav>
      </aside>

      <div class="docs-content">
        <nav class="docs-nav">
          <a href="/stories.html" id="storiesNavLink" class="btn-secondary" style="display: none;">My Stories</a>
          <a href="/docs.html" class="btn-secondary">Docs</a>
          <a href="/" id="loginNavLink" class="btn-secondary">Back to Login</a>
        </nav>
        <div class="workbook-intro" id="intro">
          <h1>Yarny React Migration - Manual Testing Workbook</h1>
          <p>This workbook guides you through the <strong>manual testing</strong> required after the React migration is complete. Most functional tests are now automated and run continuously in CI/CD.</p>
          <p><strong>Note:</strong> This workbook focuses on tests that require human judgment, visual verification, or subjective evaluation. Automated tests cover functional correctness, data persistence, calculations, and performance metrics.</p>
          <div class="note-box" style="margin-top: var(--space-lg);">
            <p><strong>Automated Testing:</strong> Functional tests (authentication, CRUD operations, data persistence, calculations, search, export, conflict resolution, etc.) are automated using Playwright and React Testing Library. These tests run on every PR and deployment.</p>
            <p><strong>React App Test Updates:</strong> E2E tests in <code>tests/e2e/</code> are being updated for React app compatibility. A test helper utility (<code>tests/utils/react-app-helpers.ts</code>) has been created to support React app testing. Some tests may still target the classic app structure - see individual test files for current status.</p>
          </div>
          <div class="note-box" style="margin-top: var(--space-lg); background: rgba(34, 197, 94, 0.1); border-left: 4px solid #22C55E;">
            <p><strong>Phase 5 Automated Test Infrastructure (Completed):</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>✅ <strong>Test Helper Utility:</strong> Created <code>tests/utils/react-app-helpers.ts</code> with utilities for:
                <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                  <li>Setting up React app API mocks (normalized payload structure)</li>
                  <li>Navigating to React app routes (<code>/react/editor</code>, <code>/react/stories</code>)</li>
                  <li>Handling story selection (via localStorage or UI clicks)</li>
                  <li>Waiting for story load and getting React editor elements</li>
                </ul>
              </li>
              <li>✅ <strong>Example Test File:</strong> Created <code>tests/e2e/conflict-resolution-react.spec.ts</code> as a template for React app tests</li>
              <li>✅ <strong>API Mock Structure:</strong> Helper mocks React app's normalized payload structure (projects, stories, chapters, snippets)</li>
              <li>⏳ <strong>Remaining Test Updates:</strong> Update chapter-snippet-management, color-coding, and goals test files to use React app structure</li>
            </ul>
            <p style="margin-top: var(--space-md);"><strong>Manual Verification Required:</strong> Until all E2E tests are updated, use the manual testing steps in Sections 11, 12, and 14 to verify Phase 5 features work correctly in the React app at <code>/react/editor</code>.</p>
          </div>
          <div class="note-box" style="margin-top: var(--space-lg);">
            <p><strong>Test Corpus:</strong> For comprehensive testing, use the "Yarny Test Corpus" folder in Google Drive, which contains three project sizes (small, medium, large) with sample data. Start with the small project for basic tests, then use medium and large projects for performance and edge case testing.</p>
          </div>
        </div>

        <!-- Section 0: Test Corpus Setup -->
        <div class="test-section" id="section-0">
          <h2><i class="material-icons">folder</i> Section 0: Test Corpus Setup</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">Before running comprehensive tests, set up the test corpus in Google Drive. This provides standardized test data for validating all functionality across different project sizes.</p>
        
        <div class="test-item">
          <h4>Setup 0.1: Generate Test Corpus Files (If Not Already Done)</h4>
          <p>Generate the test corpus files locally. This only needs to be done once, or if you need to regenerate the files.</p>
          <div class="test-steps">
            <ol>
              <li>Open a terminal in the project root directory</li>
              <li>Navigate to the test-corpus directory: <code>cd test-corpus</code></li>
              <li>Run the generation script: <code>node generate-test-corpus.js</code></li>
              <li>Verify files are created:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><code>test-medium/</code> directory with chapters, people, places, things folders</li>
                  <li><code>test-large/</code> directory with chapters, people, places, things folders</li>
                  <li>Metadata files: <code>test-medium/metadata.json</code> and <code>test-large/metadata.json</code></li>
                </ul>
              </li>
              <li>Verify file counts:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>test-medium: ~110 files (80 chapter snippets + 30 notes)</li>
                  <li>test-large: ~505 files (430 chapter snippets + 75 notes, including Chapter 13 with 55 snippets)</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-1" name="setup-0-1">
            <label for="setup-0-1">Test corpus files generated successfully</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.2: Create Google Drive Test Corpus Folder</h4>
          <p>Create the main test corpus folder in Google Drive and set up the folder structure.</p>
          <div class="test-steps">
            <ol>
              <li>Open Google Drive in your browser</li>
              <li>Create a new folder named <strong>"Yarny Test Corpus"</strong> (exact name is important)</li>
              <li>Note the folder ID from the URL (you'll need this later)</li>
              <li>Share the folder with the engineering team (set appropriate permissions)</li>
              <li>Verify the folder is accessible to all team members</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-2" name="setup-0-2">
            <label for="setup-0-2">Google Drive test corpus folder created and shared</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.3: Upload test-small Project</h4>
          <p>Upload the small test project (sample-project) to Google Drive. This is the simplest project for basic smoke tests.</p>
          <div class="test-steps">
            <ol>
              <li>In Google Drive, navigate to the "Yarny Test Corpus" folder</li>
              <li>Create a new folder named <strong>"test-small"</strong></li>
              <li>Inside test-small, create the story folder structure:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Create <strong>"Chapters"</strong> folder</li>
                  <li>Create <strong>"People"</strong> folder</li>
                  <li>Create <strong>"Places"</strong> folder</li>
                  <li>Create <strong>"Things"</strong> folder</li>
                </ul>
              </li>
              <li>Upload files from <code>test-corpus/sample-project/stories/</code>:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Upload as Google Docs (not plain text files)</li>
                  <li>Create appropriate chapter folders if needed</li>
                </ul>
              </li>
              <li>Create <code>project.json</code>, <code>data.json</code>, and <code>goal.json</code> files in the story folder (use structure from <code>src/utils/storyCreation.ts</code> as reference)</li>
              <li>Note the story folder ID for later use</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-3" name="setup-0-3">
            <label for="setup-0-3">test-small project uploaded to Google Drive</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.4: Upload test-medium Project</h4>
          <p>Upload the medium test project to Google Drive. This project has 10 chapters, 80 snippets, and 30 notes for realistic performance testing. <strong>Time estimate: 30-60 minutes</strong>.</p>
          
          <div class="note-box" style="margin-bottom: var(--space-lg);">
            <p><strong>Prerequisites:</strong> Before starting, ensure local files are generated. Run <code>node test-corpus/generate-test-corpus.js</code> if not already done. Verify files exist in <code>test-corpus/test-medium/</code>.</p>
          </div>

          <div class="test-steps">
            <ol>
              <li><strong>Verify local files are generated:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to <code>test-corpus/test-medium/</code> in terminal</li>
                  <li>Verify: <code>ls chapters/</code> shows 10 chapter directories (chapter-1 through chapter-10)</li>
                  <li>Verify: <code>find chapters -name "*.txt" | wc -l</code> shows 80 snippet files</li>
                  <li>Verify: <code>find people places things -name "*.txt" | wc -l</code> shows 30 note files</li>
                  <li>Verify: <code>metadata.json</code> exists</li>
                </ul>
              </li>
              <li><strong>Create story folder in Google Drive:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open Google Drive: https://drive.google.com</li>
                  <li>Navigate to or create the "Yarny Test Corpus" folder</li>
                  <li>Click "New" → "Folder"</li>
                  <li>Name it: <strong>"test-medium"</strong> (or "The Chronicles of Test Medium" to match story title)</li>
                  <li>Click "Create"</li>
                  <li><strong>Record the folder ID:</strong> Right-click folder → "Get link" → Extract ID from URL (string between <code>/folders/</code> and next <code>/</code> or <code>?</code>)</li>
                  <li>Save this ID - you'll need it to update metadata.json later</li>
                </ul>
              </li>
              <li><strong>Create folder structure:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>In the <code>test-medium</code> folder, create:</li>
                  <li>"Chapters" folder (click "New" → "Folder")</li>
                  <li>Inside "Chapters", create 10 chapter subfolders:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Chapter 1, Chapter 2, Chapter 3, ... Chapter 10</li>
                    </ul>
                  </li>
                  <li>In <code>test-medium</code> folder (same level as "Chapters"), create:</li>
                  <li>"People" folder, "Places" folder, "Things" folder</li>
                </ul>
              </li>
              <li><strong>Upload chapter snippets as Google Docs:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><strong>For Chapter 1:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-medium/Chapters/Chapter 1/</code></li>
                      <li>Click "New" → "File upload"</li>
                      <li>Select all 8 snippet files from <code>test-corpus/test-medium/chapters/chapter-1/</code>:
                        <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                          <li>snippet-1-1.txt, snippet-1-2.txt, ..., snippet-1-8.txt</li>
                        </ul>
                      </li>
                      <li>Wait for upload to complete</li>
                    </ul>
                  </li>
                  <li><strong>Convert each .txt file to Google Doc:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Right-click on <code>snippet-1-1.txt</code> → "Open with" → "Google Docs"</li>
                      <li>This creates a Google Doc with the same content</li>
                      <li><strong>Delete the original .txt file</strong> (keep only the Google Doc)</li>
                      <li>Repeat for all 8 snippet files in Chapter 1</li>
                    </ul>
                  </li>
                  <li><strong>Repeat for all chapters:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Do the same process for Chapters 2-10</li>
                      <li>Each chapter should end up with 8 Google Docs (not .txt files)</li>
                      <li>Total: 10 chapters × 8 snippets = 80 Google Docs</li>
                    </ul>
                  </li>
                  <li><strong>Note:</strong> This process is time-consuming (80 files × conversion time). Consider using Google Drive API script for automation if you have API credentials.</li>
                </ul>
              </li>
              <li><strong>Upload notes as text files:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><strong>People notes:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-medium/People/</code></li>
                      <li>Click "New" → "File upload"</li>
                      <li>Select all 10 files from <code>test-corpus/test-medium/people/</code> (person-1.txt through person-10.txt)</li>
                      <li>Notes can remain as .txt files (they don't need to be Google Docs)</li>
                    </ul>
                  </li>
                  <li><strong>Places notes:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-medium/Places/</code></li>
                      <li>Upload all 10 files from <code>test-corpus/test-medium/places/</code> (place-1.txt through place-10.txt)</li>
                    </ul>
                  </li>
                  <li><strong>Things notes:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-medium/Things/</code></li>
                      <li>Upload all 10 files from <code>test-corpus/test-medium/things/</code> (thing-1.txt through thing-10.txt)</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><strong>Create project.json, data.json, and goal.json:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>In the <code>test-medium</code> folder, create these JSON files:</li>
                  <li><strong>project.json:</strong>
                    <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">{
  "id": "test-medium",
  "name": "Test Medium Project",
  "description": "Medium-sized test project for performance and realistic usage testing",
  "genre": "Fantasy",
  "wordGoal": 25000,
  "createdAt": "2025-01-08T00:00:00.000Z",
  "updatedAt": "2025-01-08T00:00:00.000Z"
}</pre>
                  </li>
                  <li><strong>data.json:</strong> (can be empty or use structure below - Yarny will populate it)
                    <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">{
  "chapters": [],
  "snippets": [],
  "people": [],
  "places": [],
  "things": []
}</pre>
                  </li>
                  <li><strong>goal.json:</strong>
                    <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">{
  "target": 25000,
  "deadline": "2025-12-31T23:59:59.000Z",
  "writingDays": [true, true, true, true, true, false, false],
  "daysOff": [],
  "mode": "elastic"
}</pre>
                  </li>
                  <li>These files can be created as Google Docs or uploaded as text files</li>
                </ul>
              </li>
              <li><strong>Update metadata.json with Drive folder IDs:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open <code>test-corpus/test-medium/metadata.json</code> in a text editor</li>
                  <li>Get folder IDs from Google Drive (right-click folder → "Get link" → extract ID from URL)</li>
                  <li>Replace <code>REPLACE_WITH_DRIVE_FOLDER_ID</code> placeholders with actual IDs:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li><code>project.driveFolderId</code> - The test-medium story folder ID</li>
                      <li><code>story.driveFolderId</code> - Same as project folder ID</li>
                      <li><code>chapters[].driveFolderId</code> - Each chapter folder ID (Chapter 1, Chapter 2, etc.)</li>
                    </ul>
                  </li>
                  <li>Save the updated metadata.json file</li>
                  <li><strong>Note:</strong> You don't need to update snippet IDs or note IDs - Yarny will discover these automatically</li>
                </ul>
              </li>
              <li><strong>Verify upload:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Check folder structure matches expected structure</li>
                  <li>Verify each chapter folder contains 8 Google Docs (not .txt files)</li>
                  <li>Verify People, Places, Things folders each contain 10 .txt files</li>
                  <li>Verify project.json, data.json, and goal.json exist</li>
                  <li>Test in Yarny:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Open Yarny app</li>
                      <li>The test-medium story should appear in the stories list</li>
                      <li>Click on the story to open it</li>
                      <li>Verify all 10 chapters appear</li>
                      <li>Verify all 80 snippets are accessible</li>
                      <li>Verify all 30 notes appear in the Notes sidebar</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-4" name="setup-0-4">
            <label for="setup-0-4">test-medium project uploaded to Google Drive (10 chapters, 80 snippets, 30 notes)</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.5: Upload test-large Project</h4>
          <p>Upload the large test project to Google Drive. This project has 25 chapters, 430 chapter snippets (including Chapter 13 with 55 snippets), and 75 notes for stress testing and export chunking validation. <strong>Time estimate: 2-4 hours</strong>.</p>
          
          <div class="note-box" style="margin-bottom: var(--space-lg);">
            <p><strong>Prerequisites:</strong> Before starting, ensure local files are generated. Run <code>node test-corpus/generate-test-corpus.js</code> if not already done. Verify files exist in <code>test-corpus/test-large/</code>.</p>
          </div>

          <div class="test-steps">
            <ol>
              <li><strong>Verify local files are generated:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to <code>test-corpus/test-large/</code> in terminal</li>
                  <li>Verify: <code>ls chapters/</code> shows 25 chapter directories (chapter-1 through chapter-25)</li>
                  <li>Verify: <code>find chapters/chapter-13 -name "*.txt" | wc -l</code> shows 55 snippet files (critical for export chunking tests)</li>
                  <li>Verify: <code>find chapters/chapter-1 -name "*.txt" | wc -l</code> shows 15 snippet files (other chapters)</li>
                  <li>Verify: <code>find chapters -name "*.txt" | wc -l</code> shows 430 snippet files total</li>
                  <li>Verify: <code>find people places things -name "*.txt" | wc -l</code> shows 75 note files (25 each)</li>
                  <li>Verify: <code>metadata.json</code> exists</li>
                </ul>
              </li>
              <li><strong>Create story folder in Google Drive:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open Google Drive: https://drive.google.com</li>
                  <li>Navigate to or create the "Yarny Test Corpus" folder</li>
                  <li>Click "New" → "Folder"</li>
                  <li>Name it: <strong>"test-large"</strong> (or "The Epic Saga of Test Large" to match story title)</li>
                  <li>Click "Create"</li>
                  <li><strong>Record the folder ID:</strong> Right-click folder → "Get link" → Extract ID from URL (string between <code>/folders/</code> and next <code>/</code> or <code>?</code>)</li>
                  <li>Save this ID - you'll need it to update metadata.json later</li>
                </ul>
              </li>
              <li><strong>Create folder structure:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>In the <code>test-large</code> folder, create:</li>
                  <li>"Chapters" folder (click "New" → "Folder")</li>
                  <li>Inside "Chapters", create 25 chapter subfolders:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Chapter 1, Chapter 2, Chapter 3, ... Chapter 25</li>
                      <li><strong>Tip:</strong> Create them in batches to save time</li>
                    </ul>
                  </li>
                  <li>In <code>test-large</code> folder (same level as "Chapters"), create:</li>
                  <li>"People" folder, "Places" folder, "Things" folder</li>
                </ul>
              </li>
              <li><strong>Upload chapter snippets as Google Docs:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><strong>For regular chapters (1-12, 14-25) - 15 snippets each:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>For each chapter (e.g., Chapter 1):
                        <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                          <li>Navigate to <code>test-large/Chapters/Chapter 1/</code></li>
                          <li>Click "New" → "File upload"</li>
                          <li>Select all 15 snippet files from <code>test-corpus/test-large/chapters/chapter-1/</code> (snippet-1-1.txt through snippet-1-15.txt)</li>
                          <li>Wait for upload to complete</li>
                          <li>Right-click each .txt file → "Open with" → "Google Docs"</li>
                          <li><strong>Delete the original .txt file</strong> (keep only the Google Doc)</li>
                          <li>Repeat for all 15 snippet files</li>
                        </ul>
                      </li>
                      <li>Repeat this process for all 24 regular chapters (1-12, 14-25)</li>
                      <li>Total: 24 chapters × 15 snippets = 360 Google Docs</li>
                    </ul>
                  </li>
                  <li><strong>For Chapter 13 - 55 snippets (critical for export chunking tests):</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-large/Chapters/Chapter 13/</code></li>
                      <li>Click "New" → "File upload"</li>
                      <li>Select all 55 snippet files from <code>test-corpus/test-large/chapters/chapter-13/</code> (snippet-13-1.txt through snippet-13-55.txt)</li>
                      <li>Wait for upload to complete</li>
                      <li>Right-click each .txt file → "Open with" → "Google Docs"</li>
                      <li><strong>Delete the original .txt file</strong> (keep only the Google Doc)</li>
                      <li>Repeat for all 55 snippet files</li>
                      <li><strong>Verify:</strong> Chapter 13 should have exactly 55 Google Docs (this is critical for export chunking tests)</li>
                    </ul>
                  </li>
                  <li><strong>Total verification:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>According to the README: 25 chapters with 15 snippets each = 375 snippets, but Chapter 13 has 55 instead of 15 (40 extra), making total = 430 chapter snippets</li>
                      <li>However, verify the actual file count in your local <code>test-corpus/test-large/chapters/</code> directory matches the expected structure</li>
                      <li><strong>Important:</strong> The exact count may vary - the key requirement is that Chapter 13 has exactly 55 snippets for export chunking tests</li>
                      <li>Verify the final count matches what's expected in <code>test-corpus/test-large/metadata.json</code></li>
                    </ul>
                  </li>
                  <li><strong>Note:</strong> This process is very time-consuming (430+ files × conversion time). Consider using Google Drive API script for automation if you have API credentials. Alternatively, you can use a bulk conversion tool or script.</li>
                </ul>
              </li>
              <li><strong>Upload notes as text files:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><strong>People notes:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-large/People/</code></li>
                      <li>Click "New" → "File upload"</li>
                      <li>Select all 25 files from <code>test-corpus/test-large/people/</code> (person-1.txt through person-25.txt)</li>
                      <li>Notes can remain as .txt files (they don't need to be Google Docs)</li>
                    </ul>
                  </li>
                  <li><strong>Places notes:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-large/Places/</code></li>
                      <li>Upload all 25 files from <code>test-corpus/test-large/places/</code> (place-1.txt through place-25.txt)</li>
                    </ul>
                  </li>
                  <li><strong>Things notes:</strong>
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Navigate to <code>test-large/Things/</code></li>
                      <li>Upload all 25 files from <code>test-corpus/test-large/things/</code> (thing-1.txt through thing-25.txt)</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><strong>Create project.json, data.json, and goal.json:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>In the <code>test-large</code> folder, create these JSON files:</li>
                  <li><strong>project.json:</strong>
                    <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">{
  "id": "test-large",
  "name": "Test Large Project",
  "description": "Large test project for stress testing, virtualization validation, lazy loading, and export chunking",
  "genre": "Epic Fantasy",
  "wordGoal": 100000,
  "createdAt": "2025-01-08T00:00:00.000Z",
  "updatedAt": "2025-01-08T00:00:00.000Z"
}</pre>
                  </li>
                  <li><strong>data.json:</strong> (can be empty or use structure below - Yarny will populate it)
                    <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">{
  "chapters": [],
  "snippets": [],
  "people": [],
  "places": [],
  "things": []
}</pre>
                  </li>
                  <li><strong>goal.json:</strong>
                    <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">{
  "target": 100000,
  "deadline": "2026-12-31T23:59:59.000Z",
  "writingDays": [true, true, true, true, true, true, false],
  "daysOff": [],
  "mode": "strict"
}</pre>
                  </li>
                  <li>These files can be created as Google Docs or uploaded as text files</li>
                </ul>
              </li>
              <li><strong>Update metadata.json with Drive folder IDs:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open <code>test-corpus/test-large/metadata.json</code> in a text editor</li>
                  <li>Get folder IDs from Google Drive (right-click folder → "Get link" → extract ID from URL)</li>
                  <li>Replace <code>REPLACE_WITH_DRIVE_FOLDER_ID</code> placeholders with actual IDs:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li><code>project.driveFolderId</code> - The test-large story folder ID</li>
                      <li><code>story.driveFolderId</code> - Same as project folder ID</li>
                      <li><code>chapters[].driveFolderId</code> - Each chapter folder ID (Chapter 1, Chapter 2, ..., Chapter 25)</li>
                      <li><strong>Note:</strong> You'll need to update 25 chapter folder IDs - this can be time-consuming but is necessary for testing</li>
                    </ul>
                  </li>
                  <li>Save the updated metadata.json file</li>
                  <li><strong>Note:</strong> You don't need to update snippet IDs or note IDs - Yarny will discover these automatically</li>
                </ul>
              </li>
              <li><strong>Verify upload:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Check folder structure matches expected structure</li>
                  <li>Verify Chapter 13 contains exactly 55 Google Docs (critical for export chunking tests)</li>
                  <li>Verify other chapters contain the expected number of Google Docs (15 each, or as specified in metadata.json)</li>
                  <li>Verify total chapter snippets = 430 (or as specified in metadata.json)</li>
                  <li>Verify People, Places, Things folders each contain 25 .txt files</li>
                  <li>Verify project.json, data.json, and goal.json exist</li>
                  <li>Test in Yarny:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Open Yarny app</li>
                      <li>The test-large story should appear in the stories list</li>
                      <li>Click on the story to open it</li>
                      <li>Verify all 25 chapters appear</li>
                      <li>Verify all 430+ snippets are accessible</li>
                      <li>Verify Chapter 13 has 55 snippets (check the snippet count)</li>
                      <li>Verify all 75 notes appear in the Notes sidebar</li>
                      <li>Test export functionality with Chapter 13 to verify chunking works correctly</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Critical:</strong> Chapter 13 must have exactly 55 snippets to properly test export chunking functionality. This is essential for validating that large chapter exports handle Google Docs API body size limits correctly. Without this, export chunking tests will fail.</p>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Time-saving tips:</strong> This upload process is very time-consuming due to the large number of files (430+ chapter snippets). Consider:
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                <li>Using Google Drive API scripts to automate file upload and conversion</li>
                <li>Uploading in batches and taking breaks</li>
                <li>Focusing on test-medium first if you need quicker validation</li>
                <li>Using bulk upload tools if available</li>
              </ul>
            </p>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-5" name="setup-0-5">
            <label for="setup-0-5">test-large project uploaded to Google Drive (25 chapters, 430 chapter snippets including Chapter 13 with 55 snippets, 75 notes)</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.6: Update Environment Variables</h4>
          <p>Configure environment variables to point to the test corpus folder in Google Drive.</p>
          <div class="test-steps">
            <ol>
              <li>Get the Google Drive folder ID for "Yarny Test Corpus":
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open the folder in Google Drive</li>
                  <li>Copy the folder ID from the URL (the long string after <code>/folders/</code>)</li>
                </ul>
              </li>
              <li>Update your local <code>.env</code> file (or Netlify environment variables):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Add or update: <code>VITE_TEST_CORPUS_FOLDER_ID=your-folder-id-here</code></li>
                </ul>
              </li>
              <li>If using Netlify, update environment variables in the Netlify dashboard:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Go to Site settings → Environment variables</li>
                  <li>Add or update <code>VITE_TEST_CORPUS_FOLDER_ID</code> with the folder ID</li>
                </ul>
              </li>
              <li>Verify the environment variable is set correctly</li>
              <li>Restart the development server if running locally</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-6" name="setup-0-6">
            <label for="setup-0-6">Environment variables configured with test corpus folder ID</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.7: Update Metadata Files with Drive IDs</h4>
          <p>Update the metadata.json files with actual Google Drive folder and file IDs for use in tests and MSW handlers.</p>
          <div class="test-steps">
            <ol>
              <li>For each test project (test-small, test-medium, test-large):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open the <code>metadata.json</code> file in the test-corpus directory</li>
                  <li>Replace <code>REPLACE_WITH_DRIVE_FOLDER_ID</code> placeholders with actual Drive folder IDs</li>
                  <li>Update story folder IDs</li>
                  <li>Update chapter folder IDs (if needed for your test setup)</li>
                  <li>Update snippet file IDs (if needed for your test setup)</li>
                </ul>
              </li>
              <li>Save the updated metadata files</li>
              <li>Verify the IDs are correct by checking in Google Drive</li>
              <li>Document the IDs for the engineering team (or commit to a shared location)</li>
            </ol>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Note:</strong> The metadata files are used by MSW handlers and test fixtures. Keeping them up to date ensures tests can reference the correct Drive resources.</p>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-7" name="setup-0-7">
            <label for="setup-0-7">Metadata files updated with actual Drive folder and file IDs</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Setup 0.8: Verify Test Corpus Structure</h4>
          <p>Verify that all test corpus projects are properly set up and accessible.</p>
          <div class="test-steps">
            <ol>
              <li>In Google Drive, navigate to "Yarny Test Corpus" folder</li>
              <li>Verify all three project folders exist: test-small, test-medium, test-large</li>
              <li>For each project, verify the structure:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapters folder exists with chapter subfolders</li>
                  <li>People, Places, Things folders exist with note files</li>
                  <li>project.json, data.json, and goal.json files exist in the story folder</li>
                </ul>
              </li>
              <li>Verify file counts:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>test-small: Basic structure (2+ snippets)</li>
                  <li>test-medium: 10 chapters × 8 snippets = 80 chapter snippets + 30 notes = 110 files</li>
                  <li>test-large: 25 chapters (Chapter 13 has 55, others have 15) = 430 chapter snippets + 75 notes = 505 files</li>
                </ul>
              </li>
              <li>Verify Chapter 13 in test-large has 55 snippets (critical for export chunking tests)</li>
              <li>Test accessing the projects in Yarny:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open Yarny and navigate to the test corpus stories</li>
                  <li>Verify stories load correctly</li>
                  <li>Verify chapters and snippets are visible</li>
                  <li>Verify notes are accessible</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="setup-0-8" name="setup-0-8">
            <label for="setup-0-8">Test corpus structure verified and accessible in Yarny</label>
          </div>
        </div>

        <div class="note-box" style="margin-top: var(--space-2xl);">
          <p><strong>Test Corpus Usage:</strong> Once set up, use these test projects for comprehensive testing:</p>
          <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
            <li><strong>test-small:</strong> Fast smoke tests, basic operations, format normalization, IME composition, RTL handling</li>
            <li><strong>test-medium:</strong> Realistic project size, performance testing, export operations</li>
            <li><strong>test-large:</strong> Stress testing, virtualization validation, lazy loading, export chunking (especially Chapter 13 with 50+ snippets)</li>
          </ul>
        </div>
      </div>

        <!-- Note: Authentication and Story Management tests are fully automated -->
        <!-- 
          Logical Testing Order (sections are now numbered in this order):
          1. Section 0: Test Corpus Setup (prerequisite)
          2. Section 1: Smoke Tests & Infrastructure (verify environment)
          3. Section 2: Google Drive Integration (foundational dependency)
          4. Section 3: Editor Testing (core editing functionality)
          5. Section 4: Drag & Drop (editor interaction)
          6. Section 5: Classic UX Anchors (UI consistency)
          7. Section 6: Notes Drag & Drop (notes functionality)
          8. Section 7: UI/UX Elements (general UI)
          9. Section 8: Export (depends on having content)
          10. Section 9: Performance & Edge Cases (stress testing)
          11. Section 10: Round-Trip Validation (comprehensive end-to-end)
          12. Section 11: Operations & Conflict Resolution (CRUD and sync validation)
        -->

        <!-- Section 3: Editor - Visual & IME Testing -->
        <div class="test-section" id="section-3">
          <h2><i class="material-icons">edit</i> Section 3: Editor - Visual & IME Testing</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">These tests require visual verification or human judgment. Functional editor tests (open snippet, edit content, auto-save, word count) are automated.</p>
        
        <div class="test-item">
          <h4>Test 1.1: Plain Text Only (No Rich Formatting) - Visual Verification</h4>
          <p>Verify that the editor only supports plain text (no bold, italic, colors, etc.) and preserves paragraph/line breaks correctly.</p>
          <div class="test-steps">
            <ol>
              <li>Type some text in the editor</li>
              <li>Try to make text bold (Ctrl+B or Cmd+B) - it should NOT work</li>
              <li>Try to make text italic (Ctrl+I or Cmd+I) - it should NOT work</li>
              <li>Paste rich text from another document</li>
              <li>Verify the formatting is stripped and only plain text remains</li>
              <li>Test paragraph breaks: Press Enter twice to create a paragraph break</li>
              <li>Verify paragraph breaks (double Enter) create proper spacing between paragraphs</li>
              <li>Test soft line breaks: Press Shift+Enter to create a line break within a paragraph</li>
              <li>Verify single line breaks (Shift+Enter) work correctly without creating new paragraphs</li>
              <li>Save the snippet and open it in Google Docs</li>
              <li>Verify paragraph breaks and line breaks are preserved correctly in Google Docs</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-1-1" name="test-1-1">
            <label for="test-1-1">Editor only supports plain text and preserves paragraph/line breaks correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 1.2: IME Composition Handling (Japanese/Chinese/Korean Input)</h4>
          <p>Verify that the editor handles IME (Input Method Editor) composition correctly for Japanese, Chinese, and Korean text input.</p>
          <div class="test-steps">
            <ol>
              <li>Enable Japanese IME on your computer (or use browser dev tools to simulate)</li>
              <li>Open a snippet in the Yarny editor</li>
              <li>Start typing in Japanese (e.g., "こんにちは" - konnichiwa)</li>
              <li>While composing (before pressing Enter to confirm), verify word count does NOT update prematurely</li>
              <li>Complete the IME composition (press Enter to confirm)</li>
              <li>Verify word count updates only after composition ends</li>
              <li>Verify save debouncing respects composition (doesn't save during composition)</li>
              <li>Repeat with Chinese text (e.g., "你好" - nǐ hǎo)</li>
              <li>Repeat with Korean text (e.g., "안녕하세요" - annyeonghaseyo)</li>
              <li>Verify all IME compositions work correctly</li>
              <li>Save the snippet and verify the text is preserved correctly</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-1-2" name="test-1-2">
            <label for="test-1-2">IME composition handling works correctly for Japanese/Chinese/Korean input</label>
          </div>
        </div>

          <div class="test-item">
            <h4>Test 1.3: Right-to-Left (RTL) Snippet Display</h4>
            <p>Verify that snippets containing right-to-left languages (Arabic, Hebrew, etc.) render correctly in the editor.</p>
            <div class="test-steps">
              <ol>
                <li>Create or open a snippet containing RTL text (e.g., Arabic or Hebrew)</li>
                <li><strong>Verify layout:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Text aligns to the right edge</li>
                    <li>Paragraph direction is RTL (punctuation appears on correct side)</li>
                    <li>Mixed RTL/LTR content displays correctly</li>
                  </ul>
                </li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Save the snippet in Yarny</li>
                    <li>Open the corresponding Google Doc</li>
                    <li>Confirm RTL text is preserved</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-1-3" name="test-1-3">
              <label for="test-1-3">RTL snippets display correctly in the editor</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 1.4: RTL Caret Movement & Navigation</h4>
            <p>Verify that keyboard navigation behaves correctly while editing RTL snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Open the RTL snippet from Test 1.3</li>
                <li>Place the caret within the RTL text</li>
                <li><strong>Verify arrow keys:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Left arrow moves caret visually to the left (toward sentence end)</li>
                    <li>Right arrow moves caret visually to the right (toward sentence start)</li>
                    <li>Home/End keys move to start/end of RTL line correctly</li>
                  </ul>
                </li>
                <li><strong>Verify selection:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Shift+Arrow extends selection in expected direction</li>
                    <li>Selected text highlights correctly without reversing characters</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-1-4" name="test-1-4">
              <label for="test-1-4">Caret movement and selection work correctly in RTL snippets</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 1.5: RTL Word Count & Normalization</h4>
            <p>Verify that word counting and normalization logic handle RTL content correctly.</p>
            <div class="test-steps">
              <ol>
                <li>In the RTL snippet, type additional RTL words and punctuation</li>
                <li>Observe word count in footer and daily tally</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Word count increases correctly for RTL words</li>
                    <li>No unexpected extra spaces or reversed characters appear</li>
                  </ul>
                </li>
                <li>Paste RTL text from an external source (Google Docs or Word)</li>
                <li><strong>Verify normalization:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Formatting is normalized to plain text</li>
                    <li>Directionality remains RTL</li>
                    <li>No stray LTR characters appear at line edges</li>
                  </ul>
                </li>
                <li>Save the snippet and confirm Google Docs copy matches exactly</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-1-5" name="test-1-5">
              <label for="test-1-5">RTL words count correctly and pasted content normalizes as expected</label>
            </div>
          </div>

      </div>

        <!-- Section 4: Drag & Drop Visual Testing -->
        <div class="test-section" id="section-4">
          <h2><i class="material-icons">folder</i> Section 4: Drag & Drop Visual Testing</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">These tests require visual verification of drag & drop feedback. Functional drag & drop operations (create, rename, delete chapters/snippets) are automated.</p>
        
        <div class="test-item">
          <h4>Test 4.1: Drag & Drop Reorder Chapters - Visual Feedback</h4>
          <p>Verify that you can reorder chapters by dragging and dropping.</p>
          <div class="test-steps">
            <ol>
              <li>Click and hold on a chapter in the left sidebar</li>
              <li>Drag it up or down to a new position</li>
              <li>Release to drop it</li>
              <li>Verify the chapter moves to the new position</li>
              <li>Refresh the page</li>
              <li>Verify the chapter order is preserved</li>
              <li>Verify the order is saved in Google Drive</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-2-1" name="test-2-1">
            <label for="test-2-1">I can reorder chapters by dragging and dropping</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 4.2: Drag & Drop Reorder Snippets - Visual Feedback</h4>
          <p>Verify that you can reorder snippets within a chapter by dragging and dropping.</p>
          <div class="test-steps">
            <ol>
              <li>Click and hold on a snippet in the left sidebar</li>
              <li>Drag it up or down within the same chapter</li>
              <li>Release to drop it</li>
              <li>Verify the snippet moves to the new position</li>
              <li>Refresh the page</li>
              <li>Verify the snippet order is preserved</li>
              <li>Verify the order is saved in Google Drive</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-2-2" name="test-2-2">
            <label for="test-2-2">I can reorder snippets by dragging and dropping</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 4.3: Drag & Drop Move Snippet Between Chapters - Visual Feedback</h4>
          <p>Verify that you can move a snippet from one chapter to another by dragging and dropping.</p>
          <div class="test-steps">
            <ol>
              <li>Click and hold on a snippet</li>
              <li>Drag it to a different chapter</li>
              <li>Release to drop it</li>
              <li>Verify the snippet moves to the new chapter</li>
              <li>Verify the snippet disappears from the old chapter</li>
              <li>Refresh the page</li>
              <li>Verify the snippet is still in the new chapter</li>
              <li>Verify the Google Doc is moved to the new chapter folder in Google Drive</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-2-3" name="test-2-3">
            <label for="test-2-3">I can move snippets between chapters by dragging and dropping</label>
          </div>
        </div>

      </div>

        <!-- Note: Sections 5 and 6 (Color Coding, Search) are fully automated -->

        <!-- Section 5: Classic UX Anchors - Visual Parity -->
        <div class="test-section" id="section-5">
          <h2><i class="material-icons">track_changes</i> Section 5: Classic UX Anchors - Visual Parity</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">These tests require side-by-side visual comparison between the classic app (root) and React app (`/react`) to verify design parity. This is <strong>REQUIRED before closing the editor phase</strong>. Functional goal tests (set goal, calculations, updates) are automated.</p>
        
          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting visual parity checks:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>React app deployed to <code>/react</code> path (verify <code>netlify.toml</code> is configured)</li>
              <li>Build completed successfully (React app builds to <code>dist/</code> with <code>/react/</code> base path)</li>
              <li>Both apps accessible: Classic app at root (<code>/editor.html</code>), React app at <code>/react/editor</code></li>
              <li>Same test data loaded in both apps (same story, same goals, same content)</li>
              <li>Browser setup: Open both apps side-by-side or use browser dev tools for comparison</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 5.1: Setup - Deploy React App to /react Path</h4>
            <p>Verify that the React app is properly deployed to the <code>/react</code> path for side-by-side comparison. This is a <strong>REQUIRED</strong> step before visual parity checks.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Verify netlify.toml configuration:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open <code>netlify.toml</code> in the project root</li>
                    <li>Verify a redirect rule exists for <code>/react/*</code>:
                      <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0; overflow-x: auto; font-size: 0.9em;">[[redirects]]
  from = "/react/*"
  to = "/react/index.html"
  status = 200</pre>
                    </li>
                    <li>If the redirect rule is missing, add it to <code>netlify.toml</code></li>
                  </ul>
                </li>
                <li><strong>Verify vite.config.ts configuration:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open <code>vite.config.ts</code> in the project root</li>
                    <li>Verify <code>base: "/react/"</code> is set in the config</li>
                    <li>Verify <code>build.outDir: "dist"</code> is set</li>
                    <li>If missing, update the configuration</li>
                  </ul>
                </li>
                <li><strong>Verify src/app/routes.tsx configuration:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open <code>src/app/routes.tsx</code></li>
                    <li>Verify <code>basename: "/react"</code> is set in <code>createBrowserRouter</code></li>
                    <li>If missing, add it to the router configuration</li>
                  </ul>
                </li>
                <li><strong>Build the React app:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Run <code>npm run build</code> in the project root</li>
                    <li>Verify build completes without errors</li>
                    <li>Verify post-build script runs (moves React build to <code>dist/react/</code>)</li>
                  </ul>
                </li>
                <li><strong>Verify build output structure:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Check that <code>dist/react/index.html</code> exists</li>
                    <li>Check that <code>dist/react/assets/</code> directory exists</li>
                    <li>Verify classic app files remain in <code>dist/</code> (not moved)</li>
                    <li>Open <code>dist/react/index.html</code> and verify asset paths start with <code>/react/</code></li>
                  </ul>
                </li>
                <li><strong>Deploy to Netlify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Push changes to trigger deployment, or</li>
                    <li>Use <code>netlify deploy --build --prod</code> for production deployment</li>
                    <li>Wait for deployment to complete</li>
                  </ul>
                </li>
                <li><strong>Verify deployment:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li><strong>Check React app accessibility:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Navigate to <code>https://yarny.lindsaybrunner.com/react/</code></li>
                        <li>Confirm React app loads correctly (no 404 errors)</li>
                        <li>Check browser console for any JavaScript errors</li>
                        <li>Verify React app renders (not blank page)</li>
                      </ul>
                    </li>
                    <li><strong>Test React Router routes:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Navigate to <code>/react/stories</code> - should load stories page</li>
                        <li>Navigate to <code>/react/editor</code> - should load editor page</li>
                        <li>Navigate to <code>/react/login</code> - should load login page</li>
                        <li>Verify all routes work without page refresh (SPA navigation)</li>
                      </ul>
                    </li>
                    <li><strong>Verify assets load correctly:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Open browser DevTools → Network tab</li>
                        <li>Reload page and check asset requests</li>
                        <li>Verify all <code>/react/assets/</code> requests return 200 status codes</li>
                        <li>Check for any 404 errors on asset requests</li>
                        <li>Verify CSS and JS files load correctly</li>
                      </ul>
                    </li>
                    <li><strong>Test React Router navigation:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Click navigation links in the app</li>
                        <li>Verify URL changes to <code>/react/...</code> paths</li>
                        <li>Test browser back/forward buttons</li>
                        <li>Test direct URL navigation (type URL in address bar)</li>
                        <li>Verify no full page reloads occur (SPA behavior)</li>
                      </ul>
                    </li>
                    <li><strong>Verify authentication works:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Test login flow in React app</li>
                        <li>Verify protected routes redirect to login when not authenticated</li>
                        <li>Verify authenticated routes load correctly after login</li>
                      </ul>
                    </li>
                    <li><strong>Check for console errors:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Open browser DevTools → Console tab</li>
                        <li>Check for any red error messages</li>
                        <li>Check for any yellow warning messages</li>
                        <li>Document any errors or warnings found</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><strong>Verify classic app still works:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Navigate to <code>https://yarny.lindsaybrunner.com/editor.html</code></li>
                    <li>Confirm classic app loads correctly</li>
                    <li>Verify both apps can be accessed simultaneously</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-5-1" name="test-5-1">
              <label for="test-5-1">React app deployed to /react path and accessible, classic app still works</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 5.2: Setup - Prepare Test Data for Comparison</h4>
            <p>Prepare the same test data in both apps for accurate visual comparison.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Select test story:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Use test-small or test-medium project</li>
                    <li>Open the same story in both classic and React apps</li>
                  </ul>
                </li>
                <li><strong>Set word count goal:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Set a goal (e.g., 3,000 words) with some progress</li>
                    <li>Ensure both apps show the same goal value</li>
                  </ul>
                </li>
                <li><strong>Set daily goal:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Configure daily writing goal with some progress</li>
                    <li>Ensure both apps show the same daily target</li>
                  </ul>
                </li>
                <li><strong>Add content:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Ensure story has content to display word/character counts</li>
                    <li>Select the same snippet in both apps</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-5-2" name="test-5-2">
              <label for="test-5-2">Test data prepared and synchronized between both apps</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 5.3: Goal Meter - Visual Parity Check (Side-by-Side)</h4>
            <p>Verify that the goal meter in the React app matches the classic app visually. This is a <strong>CRITICAL</strong> visual parity check. Document any differences with screenshots.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Open both apps side-by-side:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open classic app: <code>https://yarny.lindsaybrunner.com/editor.html</code></li>
                    <li>Open React app: <code>https://yarny.lindsaybrunner.com/react/editor</code></li>
                    <li>Arrange windows side-by-side (use browser window management or split screen)</li>
                    <li>Ensure both apps show the same story with the same goal settings</li>
                  </ul>
                </li>
                <li><strong>Take baseline screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Take a screenshot of the classic app's goal meter</li>
                    <li>Take a screenshot of the React app's goal meter</li>
                    <li>Save screenshots with descriptive names (e.g., <code>goal-meter-classic.png</code>, <code>goal-meter-react.png</code>)</li>
                    <li>Store screenshots in a shared location (e.g., project documentation folder)</li>
                  </ul>
                </li>
                <li><strong>Compare Goal Meter Position:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify goal meter appears in same position (below story header, above "Today" chip)</li>
                    <li>Verify spacing matches (margin-bottom: 12px)</li>
                  </ul>
                </li>
                <li><strong>Compare Goal Meter Layout:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify text and progress bar layout matches</li>
                    <li>Verify word count format matches (e.g., "1,500 / 3,000")</li>
                  </ul>
                </li>
                <li><strong>Compare Typography:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify font size matches (13px for text)</li>
                    <li>Verify font color matches (#6B7280 for secondary text)</li>
                    <li>Use browser dev tools to inspect computed styles</li>
                  </ul>
                </li>
                <li><strong>Compare Progress Bar:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify progress bar height matches (4px)</li>
                    <li>Verify progress bar color matches (green #10B981 when &lt; 100%, gold when &gt;= 100%)</li>
                    <li>Verify progress bar width matches (100% of container)</li>
                  </ul>
                </li>
                <li><strong>Compare Styling:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify background color/styling matches</li>
                    <li>Verify border radius and styling matches (if any)</li>
                    <li>Verify hover state matches (0.8 opacity on hover)</li>
                    <li>Verify cursor shows pointer on hover</li>
                  </ul>
                </li>
                <li><strong>Test Interaction:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Click on goal meter in both apps</li>
                    <li>Verify click handler works (opens goal editor if implemented)</li>
                    <li>Verify keyboard navigation works (if implemented)</li>
                  </ul>
                </li>
                <li><strong>Document Measurements:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Use browser dev tools to measure font sizes, spacing, colors</li>
                    <li>Record measurements in the notes section below</li>
                    <li>Compare measurements between classic and React apps</li>
                  </ul>
                </li>
                <li><strong>Take comparison screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Take a side-by-side screenshot showing both goal meters</li>
                    <li>Take close-up screenshots of any differences found</li>
                    <li>Save screenshots with descriptive names (e.g., <code>goal-meter-comparison.png</code>, <code>goal-meter-difference.png</code>)</li>
                  </ul>
                </li>
                <li><strong>Test different states:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Test with goal at 0% (no progress)</li>
                    <li>Test with goal at 50% (half progress)</li>
                    <li>Test with goal at 100% (complete - should show gold color)</li>
                    <li>Test with goal exceeded (over 100%)</li>
                    <li>Take screenshots for each state</li>
                    <li>Verify colors and styling match in all states</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Expected Measurements:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>Text font size: 13px</li>
                <li>Text color: #6B7280</li>
                <li>Progress bar height: 4px</li>
                <li>Progress bar color (&lt; 100%): #10B981</li>
                <li>Progress bar color (&gt;= 100%): #F59E0B</li>
                <li>Margin bottom: 12px</li>
              </ul>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-5-3" name="test-5-3">
              <label for="test-5-3">Goal meter visual parity verified - matches classic app</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Documentation Requirements:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>✅ Baseline screenshots taken (classic and React)</li>
                <li>✅ Comparison screenshots taken (side-by-side)</li>
                <li>✅ State screenshots taken (0%, 50%, 100%, exceeded)</li>
                <li>✅ Measurements recorded</li>
                <li>✅ Differences documented (if any)</li>
              </ul>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Record any differences, issues, or observations. Include screenshot file names.</p>
              <textarea style="width: 100%; min-height: 100px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record measurements, differences, screenshot file names, and any issues found..."></textarea>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 5.4: "Today" Chip - Visual Parity Check (Side-by-Side)</h4>
            <p>Verify that the "Today" chip in the React app matches the classic app visually. This is a <strong>CRITICAL</strong> visual parity check. Document any differences with screenshots.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Take baseline screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Take a screenshot of the classic app's "Today" chip</li>
                    <li>Take a screenshot of the React app's "Today" chip</li>
                    <li>Save screenshots with descriptive names (e.g., <code>today-chip-classic.png</code>, <code>today-chip-react.png</code>)</li>
                  </ul>
                </li>
                <li><strong>Compare "Today" Chip Position:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify "Today" chip appears in same position (below goal meter, above search)</li>
                    <li>Verify spacing matches (margin-bottom: 12px)</li>
                  </ul>
                </li>
                <li><strong>Compare Layout:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify horizontal layout with "Today" label, count, and progress bar matches</li>
                    <li>Verify container styling matches (padding: 8px 10px, border, background)</li>
                  </ul>
                </li>
                <li><strong>Compare Typography:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify "Today" label font size and color match</li>
                    <li>Verify word count font weight and size match (semibold, 12px)</li>
                    <li>Use browser dev tools to inspect computed styles</li>
                  </ul>
                </li>
                <li><strong>Compare Progress Bar:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify progress bar height matches (2px)</li>
                    <li>Verify progress bar max width matches (60px)</li>
                    <li>Verify progress bar color logic matches (green when ahead, red when behind, blue when on track)</li>
                  </ul>
                </li>
                <li><strong>Compare Styling:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify background color matches (rgba(255, 255, 255, 0.5))</li>
                    <li>Verify border style and color match (1px solid, border-color)</li>
                    <li>Verify border radius matches (var(--radius-lg))</li>
                    <li>Verify hover background color matches (rgba(255, 255, 255, 0.8))</li>
                    <li>Verify hover border color matches (var(--color-primary))</li>
                    <li>Verify cursor shows pointer on hover</li>
                  </ul>
                </li>
                <li><strong>Test Interaction:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Click on "Today" chip in both apps</li>
                    <li>Verify click handler works (opens goal editor if implemented)</li>
                    <li>Verify keyboard navigation works (if implemented)</li>
                  </ul>
                </li>
                <li><strong>Document Measurements:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Use browser dev tools to measure font sizes, spacing, colors</li>
                    <li>Record measurements in the notes section below</li>
                    <li>Compare measurements between classic and React apps</li>
                  </ul>
                </li>
                <li><strong>Take comparison screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Take a side-by-side screenshot showing both "Today" chips</li>
                    <li>Take close-up screenshots of any differences found</li>
                    <li>Save screenshots with descriptive names (e.g., <code>today-chip-comparison.png</code>)</li>
                  </ul>
                </li>
                <li><strong>Test different states:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Test with daily goal at 0% (no progress)</li>
                    <li>Test with daily goal at 50% (half progress)</li>
                    <li>Test with daily goal at 100% (complete)</li>
                    <li>Test with daily goal exceeded (over 100%)</li>
                    <li>Test "ahead" state (isAhead: true - should show green)</li>
                    <li>Test "behind" state (isBehind: true - should show red)</li>
                    <li>Test "on track" state (neither ahead nor behind - should show blue)</li>
                    <li>Take screenshots for each state</li>
                    <li>Verify colors and styling match in all states</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Expected Measurements:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>Container padding: 8px 10px</li>
                <li>Font size: 12px</li>
                <li>Progress bar height: 2px</li>
                <li>Progress bar max width: 60px</li>
                <li>Background color: rgba(255, 255, 255, 0.5)</li>
                <li>Border radius: var(--radius-lg)</li>
                <li>Margin bottom: 12px</li>
              </ul>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-5-4" name="test-5-4">
              <label for="test-5-4">"Today" chip visual parity verified - matches classic app</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Documentation Requirements:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>✅ Baseline screenshots taken (classic and React)</li>
                <li>✅ Comparison screenshots taken (side-by-side)</li>
                <li>✅ State screenshots taken (0%, 50%, 100%, ahead, behind, on track)</li>
                <li>✅ Measurements recorded</li>
                <li>✅ Differences documented (if any)</li>
              </ul>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Record any differences, issues, or observations. Include screenshot file names.</p>
              <textarea style="width: 100%; min-height: 100px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record measurements, differences, screenshot file names, and any issues found..."></textarea>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 5.5: Footer Counts (EditorFooter) - Visual Parity Check (Side-by-Side)</h4>
            <p>Verify that the footer word and character counts in the React app match the classic app visually. This is a <strong>CRITICAL</strong> visual parity check. Document any differences with screenshots.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Take baseline screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Take a screenshot of the classic app's footer counts</li>
                    <li>Take a screenshot of the React app's footer counts</li>
                    <li>Save screenshots with descriptive names (e.g., <code>footer-counts-classic.png</code>, <code>footer-counts-react.png</code>)</li>
                  </ul>
                </li>
                <li><strong>Compare Footer Position:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify footer appears at bottom of editor (grid-area: footer)</li>
                    <li>Verify footer height matches (44px)</li>
                  </ul>
                </li>
                <li><strong>Compare Layout:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify horizontal layout with word count and character count matches</li>
                    <li>Verify word count display format matches (e.g., "1,500 words")</li>
                    <li>Verify character count display format matches (e.g., "8,500 characters")</li>
                  </ul>
                </li>
                <li><strong>Compare Typography:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify font size matches (var(--font-size-xs))</li>
                    <li>Verify text color matches (var(--color-text-secondary))</li>
                    <li>Use browser dev tools to inspect computed styles</li>
                  </ul>
                </li>
                <li><strong>Compare Spacing:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify gap between word and character count matches</li>
                    <li>Verify text alignment matches (right-aligned in footer-right)</li>
                    <li>Verify padding matches (0 var(--space-md) for footer, py: 1.5 for counts)</li>
                  </ul>
                </li>
                <li><strong>Compare Styling:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Verify background color matches (var(--color-bg-secondary))</li>
                    <li>Verify top border matches (1px solid var(--color-border))</li>
                  </ul>
                </li>
                <li><strong>Document Measurements:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Use browser dev tools to measure font sizes, spacing, colors</li>
                    <li>Record measurements in the notes section below</li>
                    <li>Compare measurements between classic and React apps</li>
                  </ul>
                </li>
                <li><strong>Take comparison screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Take a side-by-side screenshot showing both footer counts</li>
                    <li>Take close-up screenshots of any differences found</li>
                    <li>Save screenshots with descriptive names (e.g., <code>footer-counts-comparison.png</code>)</li>
                  </ul>
                </li>
                <li><strong>Test different content lengths:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Test with empty content (0 words, 0 characters)</li>
                    <li>Test with small content (10 words, 50 characters)</li>
                    <li>Test with medium content (100 words, 500 characters)</li>
                    <li>Test with large content (1000+ words, 5000+ characters)</li>
                    <li>Test with very large numbers (10,000+ words - verify number formatting with commas)</li>
                    <li>Take screenshots for each content length</li>
                    <li>Verify number formatting matches (commas for thousands)</li>
                    <li>Verify text labels match ("words" vs "word", "characters" vs "character")</li>
                  </ul>
                </li>
                <li><strong>Test real-time updates:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Type in the editor in both apps</li>
                    <li>Verify counts update in real-time in both apps</li>
                    <li>Verify update timing matches (no lag in React app)</li>
                    <li>Take screenshots during typing to verify updates</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Expected Measurements:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>Footer height: 44px</li>
                <li>Font size: var(--font-size-xs)</li>
                <li>Text color: var(--color-text-secondary)</li>
                <li>Gap between counts: var(--space-md)</li>
                <li>Padding (horizontal): var(--space-md)</li>
              </ul>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-5-5" name="test-5-5">
              <label for="test-5-5">Footer counts visual parity verified - matches classic app</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Documentation Requirements:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>✅ Baseline screenshots taken (classic and React)</li>
                <li>✅ Comparison screenshots taken (side-by-side)</li>
                <li>✅ Content length screenshots taken (empty, small, medium, large, very large)</li>
                <li>✅ Real-time update screenshots taken</li>
                <li>✅ Measurements recorded</li>
                <li>✅ Differences documented (if any)</li>
              </ul>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Record any differences, issues, or observations. Include screenshot file names.</p>
              <textarea style="width: 100%; min-height: 100px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record measurements, differences, screenshot file names, and any issues found..."></textarea>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 5.6: Document Visual Differences with Screenshots</h4>
            <p>Create a comprehensive visual comparison document with screenshots showing all three UX anchors (Goal Meter, Today Chip, Footer Counts) side-by-side. This documentation is <strong>REQUIRED</strong> before closing the editor phase.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Organize screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Create a folder for visual parity documentation (e.g., <code>docs/visual-parity/</code>)</li>
                    <li>Organize screenshots by component (GoalMeter, TodayChip, EditorFooter)</li>
                    <li>Name files consistently (e.g., <code>goal-meter-classic.png</code>, <code>goal-meter-react.png</code>, <code>goal-meter-comparison.png</code>)</li>
                  </ul>
                </li>
                <li><strong>Create comparison document:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Create a markdown document (e.g., <code>docs/visual-parity/COMPARISON.md</code>)</li>
                    <li>Include sections for each component (Goal Meter, Today Chip, Footer Counts)</li>
                    <li>Add screenshots to the document with descriptive captions</li>
                  </ul>
                </li>
                <li><strong>Document each component:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li><strong>Goal Meter:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Include baseline screenshots (classic and React)</li>
                        <li>Include comparison screenshot (side-by-side)</li>
                        <li>Include state screenshots (0%, 50%, 100%, exceeded)</li>
                        <li>Document measurements (font size, colors, spacing)</li>
                        <li>Document any differences found</li>
                      </ul>
                    </li>
                    <li><strong>Today Chip:</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Include baseline screenshots (classic and React)</li>
                        <li>Include comparison screenshot (side-by-side)</li>
                        <li>Include state screenshots (ahead, behind, on track, 0%, 50%, 100%)</li>
                        <li>Document measurements (font size, colors, spacing)</li>
                        <li>Document any differences found</li>
                      </ul>
                    </li>
                    <li><strong>Footer Counts (EditorFooter):</strong>
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Include baseline screenshots (classic and React)</li>
                        <li>Include comparison screenshot (side-by-side)</li>
                        <li>Include content length screenshots (empty, small, medium, large, very large)</li>
                        <li>Document measurements (font size, colors, spacing)</li>
                        <li>Document any differences found</li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><strong>Create summary table:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Create a table comparing measurements between classic and React apps</li>
                    <li>Include columns: Component, Measurement, Classic Value, React Value, Match Status</li>
                    <li>Mark any differences in red or with a warning icon</li>
                  </ul>
                </li>
                <li><strong>Document any issues:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>List any visual differences found</li>
                    <li>Include screenshots showing the differences</li>
                    <li>Note severity (critical, minor, acceptable)</li>
                    <li>Create GitHub issues for critical differences</li>
                  </ul>
                </li>
                <li><strong>Share documentation:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Commit screenshots and comparison document to repository</li>
                    <li>Share with team for review</li>
                    <li>Update this workbook with results</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Documentation Checklist:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li>✅ Screenshots organized in dedicated folder</li>
                <li>✅ Comparison document created with all components</li>
                <li>✅ Baseline screenshots for each component (classic and React)</li>
                <li>✅ Side-by-side comparison screenshots</li>
                <li>✅ State screenshots (different progress levels, content lengths)</li>
                <li>✅ Measurements documented in table format</li>
                <li>✅ Differences documented with screenshots</li>
                <li>✅ GitHub issues created for critical differences (if any)</li>
                <li>✅ Documentation committed to repository</li>
              </ul>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-5-6" name="test-5-6">
              <label for="test-5-6">Visual differences documented with screenshots and comparison document created</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Record location of documentation, screenshot folder path, and any issues encountered</p>
              <textarea style="width: 100%; min-height: 80px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record documentation location, screenshot folder path, and any issues..."></textarea>
            </div>
          </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Visual Parity Validation Summary:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>Deployment to /react path:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Goal Meter:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>"Today" Chip:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Footer Counts (EditorFooter):</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Screenshot Documentation:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Overall Visual Parity:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
            </ul>
            <p style="margin-top: var(--space-md);"><strong>Note:</strong> All UX anchors must pass visual parity checks and be documented with screenshots before closing the editor phase.</p>
          </div>
      </div>

        <!-- Section 6: Notes Drag & Drop Visual Testing -->
        <div class="test-section" id="section-6">
          <h2><i class="material-icons">note</i> Section 6: Notes Drag & Drop Visual Testing</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This test requires visual verification of drag & drop feedback. Functional notes tests (create, edit, rename, delete) are automated.</p>
        
        <div class="test-item">
          <h4>Test 6.1: Reorder Notes (Drag & Drop) - Visual Feedback</h4>
          <p>Verify that you can reorder notes by dragging and dropping.</p>
          <div class="test-steps">
            <ol>
              <li>Click and hold on a note in the right sidebar</li>
              <li>Drag it up or down to a new position</li>
              <li>Release to drop it</li>
              <li>Verify the note moves to the new position</li>
              <li>Refresh the page</li>
              <li>Verify the note order is preserved</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-4-1" name="test-4-1">
            <label for="test-4-1">I can reorder notes by dragging and dropping</label>
          </div>
        </div>
      </div>

        <!-- Section 8: Export Functionality -->
        <div class="test-section" id="section-8">
          <h2><i class="material-icons">file_download</i> Section 8: Export Functionality</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">Export functionality depends on having content created and edited. Complete this section after basic editing and content creation tests.</p>
        
        <div class="test-item">
          <h4>Test 8.1: Export All Chapters</h4>
          <p>Verify that you can export all chapters as a single Google Doc.</p>
          <div class="test-steps">
            <ol>
              <li>In the editor, look for an "Export" button or menu</li>
              <li>Click it and select "Export All Chapters"</li>
              <li>Enter a filename for the export</li>
              <li>Optionally choose to include snippet names</li>
              <li>Click "Export"</li>
              <li>Verify a new Google Doc is created in the story folder in Google Drive</li>
              <li>Open the exported Google Doc</li>
              <li>Verify all chapters and snippets are included in order</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-5-1" name="test-5-1">
            <label for="test-5-1">I can export all chapters as a Google Doc</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.2: Export Outline</h4>
          <p>Verify that you can export an outline (chapter and snippet titles with descriptions).</p>
          <div class="test-steps">
            <ol>
              <li>Click "Export" and select "Export Outline"</li>
              <li>Enter a filename for the export</li>
              <li>Click "Export"</li>
              <li>Verify a new Google Doc is created in the story folder</li>
              <li>Open the exported Google Doc</li>
              <li>Verify it contains chapter titles, snippet titles, and descriptions</li>
              <li>Verify it does NOT contain snippet body content</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-5-2" name="test-5-2">
            <label for="test-5-2">I can export an outline with titles and descriptions</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.3: Export All People</h4>
          <p>Verify that you can export all People notes as a single Google Doc.</p>
          <div class="test-steps">
            <ol>
              <li>Click "Export" and select "Export All People"</li>
              <li>Enter a filename for the export</li>
              <li>Click "Export"</li>
              <li>Verify a new Google Doc is created in the story folder</li>
              <li>Open the exported Google Doc</li>
              <li>Verify it contains all People notes with their content</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-5-3" name="test-5-3">
            <label for="test-5-3">I can export all People notes</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.4: Export All Places</h4>
          <p>Verify that you can export all Places notes as a single Google Doc.</p>
          <div class="test-steps">
            <ol>
              <li>Click "Export" and select "Export All Places"</li>
              <li>Enter a filename for the export</li>
              <li>Click "Export"</li>
              <li>Verify a new Google Doc is created in the story folder</li>
              <li>Open the exported Google Doc</li>
              <li>Verify it contains all Places notes with their content</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-5-4" name="test-5-4">
            <label for="test-5-4">I can export all Places notes</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.5: Export All Things</h4>
          <p>Verify that you can export all Things notes as a single Google Doc.</p>
          <div class="test-steps">
            <ol>
              <li>Click "Export" and select "Export All Things"</li>
              <li>Enter a filename for the export</li>
              <li>Click "Export"</li>
              <li>Verify a new Google Doc is created in the story folder</li>
              <li>Open the exported Google Doc</li>
              <li>Verify it contains all Things notes with their content</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-5-5" name="test-5-5">
            <label for="test-5-5">I can export all Things notes</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.6: Export Large Chapter (Chunked Writes)</h4>
          <p>Verify that exporting a very large chapter (50+ snippets) uses chunked writes to handle Google Docs API body size limits.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with a very large chapter (50+ snippets) - use test-large project if available</li>
              <li>Click "Export" and select "Export All Chapters" (or export just the large chapter)</li>
              <li>Enter a filename for the export</li>
              <li>Click "Export"</li>
              <li>Verify a progress indicator appears during export (if chunked writes are used)</li>
              <li>Verify the export completes successfully without errors</li>
              <li>Verify all snippets are included in the export (no truncation)</li>
              <li>Open the exported Google Doc</li>
              <li>Verify all snippets are in the correct order</li>
              <li>Verify the export order is preserved across chunks (if chunked)</li>
              <li>Verify the exported document is complete and readable</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-5-6" name="test-5-6">
            <label for="test-5-6">Large chapter export uses chunked writes correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.7: Export Content Structure Validation</h4>
          <p>Verify that exported content maintains correct structure: snippet titles as headers, paragraph breaks preserved, order maintained.</p>
          <div class="test-steps">
            <ol>
              <li>Create a story with multiple chapters and snippets</li>
              <li>Ensure snippets contain paragraph breaks (double Enter) and line breaks (Shift+Enter)</li>
              <li>Export all chapters</li>
              <li>Open the exported Google Doc</li>
              <li><strong>Verify structure:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Each snippet title appears as a header (e.g., "# Snippet Title")</li>
                  <li>Paragraph breaks (double newlines) are preserved</li>
                  <li>Line breaks (single newlines) are preserved</li>
                  <li>Snippets are in correct order (Chapter 1 snippets before Chapter 2 snippets)</li>
                  <li>Chapters are in correct order</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="export-8-7" name="export-8-7">
            <label for="export-8-7">Exported content maintains correct structure</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.8: Export Progress Dialog</h4>
          <p>Verify that export progress is displayed during long exports.</p>
          <div class="test-steps">
            <ol>
              <li>Export a large story (or many snippets)</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Progress dialog appears showing export status</li>
                  <li>Progress indicator shows current chunk / total chunks (for chunked exports)</li>
                  <li>Status messages are clear (e.g., "Creating document...", "Writing chunks...")</li>
                  <li>Dialog closes when export completes</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="export-8-8" name="export-8-8">
            <label for="export-8-8">Export progress dialog displays correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.9: Export Error Handling</h4>
          <p>Verify that export errors are handled gracefully.</p>
          <div class="test-steps">
            <ol>
              <li>Simulate an export error (network issue, API error, etc.)</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Error message is displayed to user</li>
                  <li>Error message is user-friendly</li>
                  <li>Export can be retried</li>
                  <li>No partial/corrupted files are created</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="export-8-9" name="export-8-9">
            <label for="export-8-9">Export errors are handled gracefully</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.10: Export File Location</h4>
          <p>Verify that exported files are created in the correct location (story folder).</p>
          <div class="test-steps">
            <ol>
              <li>Export all chapters</li>
              <li>Open Google Drive</li>
              <li>Navigate to the story folder</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Exported Google Doc is created in the story folder (not in root or elsewhere)</li>
                  <li>File name matches what you entered</li>
                  <li>File is accessible and can be opened</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="export-8-10" name="export-8-10">
            <label for="export-8-10">Exported files are created in correct location</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 8.11: Filename Suggestion</h4>
          <p>Verify that export dialog suggests a filename based on story title.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with a title (e.g., "My Adventure Story")</li>
              <li>Click "Export" and select an export option</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Filename input is pre-filled with a suggested name</li>
                  <li>Suggestion is based on story title (e.g., "My Adventure Story - Export" or similar)</li>
                  <li>You can edit the suggested filename</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="export-8-11" name="export-8-11">
            <label for="export-8-11">Filename suggestion is provided based on story title</label>
          </div>
        </div>
      </div>

        <!-- Section 2: Google Drive Integration & Sync -->
        <div class="test-section" id="section-2">
          <h2><i class="material-icons">cloud</i> Section 2: Google Drive Integration & Sync</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">Google Drive integration is foundational - most other features depend on it working correctly.</p>
        
        <div class="test-item">
          <h4>Test 2.1: Files Created in Google Drive</h4>
          <p>Verify that all created items (stories, chapters, snippets, notes) appear in Google Drive.</p>
          <div class="test-steps">
            <ol>
              <li>Create a new story in Yarny</li>
              <li>Open Google Drive in another tab</li>
              <li>Navigate to "Yarny Stories" folder</li>
              <li>Verify the story folder exists</li>
              <li>Create a chapter and snippet in Yarny</li>
              <li>Refresh Google Drive</li>
              <li>Verify the chapter folder and snippet Google Doc exist in the story folder</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-1" name="test-6-1">
            <label for="test-6-1">All created items appear in Google Drive</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.2: Changes Saved to Google Drive</h4>
          <p>Verify that edits made in Yarny are saved to Google Drive files.</p>
          <div class="test-steps">
            <ol>
              <li>Edit a snippet in Yarny</li>
              <li>Wait for auto-save to complete (check save status)</li>
              <li>Open the snippet's Google Doc in Google Drive</li>
              <li>Verify your changes appear in the Google Doc</li>
              <li>Edit a note in Yarny</li>
              <li>Open the note's text file in Google Drive</li>
              <li>Verify your changes appear in the text file</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-2" name="test-6-2">
            <label for="test-6-2">Changes are saved to Google Drive files</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.3: Round-Trip Editing (Yarny → Google Docs → Yarny)</h4>
          <p>Verify that you can edit in Google Docs and see changes in Yarny with no format loss (plain text only).</p>
          <div class="test-steps">
            <ol>
              <li>Edit a snippet in Yarny with paragraph breaks (double Enter) and line breaks (Shift+Enter)</li>
              <li>Save the snippet in Yarny</li>
              <li>Open the same snippet's Google Doc in Google Docs (another tab)</li>
              <li>Verify the content matches exactly (paragraph breaks and line breaks preserved)</li>
              <li>Make changes in Google Docs (add text, modify existing text)</li>
              <li>Save in Google Docs</li>
              <li>In Yarny, switch to a different snippet (or close and reopen Yarny)</li>
              <li>Switch back to the original snippet</li>
              <li>Verify Yarny detects the external changes (may show conflict resolution or reconciliation)</li>
              <li>Verify you can see the changes from Google Docs</li>
              <li>Verify paragraph breaks and line breaks are still preserved correctly</li>
              <li>Verify no formatting (bold, italic, etc.) was introduced</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-3" name="test-6-3">
            <label for="test-6-3">I can edit in Google Docs and see changes in Yarny with no format loss</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.3a: Cross-Edit Testing (Yarny Idle → Google Docs Edit → Yarny)</h4>
          <p>Verify that Yarny detects changes made in Google Docs while Yarny is idle (not actively editing the snippet).</p>
          <div class="test-steps">
            <ol>
              <li>Open a snippet in Yarny (make it the active snippet)</li>
              <li>Switch to a different snippet in Yarny (make the first snippet idle, not actively being edited)</li>
              <li>In another tab, open the first snippet's Google Doc in Google Docs</li>
              <li>Make edits in Google Docs</li>
              <li>Save in Google Docs</li>
              <li>Return to Yarny and switch back to the first snippet</li>
              <li>Verify Yarny detects the external changes</li>
              <li>Verify a conflict resolution modal or reconciliation notification appears</li>
              <li>Verify you can see the changes from Google Docs</li>
              <li>Verify you can choose to keep Yarny version or use Google Docs version</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-3a" name="test-6-3a">
            <label for="test-6-3a">Yarny detects changes made in Google Docs while snippet is idle</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.4: Conflict Detection</h4>
          <p>Verify that Yarny detects conflicts when both Yarny and Google Docs are edited (but NOT while actively editing in Yarny).</p>
          <div class="test-steps">
            <ol>
              <li>Edit a snippet in Yarny and save</li>
              <li>Switch to a different snippet in Yarny (make the first snippet idle)</li>
              <li>Open the first snippet's Google Doc in Google Docs (another tab)</li>
              <li>Make different changes in Google Docs</li>
              <li>Save in Google Docs</li>
              <li>In Yarny, switch back to the original snippet</li>
              <li>Verify a conflict resolution modal appears (conflicts are detected when switching snippets, not while actively editing)</li>
              <li>Verify you can see both versions (Yarny version vs Google Docs version)</li>
              <li>Verify the modal shows timestamps for both versions</li>
              <li>Verify you can compare the differences</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-4" name="test-6-4">
            <label for="test-6-4">Conflict detection works when both are edited (detected on snippet switch)</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.5: Conflict Resolution - Keep Yarny Version</h4>
          <p>Verify that you can resolve conflicts by keeping the Yarny version.</p>
          <div class="test-steps">
            <ol>
              <li>Trigger a conflict (see Test 2.4)</li>
              <li>In the conflict resolution modal, choose "Keep Yarny Version"</li>
              <li>Verify the Yarny version is kept</li>
              <li>Verify the Google Doc is updated with the Yarny version</li>
              <li>Open the Google Doc in Google Docs</li>
              <li>Verify it matches the Yarny version</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-5" name="test-6-5">
            <label for="test-6-5">I can resolve conflicts by keeping Yarny version</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.6: Conflict Resolution - Use Google Docs Version</h4>
          <p>Verify that you can resolve conflicts by using the Google Docs version.</p>
          <div class="test-steps">
            <ol>
              <li>Trigger a conflict (see Test 2.4)</li>
              <li>In the conflict resolution modal, choose "Use Google Docs Version"</li>
              <li>Verify the Google Docs version replaces the Yarny content</li>
              <li>Verify the editor shows the Google Docs content</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-6" name="test-6-6">
            <label for="test-6-6">I can resolve conflicts by using Google Docs version</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.7: Reconciliation on Window Focus</h4>
          <p>Verify that Yarny checks for external changes when the window regains focus.</p>
          <div class="test-steps">
            <ol>
              <li>Open a snippet in Yarny</li>
              <li>Switch to another browser tab</li>
              <li>Edit the snippet's Google Doc in Google Docs</li>
              <li>Save in Google Docs</li>
              <li>Switch back to the Yarny tab (window regains focus)</li>
              <li>Verify Yarny detects the external changes</li>
              <li>Verify a reconciliation notification appears (or conflict modal if content differs)</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-7" name="test-6-7">
            <label for="test-6-7">Yarny checks for external changes on window focus</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.8: Comments/Tracked Changes Warning</h4>
          <p>Verify that Yarny warns about comments or tracked changes in Google Docs.</p>
          <div class="test-steps">
            <ol>
              <li>Open a snippet's Google Doc in Google Docs</li>
              <li>Add a comment to the document</li>
              <li>Save in Google Docs</li>
              <li>In Yarny, try to save the snippet (or switch snippets)</li>
              <li>Verify a warning modal appears about comments/tracked changes</li>
              <li>Verify you can acknowledge the warning and proceed</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-8" name="test-6-8">
            <label for="test-6-8">Yarny warns about comments/tracked changes in Google Docs</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.9: Cross-Tab Yarny Conflicts</h4>
          <p>Verify that Yarny detects and prevents conflicts when the same snippet is edited in multiple Yarny tabs.</p>
          <div class="test-steps">
            <ol>
              <li>Open Yarny in two browser tabs (Tab 1 and Tab 2)</li>
              <li>In Tab 1, open a snippet and start editing</li>
              <li>In Tab 2, try to open the same snippet</li>
              <li>Verify Tab 2 shows "Editing in another tab" message or read-only indicator</li>
              <li>Verify Tab 2 is read-only (cannot edit) while Tab 1 is editing</li>
              <li>Save the snippet in Tab 1</li>
              <li>Switch to Tab 2</li>
              <li>Verify Tab 2 updates with the latest content from Tab 1</li>
              <li>Close Tab 1</li>
              <li>Verify Tab 2 regains edit capability (no longer read-only)</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-9" name="test-6-9">
            <label for="test-6-9">Cross-tab conflict detection prevents simultaneous editing</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.10: Format Normalization (Line Endings, NBSPs, Trailing Spaces)</h4>
          <p>Verify that Yarny normalizes text format to match Google Docs behavior (mixed line endings, non-breaking spaces, trailing spaces).</p>
          <div class="test-steps">
            <ol>
              <li>Create a snippet with mixed line endings: some lines ending with `\n`, some with `\r\n`, some with `\r`</li>
              <li>Add non-breaking spaces (NBSP) in the text</li>
              <li>Add trailing spaces at the end of some lines</li>
              <li>Save the snippet in Yarny</li>
              <li>Open the Google Doc in Google Drive</li>
              <li>Verify all line endings are normalized to `\n` (no `\r\n` or `\r`)</li>
              <li>Verify NBSPs are normalized to regular spaces</li>
              <li>Verify trailing spaces are handled correctly (may be collapsed by Google Docs)</li>
              <li>Edit the snippet in Google Docs and add more mixed formatting</li>
              <li>Switch snippets in Yarny and switch back</li>
              <li>Verify the text is normalized correctly after round-trip</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-10" name="test-6-10">
            <label for="test-6-10">Format normalization works correctly (line endings, NBSPs, trailing spaces)</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.11: Visibility-Based Request Gating</h4>
          <p>Verify that Yarny only makes background requests when the browser tab is visible (prevents Drive quota exhaustion).</p>
          <div class="test-steps">
            <ol>
              <li>Open Yarny in multiple browser tabs</li>
              <li>Open a story with many snippets in Tab 1</li>
              <li>Switch to Tab 2 (Tab 1 becomes hidden)</li>
              <li>Check browser network tab or console</li>
              <li>Verify Tab 1 stops making background prefetch requests when hidden</li>
              <li>Switch back to Tab 1 (tab becomes visible)</li>
              <li>Verify background prefetch requests resume in Tab 1</li>
              <li>Verify only the visible tab makes background requests</li>
              <li>Test with mutations (save, delete, rename) in hidden tab</li>
              <li>Verify mutations also respect visibility gating (may be queued or delayed)</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-11" name="test-6-11">
            <label for="test-6-11">Visibility-based request gating prevents quota exhaustion</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 2.12: Drive API Rate Limiting (429 Errors)</h4>
          <p>Verify that Yarny handles Drive API rate limit errors (429) gracefully with exponential backoff.</p>
          <div class="test-steps">
            <ol>
              <li>Trigger rate limiting by making rapid requests (or simulate 429 error)</li>
              <li>Verify Yarny detects the 429 rate limit error</li>
              <li>Verify exponential backoff with jitter is applied (delays between retries: 1s, 2s, 4s, etc.)</li>
              <li>Verify retry only happens when tab is visible (background tabs don't retry)</li>
              <li>Verify a clear error message is displayed to the user</li>
              <li>Verify automatic retry happens after backoff delay</li>
              <li>Verify no infinite retry loops (max 3 retries)</li>
              <li>After successful retry, verify the operation completes</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-6-12" name="test-6-12">
            <label for="test-6-12">Drive API rate limiting is handled gracefully with exponential backoff</label>
          </div>
        </div>
      </div>

        <!-- Section 7: UI/UX Elements & Accessibility -->
        <div class="test-section" id="section-7">
          <h2><i class="material-icons">design_services</i> Section 7: UI/UX Elements & Accessibility</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">These tests verify UI/UX elements and accessibility features. Keyboard-only flows, screen reader testing, and contrast verification are <strong>REQUIRED</strong> before production release.</p>
        
        <div class="test-item">
          <h4>Test 7.1: Classic UX Anchors - Goal Meter</h4>
          <p>Verify that the goal meter looks and behaves identically to the original app.</p>
          <div class="test-steps">
            <ol>
              <li>Compare the goal meter in the left sidebar with the original app (if available)</li>
              <li>Verify it shows "X / Y" format (e.g., "0 / 3,000")</li>
              <li>Verify the progress bar styling matches (colors, height, border radius)</li>
              <li>Verify clicking it opens the goal panel</li>
              <li>Verify it updates in real-time as you write</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-1" name="test-7-1">
            <label for="test-7-1">Goal meter looks and behaves identically to original</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.2: Classic UX Anchors - "Today • N" Chip</h4>
          <p>Verify that the "Today • N" chip looks and behaves identically to the original app.</p>
          <div class="test-steps">
            <ol>
              <li>Compare the "Today • N" chip with the original app (if available)</li>
              <li>Verify it shows "Today • N" format with number formatting (commas for large numbers)</li>
              <li>Verify the progress bar styling matches (2px height, subtle background)</li>
              <li>Verify color logic (green/red in strict mode, primary color otherwise)</li>
              <li>Verify clicking it opens the goal panel</li>
              <li>Verify it always shows (even when no goal set, shows "—")</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-2" name="test-7-2">
            <label for="test-7-2">"Today • N" chip looks and behaves identically to original</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.3: Classic UX Anchors - Footer Word/Character Counts</h4>
          <p>Verify that the footer word/character counts look and behave identically to the original app.</p>
          <div class="test-steps">
            <ol>
              <li>Compare the footer counts with the original app (if available)</li>
              <li>Verify it shows "Words: N — Characters: N" format</li>
              <li>Verify the font size, color, and spacing match</li>
              <li>Verify it updates in real-time as you type</li>
              <li>Verify it shows counts for active snippet only</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-3" name="test-7-3">
            <label for="test-7-3">Footer word/character counts look and behave identically to original</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.4: Modals - Open and Close</h4>
          <p>Verify that all modals open and close correctly.</p>
          <div class="test-steps">
            <ol>
              <li>Test opening each modal: Story Info, Export, Description Edit, Goal Panel, Rename, Delete, Conflict Resolution, Comments Warning</li>
              <li>Verify each modal opens when triggered</li>
              <li>Verify you can close modals by: clicking X button, clicking outside modal, pressing Escape key</li>
              <li>Verify modals don't overlap or break layout</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-4" name="test-7-4">
            <label for="test-7-4">All modals open and close correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.5: Context Menus</h4>
          <p>Verify that right-click context menus work correctly.</p>
          <div class="test-steps">
            <ol>
              <li>Right-click on a chapter in the left sidebar</li>
              <li>Verify a context menu appears with options (Rename, Delete, Change Color, etc.)</li>
              <li>Right-click on a snippet</li>
              <li>Verify a context menu appears with options</li>
              <li>Click on a menu option</li>
              <li>Verify the action is performed</li>
              <li>Click outside the menu</li>
              <li>Verify the menu closes</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-5" name="test-7-5">
            <label for="test-7-5">Context menus work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.6: Mobile Device Warning</h4>
          <p>Verify that mobile devices show a warning message.</p>
          <div class="test-steps">
            <ol>
              <li>Access Yarny from a mobile device (or use browser dev tools to simulate mobile)</li>
              <li>Verify a warning message appears</li>
              <li>Verify the message says to use a computer</li>
              <li>Verify you can navigate back to stories from the warning</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-6" name="test-7-6">
            <label for="test-7-6">Mobile devices show warning message</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.7: Loading States</h4>
          <p>Verify that loading indicators appear during data fetching.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with many snippets</li>
              <li>Verify loading indicators appear while snippets load</li>
              <li>Switch between snippets</li>
              <li>Verify loading states appear if content isn't cached</li>
              <li>Verify the UI doesn't freeze during loading</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-7" name="test-7-7">
            <label for="test-7-7">Loading indicators appear during data fetching</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.8: Error Messages</h4>
          <p>Verify that error messages are clear and helpful.</p>
          <div class="test-steps">
            <ol>
              <li>Try to perform an action that might fail (e.g., save with network disconnected)</li>
              <li>Verify an error message appears</li>
              <li>Verify the error message is clear and explains what went wrong</li>
              <li>Verify you can retry the action if applicable</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-8" name="test-7-8">
            <label for="test-7-8">Error messages are clear and helpful</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.9: Accessible Focus Rings</h4>
          <p>Verify that focus rings are visible and accessible when navigating with keyboard (especially on dark cards and pale chips).</p>
          <div class="test-steps">
            <ol>
              <li>Use Tab key to navigate through the interface (don't use mouse)</li>
              <li>Navigate to elements in the left sidebar (dark card background)</li>
              <li>Verify focus rings are visible on dark backgrounds (should be lighter color, e.g., primary-light)</li>
              <li>Navigate to elements on pale chip backgrounds</li>
              <li>Verify focus rings are visible on light backgrounds (should be darker color, e.g., primary-dark)</li>
              <li>Navigate through modals and buttons</li>
              <li>Verify all interactive elements show clear focus indicators</li>
              <li>Verify focus rings are 2px solid with 2px offset (accessible standard)</li>
              <li>Test with high contrast mode enabled (if available)</li>
              <li>Verify focus rings remain visible in all contexts</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-9" name="test-7-9">
            <label for="test-7-9">Focus rings are visible and accessible on all backgrounds</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.10: Keyboard-Only Flow - Create Operations</h4>
          <p>Verify that all create operations can be completed using only the keyboard (no mouse). This is a <strong>REQUIRED</strong> accessibility test.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Disable mouse/trackpad:</strong> Unplug mouse or disable trackpad (or use discipline to not use it)</li>
              <li><strong>Create a new story:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to stories page using Tab key</li>
                  <li>Find "New Story" button using Tab</li>
                  <li>Press Enter or Space to activate button</li>
                  <li>Modal opens - verify focus is in story name input field</li>
                  <li>Type story name using keyboard</li>
                  <li>Tab to other fields (genre, description, goal) if needed</li>
                  <li>Tab to "Create" button</li>
                  <li>Press Enter to create story</li>
                  <li>Verify story is created successfully</li>
                </ul>
              </li>
              <li><strong>Create a new chapter:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a story in editor</li>
                  <li>Navigate to chapter list using Tab</li>
                  <li>Find "Add Chapter" button or context menu trigger</li>
                  <li>Activate using Enter or Space</li>
                  <li>If context menu appears, navigate options with Arrow keys</li>
                  <li>Select "New Chapter" with Enter</li>
                  <li>Type chapter name in input field</li>
                  <li>Press Enter to confirm</li>
                  <li>Verify chapter is created</li>
                </ul>
              </li>
              <li><strong>Create a new snippet:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to a chapter using Tab</li>
                  <li>Find "Add Snippet" button (may be "+" icon)</li>
                  <li>Activate using Enter or Space</li>
                  <li>Verify snippet is created and editor receives focus</li>
                  <li>Type content using keyboard</li>
                  <li>Verify snippet appears in sidebar</li>
                </ul>
              </li>
              <li><strong>Create a new note (People/Places/Things):</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to Notes sidebar using Tab</li>
                  <li>Find "New People" (or Places/Things) button</li>
                  <li>Activate using Enter or Space</li>
                  <li>Type note name in input field</li>
                  <li>Press Enter to confirm</li>
                  <li>Verify note is created</li>
                </ul>
              </li>
              <li><strong>Document any issues:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Note any operations that cannot be completed with keyboard only</li>
                  <li>Note any focus traps or navigation issues</li>
                  <li>Note any missing keyboard shortcuts</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-10" name="test-7-10">
            <label for="test-7-10">All create operations can be completed using keyboard only</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any operations that cannot be completed with keyboard only, focus issues, or missing shortcuts</p>
            <textarea style="width: 100%; min-height: 60px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record any keyboard-only issues found..."></textarea>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.11: Keyboard-Only Flow - Rename Operations</h4>
          <p>Verify that all rename operations can be completed using only the keyboard.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Rename a story:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to stories page using Tab</li>
                  <li>Find a story card using Tab</li>
                  <li>Navigate to context menu trigger (right-click equivalent - may be Shift+F10 or Menu key)</li>
                  <li>Open context menu with Menu key or Shift+F10</li>
                  <li>Navigate menu options with Arrow keys</li>
                  <li>Select "Rename" with Enter</li>
                  <li>Type new name in input field</li>
                  <li>Press Enter to confirm or Escape to cancel</li>
                  <li>Verify story is renamed</li>
                </ul>
              </li>
              <li><strong>Rename a chapter:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to chapter in sidebar using Tab</li>
                  <li>Open context menu for chapter (Menu key or Shift+F10)</li>
                  <li>Navigate to "Rename" option with Arrow keys</li>
                  <li>Select with Enter</li>
                  <li>Type new name</li>
                  <li>Press Enter to confirm</li>
                  <li>Verify chapter is renamed</li>
                </ul>
              </li>
              <li><strong>Rename a snippet:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to snippet in sidebar using Tab</li>
                  <li>Open context menu for snippet</li>
                  <li>Navigate to "Rename" option</li>
                  <li>Select with Enter</li>
                  <li>Type new name</li>
                  <li>Press Enter to confirm</li>
                  <li>Verify snippet is renamed</li>
                </ul>
              </li>
              <li><strong>Rename a note:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to note in Notes sidebar using Tab</li>
                  <li>Open context menu for note</li>
                  <li>Navigate to "Rename" option</li>
                  <li>Select with Enter</li>
                  <li>Type new name</li>
                  <li>Press Enter to confirm</li>
                  <li>Verify note is renamed</li>
                </ul>
              </li>
              <li><strong>Document any issues:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Note any rename operations that cannot be completed with keyboard only</li>
                  <li>Note any context menu navigation issues</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-11" name="test-7-11">
            <label for="test-7-11">All rename operations can be completed using keyboard only</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any keyboard-only issues found</p>
            <textarea style="width: 100%; min-height: 60px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record any keyboard-only issues found..."></textarea>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.12: Keyboard-Only Flow - Reorder Operations</h4>
          <p>Verify that reorder operations can be completed using only the keyboard (drag & drop alternatives).</p>
          <div class="test-steps">
            <ol>
              <li><strong>Reorder chapters:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to chapter list using Tab</li>
                  <li>Select a chapter using Tab or Arrow keys</li>
                  <li>Open context menu (Menu key or Shift+F10)</li>
                  <li>Look for "Move Up" or "Move Down" options</li>
                  <li>If available, use Arrow keys to navigate and Enter to select</li>
                  <li>Alternatively, check for keyboard shortcuts (e.g., Ctrl+Arrow Up/Down)</li>
                  <li>Verify chapter order changes</li>
                  <li>If no keyboard alternative exists, document this as an accessibility issue</li>
                </ul>
              </li>
              <li><strong>Reorder snippets within a chapter:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to snippet list within a chapter using Tab</li>
                  <li>Select a snippet using Tab or Arrow keys</li>
                  <li>Open context menu</li>
                  <li>Look for "Move Up" or "Move Down" options</li>
                  <li>Use keyboard to move snippet</li>
                  <li>Verify snippet order changes</li>
                  <li>If no keyboard alternative exists, document this as an accessibility issue</li>
                </ul>
              </li>
              <li><strong>Move snippet between chapters:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Select a snippet using Tab</li>
                  <li>Open context menu</li>
                  <li>Look for "Move to Chapter" or similar option</li>
                  <li>Navigate to target chapter using Arrow keys or type-ahead</li>
                  <li>Select target chapter with Enter</li>
                  <li>Verify snippet moves to new chapter</li>
                  <li>If no keyboard alternative exists, document this as an accessibility issue</li>
                </ul>
              </li>
              <li><strong>Reorder notes:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to Notes sidebar using Tab</li>
                  <li>Select a note using Tab or Arrow keys</li>
                  <li>Open context menu</li>
                  <li>Look for "Move Up" or "Move Down" options</li>
                  <li>Use keyboard to reorder</li>
                  <li>Verify note order changes</li>
                  <li>If no keyboard alternative exists, document this as an accessibility issue</li>
                </ul>
              </li>
              <li><strong>Document any issues:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Note any reorder operations that cannot be completed with keyboard only</li>
                  <li>Note if keyboard alternatives are missing (critical accessibility issue)</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-12" name="test-7-12">
            <label for="test-7-12">All reorder operations can be completed using keyboard only (or keyboard alternatives exist)</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Critical:</strong> If keyboard alternatives for drag & drop do not exist, this is a blocking accessibility issue that must be fixed before production.</p>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any keyboard-only issues found, missing keyboard alternatives, or workarounds</p>
            <textarea style="width: 100%; min-height: 60px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record any keyboard-only issues found..."></textarea>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.13: Keyboard-Only Flow - Export Operations</h4>
          <p>Verify that all export operations can be completed using only the keyboard.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Export all chapters:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to Export button/menu using Tab</li>
                  <li>Activate Export button with Enter or Space</li>
                  <li>If dropdown menu appears, navigate options with Arrow keys</li>
                  <li>Select "Export All Chapters" with Enter</li>
                  <li>Export modal opens - verify focus is in filename input field</li>
                  <li>Type filename using keyboard</li>
                  <li>Tab to other options (include snippet names checkbox, etc.)</li>
                  <li>Tab to "Export" button</li>
                  <li>Press Enter to start export</li>
                  <li>Verify export completes (may show progress indicator)</li>
                </ul>
              </li>
              <li><strong>Export outline:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to Export menu</li>
                  <li>Select "Export Outline" with keyboard</li>
                  <li>Type filename in input field</li>
                  <li>Tab to Export button and press Enter</li>
                  <li>Verify export completes</li>
                </ul>
              </li>
              <li><strong>Export notes (People, Places, Things):</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to Export menu</li>
                  <li>Select "Export All People" (or Places/Things) with keyboard</li>
                  <li>Type filename and confirm with Enter</li>
                  <li>Verify export completes</li>
                </ul>
              </li>
              <li><strong>Document any issues:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Note any export operations that cannot be completed with keyboard only</li>
                  <li>Note any focus issues in export modals</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-13" name="test-7-13">
            <label for="test-7-13">All export operations can be completed using keyboard only</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any keyboard-only issues found</p>
            <textarea style="width: 100%; min-height: 60px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record any keyboard-only issues found..."></textarea>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.14: Screen Reader Testing</h4>
          <p>Verify that the application is accessible to screen reader users. This is a <strong>REQUIRED</strong> accessibility test.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Enable screen reader:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><strong>Windows:</strong> Enable NVDA (free) or JAWS, or use built-in Narrator (Windows+Ctrl+Enter)</li>
                  <li><strong>macOS:</strong> Enable VoiceOver (Cmd+F5 or System Preferences → Accessibility → VoiceOver)</li>
                  <li><strong>Chrome:</strong> Install ChromeVox extension (for testing, not recommended for real users)</li>
                  <li>Verify screen reader is active and reading content</li>
                </ul>
              </li>
              <li><strong>Test navigation:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate through the stories page using screen reader navigation (Arrow keys, Tab, etc.)</li>
                  <li>Verify all interactive elements are announced (buttons, links, inputs)</li>
                  <li>Verify headings are announced correctly (H1, H2, etc.)</li>
                  <li>Verify landmarks/regions are announced (navigation, main, sidebar)</li>
                </ul>
              </li>
              <li><strong>Test story list:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate through story cards</li>
                  <li>Verify story names are announced</li>
                  <li>Verify story metadata is announced (last modified, progress, deadline)</li>
                  <li>Verify buttons (delete, open) are announced with accessible names</li>
                  <li>Verify progress bars have accessible labels</li>
                </ul>
              </li>
              <li><strong>Test editor interface:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a story in editor</li>
                  <li>Navigate through left sidebar (chapters, snippets)</li>
                  <li>Verify chapter names are announced</li>
                  <li>Verify snippet names are announced</li>
                  <li>Verify collapse/expand buttons are announced</li>
                  <li>Verify color chips are announced (e.g., "Chapter 1, red color")</li>
                </ul>
              </li>
              <li><strong>Test editor content:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to editor content area</li>
                  <li>Verify editor is announced as a text area or content editable region</li>
                  <li>Type some text - verify screen reader announces characters or words</li>
                  <li>Verify word count updates are announced (if implemented)</li>
                </ul>
              </li>
              <li><strong>Test modals:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a modal (e.g., New Story, Rename, Delete)</li>
                  <li>Verify modal title is announced</li>
                  <li>Verify focus moves to modal (not trapped behind it)</li>
                  <li>Navigate through modal fields</li>
                  <li>Verify form labels are announced</li>
                  <li>Verify error messages are announced</li>
                  <li>Close modal with Escape - verify focus returns to trigger element</li>
                </ul>
              </li>
              <li><strong>Test forms:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate through form fields</li>
                  <li>Verify all inputs have accessible labels</li>
                  <li>Verify required fields are announced</li>
                  <li>Verify validation errors are announced</li>
                  <li>Verify help text is announced</li>
                </ul>
              </li>
              <li><strong>Test buttons and controls:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to all buttons</li>
                  <li>Verify buttons have accessible names (not just icons)</li>
                  <li>Verify icon-only buttons have aria-label or aria-labelledby</li>
                  <li>Verify button states are announced (disabled, pressed, etc.)</li>
                </ul>
              </li>
              <li><strong>Test goal meter and today chip:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to goal meter</li>
                  <li>Verify progress is announced (e.g., "1,500 of 3,000 words, 50 percent")</li>
                  <li>Verify it's announced as a button if clickable</li>
                  <li>Navigate to "Today" chip</li>
                  <li>Verify today's progress is announced</li>
                  <li>Verify progress bar has accessible label</li>
                </ul>
              </li>
              <li><strong>Test footer counts:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Navigate to footer</li>
                  <li>Verify word count is announced (e.g., "1,500 words")</li>
                  <li>Verify character count is announced (e.g., "8,500 characters")</li>
                </ul>
              </li>
              <li><strong>Document issues:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>List any elements that are not announced</li>
                  <li>List any elements with unclear or missing labels</li>
                  <li>List any navigation issues</li>
                  <li>List any focus traps or focus management issues</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Screen Reader Testing Checklist:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>✅ All interactive elements are announced</li>
              <li>✅ All headings are announced correctly</li>
              <li>✅ All form inputs have accessible labels</li>
              <li>✅ All buttons have accessible names</li>
              <li>✅ Modals trap focus correctly</li>
              <li>✅ Focus returns to trigger after closing modal</li>
              <li>✅ Progress indicators are announced</li>
              <li>✅ Error messages are announced</li>
              <li>✅ Landmarks/regions are announced</li>
              <li>✅ No focus traps or navigation issues</li>
            </ul>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-14" name="test-7-14">
            <label for="test-7-14">Screen reader testing completed - all elements are accessible</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any screen reader issues found, missing labels, or navigation problems</p>
            <textarea style="width: 100%; min-height: 100px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record any screen reader issues found..."></textarea>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.15: Contrast Verification - All 12 Accent Colors</h4>
          <p>Verify that all 12 accent colors meet WCAG contrast requirements (4.5:1 for normal text, 3:1 for large text) on actual UI backgrounds. The 12 colors are: red, orange, amber, yellow, lime, emerald, teal, cyan, blue, indigo, violet, fuchsia.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Prepare test environment:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open Yarny editor with a story that has multiple chapters</li>
                  <li>Ensure you can see chapter color chips in the sidebar</li>
                  <li>Open browser DevTools (F12)</li>
                  <li>Install a contrast checker tool (e.g., WebAIM Contrast Checker browser extension, or use DevTools color picker)</li>
                </ul>
              </li>
              <li><strong>Test each accent color on dark background (sidebar):</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>For each of the 12 colors (red, orange, amber, yellow, lime, emerald, teal, cyan, blue, indigo, violet, fuchsia):
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Assign the color to a chapter (use color picker)</li>
                      <li>Verify color chip appears in sidebar</li>
                      <li>Use DevTools to inspect the color chip element</li>
                      <li>Get the actual background color of the sidebar (may be dark gray/black)</li>
                      <li>Get the actual accent color value (hex or RGB)</li>
                      <li>Use contrast checker to verify contrast ratio:
                        <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                          <li>Normal text (if text appears on color chip): ≥ 4.5:1</li>
                          <li>Large text (18pt+ or 14pt+ bold): ≥ 3:1</li>
                          <li>UI components (icons, borders): ≥ 3:1</li>
                        </ul>
                      </li>
                      <li>Record the contrast ratio for each color</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><strong>Test each accent color on light background (if applicable):</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>If color chips appear on light backgrounds anywhere in the UI:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Test each color on light background</li>
                      <li>Verify contrast ratio meets requirements</li>
                      <li>Record contrast ratios</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><strong>Test color with text labels (if applicable):</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>If chapter names or labels appear on or next to color chips:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Verify text contrast meets 4.5:1 for normal text</li>
                      <li>Verify text contrast meets 3:1 for large text</li>
                      <li>Record any failures</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><strong>Test color picker interface:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open color picker modal/dialog</li>
                  <li>Verify all 12 color swatches are visible</li>
                  <li>For each color swatch:
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Get the background color of the picker</li>
                      <li>Get the color swatch value</li>
                      <li>Verify contrast ratio meets 3:1 (for UI components)</li>
                      <li>If swatches have borders, verify border contrast</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><strong>Document results:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Create a table with columns: Color Name, Background, Contrast Ratio, Pass/Fail</li>
                  <li>Record all 12 colors and their contrast ratios</li>
                  <li>Mark any colors that fail contrast requirements</li>
                  <li>Note which backgrounds were tested (dark sidebar, light areas, etc.)</li>
                </ul>
              </li>
              <li><strong>Test with high contrast mode (if available):</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Enable Windows High Contrast mode or browser high contrast extension</li>
                  <li>Verify all 12 colors remain visible and distinguishable</li>
                  <li>Verify text remains readable</li>
                  <li>Record any issues</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>WCAG Contrast Requirements:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>Normal text:</strong> ≥ 4.5:1 contrast ratio (AA level)</li>
              <li><strong>Large text:</strong> ≥ 3:1 contrast ratio (18pt+ or 14pt+ bold)</li>
              <li><strong>UI components:</strong> ≥ 3:1 contrast ratio (icons, borders, form controls)</li>
              <li><strong>Enhanced (AAA):</strong> ≥ 7:1 for normal text, ≥ 4.5:1 for large text (optional but recommended)</li>
            </ul>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-15" name="test-7-15">
            <label for="test-7-15">All 12 accent colors meet contrast requirements on actual UI backgrounds</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Contrast Testing Results Table:</strong> Create a table documenting each color's contrast ratio</p>
            <textarea style="width: 100%; min-height: 120px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record contrast ratios for all 12 colors. Format: Color | Background | Contrast Ratio | Pass/Fail&#10;Example:&#10;Red | Dark Sidebar | 4.8:1 | PASS&#10;Yellow | Dark Sidebar | 2.1:1 | FAIL"></textarea>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Automated Contrast Checker Utility:</strong> You can also run the contrast checker utility programmatically:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>Open browser DevTools console on the Yarny editor page</li>
              <li>Get actual background colors from the UI using DevTools inspector</li>
              <li>Run: <code>import { checkAccentColorContrast } from './src/utils/contrastChecker'; checkAccentColorContrast(['#1F2933', '#FFFFFF'])</code></li>
              <li>Or create a test script that extracts background colors from the DOM and runs the checker</li>
              <li>Compare results with manual measurements</li>
            </ul>
            <p style="margin-top: var(--space-sm);"><strong>Note:</strong> The utility exists in <code>src/utils/contrastChecker.ts</code> and can be imported and run programmatically. However, manual verification against actual UI backgrounds is still required to ensure accuracy.</p>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 7.16: Success Criteria - Keyboard-Only Completion of Core Tasks</h4>
          <p>Verify that all core tasks can be completed using only the keyboard. This is a <strong>CRITICAL</strong> success criteria that must pass before production.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Complete a full workflow using only keyboard:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li><strong>Create a story:</strong> Navigate to stories page → New Story button → Fill form → Create</li>
                  <li><strong>Open the story:</strong> Navigate to story card → Activate with Enter</li>
                  <li><strong>Create a chapter:</strong> Navigate to chapter list → Add Chapter → Type name → Confirm</li>
                  <li><strong>Create a snippet:</strong> Navigate to chapter → Add Snippet → Type content</li>
                  <li><strong>Edit snippet:</strong> Navigate to snippet → Open in editor → Type content</li>
                  <li><strong>Rename chapter:</strong> Navigate to chapter → Context menu → Rename → Type new name → Confirm</li>
                  <li><strong>Rename snippet:</strong> Navigate to snippet → Context menu → Rename → Type new name → Confirm</li>
                  <li><strong>Reorder chapters:</strong> Use keyboard alternative (Move Up/Down) or document if missing</li>
                  <li><strong>Reorder snippets:</strong> Use keyboard alternative (Move Up/Down) or document if missing</li>
                  <li><strong>Move snippet between chapters:</strong> Use keyboard alternative or document if missing</li>
                  <li><strong>Export story:</strong> Navigate to Export → Select export type → Fill form → Export</li>
                  <li><strong>Set goal:</strong> Navigate to goal meter → Open goal panel → Fill form → Save</li>
                  <li><strong>Delete story:</strong> Navigate to story → Delete button → Confirm in modal</li>
                </ul>
              </li>
              <li><strong>Verify no mouse is needed:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Complete entire workflow without using mouse/trackpad</li>
                  <li>Verify all operations complete successfully</li>
                  <li>Note any operations that require mouse (these are blocking issues)</li>
                </ul>
              </li>
              <li><strong>Test keyboard shortcuts:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Test common shortcuts (if implemented):
                    <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                      <li>Ctrl/Cmd+N for new story</li>
                      <li>Ctrl/Cmd+S for save (if manual save exists)</li>
                      <li>Escape to close modals</li>
                      <li>Enter to submit forms</li>
                      <li>Tab to navigate</li>
                      <li>Arrow keys for navigation (if implemented)</li>
                    </ul>
                  </li>
                  <li>Document which shortcuts work and which are missing</li>
                </ul>
              </li>
              <li><strong>Test focus management:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Verify focus moves logically through interface</li>
                  <li>Verify focus is visible at all times</li>
                  <li>Verify focus is not lost when modals open</li>
                  <li>Verify focus returns to trigger element when modals close</li>
                  <li>Verify no focus traps exist</li>
                </ul>
              </li>
              <li><strong>Document results:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>List all core tasks that can be completed with keyboard only</li>
                  <li>List any tasks that require mouse (blocking issues)</li>
                  <li>List missing keyboard shortcuts</li>
                  <li>List any focus management issues</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Core Tasks Checklist:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>✅ Create story (keyboard only)</li>
              <li>✅ Open story (keyboard only)</li>
              <li>✅ Create chapter (keyboard only)</li>
              <li>✅ Create snippet (keyboard only)</li>
              <li>✅ Edit snippet content (keyboard only)</li>
              <li>✅ Rename chapter (keyboard only)</li>
              <li>✅ Rename snippet (keyboard only)</li>
              <li>✅ Reorder chapters (keyboard alternative exists)</li>
              <li>✅ Reorder snippets (keyboard alternative exists)</li>
              <li>✅ Move snippet between chapters (keyboard alternative exists)</li>
              <li>✅ Export story (keyboard only)</li>
              <li>✅ Set/edit goal (keyboard only)</li>
              <li>✅ Delete story (keyboard only)</li>
            </ul>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-7-16" name="test-7-16">
            <label for="test-7-16">All core tasks can be completed using keyboard only - SUCCESS CRITERIA MET</label>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Critical:</strong> If any core task cannot be completed with keyboard only, this is a blocking accessibility issue that must be fixed before production release.</p>
          </div>
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any tasks that require mouse, missing keyboard alternatives, or focus issues</p>
            <textarea style="width: 100%; min-height: 100px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record any keyboard-only issues, missing shortcuts, or blocking accessibility problems..."></textarea>
          </div>
        </div>

        <div class="test-item" style="margin-top: var(--space-2xl);">
          <h4>Accessibility Testing Checklist - Comprehensive Reference</h4>
          <p>This is a comprehensive accessibility testing checklist that consolidates all WCAG 2.1 Level AA requirements and accessibility best practices. Use this as a quick reference and validation checklist before production release.</p>
          
          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>WCAG 2.1 Level AA Compliance Requirements:</strong></p>
            <p style="margin-top: var(--space-sm); color: rgba(255, 255, 255, 0.9);">All items in this checklist must pass before production release. This checklist is based on WCAG 2.1 Level AA standards and accessibility best practices.</p>
          </div>

          <div class="test-steps" style="margin-top: var(--space-lg);">
            <h5 style="color: rgba(255, 255, 255, 0.95); margin-bottom: var(--space-md);">1. Keyboard Navigation & Focus Management</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>All interactive elements are keyboard accessible</strong> - Buttons, links, form controls, modals can be activated with keyboard</li>
              <li>[ ] <strong>Focus is visible at all times</strong> - Focus rings are clearly visible (especially on dark backgrounds)</li>
              <li>[ ] <strong>Focus order is logical</strong> - Tab order follows visual flow and makes sense</li>
              <li>[ ] <strong>No keyboard traps</strong> - Users can navigate away from any element using keyboard</li>
              <li>[ ] <strong>Skip links available</strong> - Skip to main content links exist (if applicable)</li>
              <li>[ ] <strong>Modal focus management</strong> - Focus moves to modal when opened, returns to trigger when closed</li>
              <li>[ ] <strong>Focus visible on all states</strong> - Focus rings visible on hover, active, and focus states</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">2. Keyboard-Only Task Completion</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>Create operations</strong> - All create operations (story, chapter, snippet, note) can be completed with keyboard only</li>
              <li>[ ] <strong>Rename operations</strong> - All rename operations can be completed with keyboard only</li>
              <li>[ ] <strong>Reorder operations</strong> - Reorder operations have keyboard alternatives (or drag & drop is not required)</li>
              <li>[ ] <strong>Export operations</strong> - All export operations can be completed with keyboard only</li>
              <li>[ ] <strong>Delete operations</strong> - All delete operations can be completed with keyboard only</li>
              <li>[ ] <strong>Edit operations</strong> - All edit operations can be completed with keyboard only</li>
              <li>[ ] <strong>Navigation operations</strong> - All navigation (stories, chapters, snippets) can be done with keyboard only</li>
              <li>[ ] <strong>Form submissions</strong> - All forms can be submitted with keyboard (Enter key, Tab navigation)</li>
              <li>[ ] <strong>Modal interactions</strong> - All modal interactions (open, close, submit, cancel) work with keyboard only</li>
              <li>[ ] <strong>Context menu access</strong> - Context menus can be accessed and used with keyboard (if applicable)</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">3. Screen Reader Compatibility</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>All images have alt text</strong> - Decorative images have empty alt, informative images have descriptive alt</li>
              <li>[ ] <strong>All buttons have accessible labels</strong> - Icon-only buttons have aria-label or aria-labelledby</li>
              <li>[ ] <strong>All form inputs have labels</strong> - Inputs are associated with labels (for/id or aria-label)</li>
              <li>[ ] <strong>Headings are properly structured</strong> - Heading hierarchy is logical (h1 → h2 → h3, no skipping levels)</li>
              <li>[ ] <strong>Landmarks are properly marked</strong> - Main content, navigation, complementary regions use semantic HTML or ARIA</li>
              <li>[ ] <strong>Dynamic content is announced</strong> - Screen reader announces changes (live regions, aria-live, status updates)</li>
              <li>[ ] <strong>Error messages are accessible</strong> - Form errors are associated with inputs (aria-describedby, aria-invalid)</li>
              <li>[ ] <strong>Modal dialogs are properly marked</strong> - Modals use role="dialog", aria-modal, aria-labelledby</li>
              <li>[ ] <strong>Navigation is announced</strong> - Screen reader announces page changes, route changes, content updates</li>
              <li>[ ] <strong>Interactive elements are announced</strong> - Screen reader announces buttons, links, form controls with their purpose</li>
              <li>[ ] <strong>Status messages are announced</strong> - Save status, error messages, success messages are announced</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">4. Color Contrast & Visual Accessibility</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>Normal text contrast</strong> - All normal text meets 4.5:1 contrast ratio (WCAG AA)</li>
              <li>[ ] <strong>Large text contrast</strong> - All large text (18pt+ or 14pt+ bold) meets 3:1 contrast ratio (WCAG AA)</li>
              <li>[ ] <strong>UI component contrast</strong> - Icons, borders, form controls meet 3:1 contrast ratio</li>
              <li>[ ] <strong>All 12 accent colors tested</strong> - Red, orange, amber, yellow, lime, emerald, teal, cyan, blue, indigo, violet, fuchsia tested on actual backgrounds</li>
              <li>[ ] <strong>Focus indicators meet contrast</strong> - Focus rings meet 3:1 contrast ratio</li>
              <li>[ ] <strong>Error states meet contrast</strong> - Error messages, error borders meet contrast requirements</li>
              <li>[ ] <strong>Disabled states meet contrast</strong> - Disabled buttons/inputs still meet minimum contrast (or are clearly disabled)</li>
              <li>[ ] <strong>Color is not the only indicator</strong> - Information is not conveyed by color alone (icons, text, patterns also used)</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">5. ARIA Labels & Semantic HTML</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>Icon-only buttons have labels</strong> - All icon buttons have aria-label or aria-labelledby</li>
              <li>[ ] <strong>Form inputs have labels</strong> - All inputs have associated labels (for/id or aria-label)</li>
              <li>[ ] <strong>Error messages are associated</strong> - Form errors use aria-describedby to associate with inputs</li>
              <li>[ ] <strong>Required fields are marked</strong> - Required inputs have aria-required="true" or visual indicator</li>
              <li>[ ] <strong>Live regions for dynamic content</strong> - Status updates use aria-live regions (polite or assertive)</li>
              <li>[ ] <strong>Modal dialogs properly marked</strong> - Modals use role="dialog", aria-modal="true", aria-labelledby</li>
              <li>[ ] <strong>Navigation landmarks</strong> - Navigation regions use nav element or role="navigation"</li>
              <li>[ ] <strong>Main content landmark</strong> - Main content uses main element or role="main"</li>
              <li>[ ] <strong>Complementary content marked</strong> - Sidebars use aside element or role="complementary"</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">6. Error Handling & Feedback</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>Error messages are clear</strong> - Error messages explain what went wrong and how to fix it</li>
              <li>[ ] <strong>Errors are associated with inputs</strong> - Form errors use aria-describedby to link to inputs</li>
              <li>[ ] <strong>Errors are announced</strong> - Screen reader announces error messages when they appear</li>
              <li>[ ] <strong>Validation feedback is accessible</strong> - Form validation feedback is accessible to screen readers</li>
              <li>[ ] <strong>Success messages are announced</strong> - Success confirmations are announced to screen readers</li>
              <li>[ ] <strong>Loading states are announced</strong> - Loading indicators are announced (or use aria-busy)</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">7. Responsive Design & Zoom</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>Content is readable at 200% zoom</strong> - All content remains readable and functional at 200% browser zoom</li>
              <li>[ ] <strong>No horizontal scrolling at 200% zoom</strong> - No horizontal scrolling required at 200% zoom</li>
              <li>[ ] <strong>Touch targets are adequate</strong> - Interactive elements are at least 44x44px (mobile/touch devices)</li>
              <li>[ ] <strong>Text can be resized</strong> - Text can be resized up to 200% without loss of functionality</li>
            </ul>

            <h5 style="color: rgba(255, 255, 255, 0.95); margin-top: var(--space-xl); margin-bottom: var(--space-md);">8. Testing Tools & Validation</h5>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>[ ] <strong>Automated testing tools run</strong> - axe DevTools, WAVE, or similar tools run with no critical issues</li>
              <li>[ ] <strong>Manual keyboard testing completed</strong> - Full workflow tested with keyboard only (no mouse)</li>
              <li>[ ] <strong>Screen reader testing completed</strong> - Tested with VoiceOver (macOS) or NVDA/JAWS (Windows)</li>
              <li>[ ] <strong>Contrast checker run</strong> - All colors checked with contrast checker tool against actual backgrounds</li>
              <li>[ ] <strong>Browser DevTools audit run</strong> - Chrome/Firefox accessibility audit run with no critical issues</li>
            </ul>
          </div>

          <div class="note-box" style="margin-top: var(--space-xl);">
            <p><strong>Accessibility Testing Summary - Quick Reference:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>Keyboard-Only Create Operations:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Keyboard-Only Rename Operations:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Keyboard-Only Reorder Operations:</strong> [ ] ✅ PASS / [ ] ❌ FAIL (keyboard alternatives exist)</li>
              <li><strong>Keyboard-Only Export Operations:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Screen Reader Testing:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Contrast Verification (12 accent colors):</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Contrast Checker Utility Run:</strong> [ ] ✅ PASS / [ ] ❌ FAIL (utility run against actual UI backgrounds)</li>
              <li><strong>Keyboard-Only Core Tasks Completion:</strong> [ ] ✅ PASS / [ ] ❌ FAIL (CRITICAL - blocks production)</li>
              <li><strong>ARIA Labels & Semantic HTML:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Error Handling & Feedback:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Responsive Design & Zoom:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Automated Testing Tools:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
            </ul>
            <p style="margin-top: var(--space-md);"><strong>Overall Accessibility Status:</strong> [ ] ✅ PASS (All items pass) / [ ] ❌ FAIL (Blocking issues found)</p>
            <p style="margin-top: var(--space-sm);"><strong>Note:</strong> All accessibility tests must pass before production release. Keyboard-only completion of core tasks is a critical success criteria. This checklist is based on WCAG 2.1 Level AA standards.</p>
          </div>

          <div class="checkbox-container" style="margin-top: var(--space-lg);">
            <input type="checkbox" id="accessibility-checklist-complete" name="accessibility-checklist-complete">
            <label for="accessibility-checklist-complete">Accessibility Testing Checklist completed - All items verified and documented</label>
          </div>

          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Documentation Requirements:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>✅ All checklist items checked and verified</li>
              <li>✅ Test results documented (PASS/FAIL for each category)</li>
              <li>✅ Issues found documented with severity (critical, major, minor)</li>
              <li>✅ GitHub issues created for critical and major issues</li>
              <li>✅ Re-test completed after fixes</li>
              <li>✅ Final status documented (Overall PASS/FAIL)</li>
            </ul>
          </div>

          <div class="note-box" style="margin-top: var(--space-md);">
            <p><strong>Notes:</strong> Record any accessibility issues found, testing tool results, or observations</p>
            <textarea style="width: 100%; min-height: 120px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1);" placeholder="Record accessibility testing results, tool outputs, issues found, and remediation status..."></textarea>
          </div>
        </div>
      </div>

        <!-- Section 9: Performance & Edge Cases -->
        <div class="test-section" id="section-9">
          <h2><i class="material-icons">speed</i> Section 9: Performance & Edge Cases</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">Performance and edge case testing should come after basic functionality is validated.</p>
        
        <div class="test-item">
          <h4>Test 9.1: Large Story Performance</h4>
          <p>Verify that the app performs well with large stories (many chapters and snippets).</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with 25+ chapters and 200+ snippets (if available)</li>
              <li>Verify the app loads in a reasonable time (< 5 seconds)</li>
              <li>Scroll through the chapter/snippet list</li>
              <li>Verify scrolling is smooth (no lag)</li>
              <li>Switch between snippets</li>
              <li>Verify snippet switching is responsive</li>
              <li>Verify the UI doesn't freeze or become unresponsive</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-1" name="test-8-1">
            <label for="test-8-1">App performs well with large stories</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.2: Lazy Loading</h4>
          <p>Verify that snippet content loads on demand (lazy loading).</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with many snippets</li>
              <li>Verify the active snippet loads immediately</li>
              <li>Verify other snippets load in the background (check network tab or wait)</li>
              <li>Switch to a different snippet</li>
              <li>Verify it loads quickly (may be from cache if already loaded)</li>
              <li>Verify the UI doesn't block while loading</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-2" name="test-8-2">
            <label for="test-8-2">Snippet content loads on demand (lazy loading)</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.3: Performance Budget - Time to First Edit (Hot Path)</h4>
          <p>Verify that opening a snippet already in cache and starting to type is fast (≤300 ms from click to first character appearing).</p>
          <div class="test-steps">
            <ol>
              <li>Open a story and load a snippet (content is now cached)</li>
              <li>Switch to a different snippet and back to the first one (ensures it's in cache)</li>
              <li>Click on the snippet to open it in the editor</li>
              <li>Start typing immediately</li>
              <li>Measure time from click to first character appearing (use browser dev tools or stopwatch)</li>
              <li>Verify latency is ≤300 ms (hot path - snippet already in cache)</li>
              <li>Repeat with several different snippets</li>
              <li>Verify all meet the performance budget</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-3" name="test-8-3">
            <label for="test-8-3">Time to first edit (hot path) is ≤300 ms</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.4: Performance Budget - Time to First Edit (Cold Path)</h4>
          <p>Verify that opening a snippet not yet loaded and starting to type is acceptable (≤1.5 s from click to first character appearing, includes Drive fetch).</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with many snippets</li>
              <li>Find a snippet that hasn't been loaded yet (not in cache)</li>
              <li>Click on the snippet to open it in the editor</li>
              <li>Start typing immediately</li>
              <li>Measure time from click to first character appearing (use browser dev tools or stopwatch)</li>
              <li>Verify latency is ≤1.5 s (cold path - includes Drive fetch)</li>
              <li>Repeat with several different unloaded snippets</li>
              <li>Verify all meet the performance budget</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-4" name="test-8-4">
            <label for="test-8-4">Time to first edit (cold path) is ≤1.5 s</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.5: Performance Budget - Time to Switch Snippet (Hot Path)</h4>
          <p>Verify that switching to a snippet already in cache is fast (≤300 ms from click to editor ready).</p>
          <div class="test-steps">
            <ol>
              <li>Open a story and load multiple snippets (ensure they're in cache)</li>
              <li>Click on a snippet that's already been loaded</li>
              <li>Measure time from click to editor ready (content visible and editable)</li>
              <li>Verify latency is ≤300 ms (hot path - snippet already in cache)</li>
              <li>Switch between several cached snippets</li>
              <li>Verify all meet the performance budget</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-5" name="test-8-5">
            <label for="test-8-5">Time to switch snippet (hot path) is ≤300 ms</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.6: Performance Budget - Time to Switch Snippet (Cold Path)</h4>
          <p>Verify that switching to a snippet not yet loaded is acceptable (≤1.5 s from click to editor ready, includes Drive fetch).</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with many snippets</li>
              <li>Find a snippet that hasn't been loaded yet (not in cache)</li>
              <li>Click on the snippet to switch to it</li>
              <li>Measure time from click to editor ready (content visible and editable)</li>
              <li>Verify latency is ≤1.5 s (cold path - includes Drive fetch)</li>
              <li>Switch to several different unloaded snippets</li>
              <li>Verify all meet the performance budget</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-6" name="test-8-6">
            <label for="test-8-6">Time to switch snippet (cold path) is ≤1.5 s</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.7: Special Characters & Round-Trip Preservation</h4>
          <p>Verify that special characters (quotes, em dashes, etc.) are preserved correctly in round-trips between Yarny and Google Docs.</p>
          <div class="test-steps">
            <ol>
              <li>Type special characters in a snippet: "quotes", 'apostrophes', —em dashes, –en dashes, …ellipses, ©copyright, ®registered, ™trademark</li>
              <li>Save the snippet in Yarny</li>
              <li>Open the Google Doc in Google Drive</li>
              <li>Verify all special characters are preserved exactly</li>
              <li>Edit in Google Docs and add more special characters: curly quotes "like this" and 'this'</li>
              <li>Save in Google Docs</li>
              <li>In Yarny, switch to a different snippet and switch back</li>
              <li>Verify all special characters are preserved in the round-trip</li>
              <li>Edit in Yarny again and add more special characters</li>
              <li>Save and verify in Google Docs that all characters are preserved</li>
              <li>Verify no characters are corrupted or changed during round-trips</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-7" name="test-8-7">
            <label for="test-8-7">Special characters are preserved correctly in round-trips</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.8: Long Text</h4>
          <p>Verify that the editor handles long text (10,000+ words) without issues.</p>
          <div class="test-steps">
            <ol>
              <li>Open or create a snippet with very long text (10,000+ words)</li>
              <li>Verify the editor displays all text</li>
              <li>Scroll through the text</li>
              <li>Verify scrolling is smooth</li>
              <li>Edit text in the middle</li>
              <li>Verify edits work correctly</li>
              <li>Save the snippet</li>
              <li>Verify it saves successfully</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-8" name="test-8-8">
            <label for="test-8-8">Editor handles long text without issues</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.9: Empty States</h4>
          <p>Verify that empty states (no stories, no chapters, no snippets) display correctly.</p>
          <div class="test-steps">
            <ol>
              <li>If you have no stories, verify the empty state message appears</li>
              <li>Create a story but don't add chapters</li>
              <li>Verify the editor shows appropriate empty state or message</li>
              <li>Add a chapter but don't add snippets</li>
              <li>Verify appropriate empty state or message appears</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-9" name="test-8-9">
            <label for="test-8-9">Empty states display correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.10: Offline/Spotty-Network Semantics</h4>
          <p>Verify that the app handles offline and spotty network conditions gracefully with clear user feedback.</p>
          <div class="test-steps">
            <ol>
              <li><strong>Go offline</strong>: Disable network (or use browser dev tools to simulate offline)</li>
              <li>Edit a snippet while offline</li>
              <li>Verify editor remains editable (you can continue typing)</li>
              <li><strong>Offline banner</strong>: Verify offline banner appears at top of editor (non-blocking, dismissible)</li>
              <li>Verify banner message says "You're offline. Changes will be saved when connection is restored."</li>
              <li><strong>Queued save</strong>: Verify save status shows "Queued - will save when online" (no timestamp)</li>
              <li>Make multiple edits while offline</li>
              <li><strong>Reconnect</strong>: Re-enable network</li>
              <li>Verify queued saves automatically retry and complete</li>
              <li><strong>Save status on reconnect</strong>: Verify "Saved at X:XX" appears after successful save</li>
              <li><strong>Stale cache warning</strong>: Go offline again → Wait 5+ minutes → Verify "Using cached data" or "Last synced: X:XX" warning appears</li>
              <li><strong>Network flapping</strong>: Rapidly toggle network on/off multiple times → Verify save queue handles multiple toggles correctly, no data loss</li>
              <li><strong>Retry exhaustion</strong>: Simulate network error with no retries remaining → Verify mutation is queued (not lost), shows queued status</li>
              <li><strong>Multiple queued saves</strong>: Go offline → Make multiple edits to different snippets → Reconnect → Verify all saves complete in order</li>
              <li><strong>Cache staleness</strong>: Load a snippet → Go offline → Wait 10+ minutes → Verify "Last synced: X:XX" appears instead of "Saved at X:XX"</li>
              <li>Verify editor remains editable even with stale cache (but shows warning)</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-10" name="test-8-10">
            <label for="test-8-10">App handles offline/spotty-network conditions gracefully with clear feedback</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.11: Cache Size Verification (Memory Bound)</h4>
          <p>Verify that snippet caching is limited to the 50 most-recent entries and uses LRU eviction.</p>
          <div class="test-steps">
            <ol>
              <li>Open a large story with many snippets (50+ recommended)</li>
              <li>Sequentially open at least 55 unique snippets</li>
              <li>Open browser DevTools → Application → Storage (or use internal diagnostics if available)</li>
              <li><strong>Verify cache size:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Cache stores no more than 50 snippet bodies</li>
                  <li>Oldest snippet (first opened) is evicted once limit is exceeded</li>
                  <li>Currently active snippet remains cached (not evicted)</li>
                </ul>
              </li>
              <li>Switch back to an early snippet that should have been evicted</li>
              <li><strong>Verify re-fetch:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Snippet reloads from Drive/network</li>
                  <li>Cache updates to include snippet again</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-11" name="test-8-11">
            <label for="test-8-11">Snippet cache enforces 50-item limit with correct LRU eviction</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 9.12: Long Session Memory Stability</h4>
          <p>Verify that extended editing sessions do not cause unbounded memory growth.</p>
          <div class="test-steps">
            <ol>
              <li>Use the editor continuously for at least 60 minutes</li>
              <li>During the session:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open and close many snippets</li>
                  <li>Switch between stories if available</li>
                  <li>Make periodic edits to trigger auto-save</li>
                </ul>
              </li>
              <li>Monitor memory usage (Activity Monitor, Task Manager, or Chrome Performance monitor)</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Memory usage stabilizes (no continuous upward trend)</li>
                  <li>Cache stays within 50 snippet limit</li>
                  <li>No editor slowdowns or GC pauses are observed</li>
                </ul>
              </li>
              <li>Record memory measurements at start, midpoint, and end of session</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="test-8-12" name="test-8-12">
            <label for="test-8-12">Extended sessions maintain stable memory usage</label>
          </div>
        </div>
      </div>

        <!-- Section 1: Smoke Tests & Infrastructure Verification -->
        <div class="test-section" id="section-1">
          <h2><i class="material-icons">build</i> Section 1: Smoke Tests & Infrastructure Verification</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">These tests validate the setup, infrastructure, and critical functionality before and during development. These should be executed early and re-verified after major changes.</p>
        
        <div class="test-item">
          <h4>Smoke Test 1.1: Local Development Setup</h4>
          <p>Verify that the development environment is set up correctly and the app runs locally.</p>
          <div class="test-steps">
            <ol>
              <li>Run <code>npm run dev</code> in the project root</li>
              <li>Verify the Vite dev server launches successfully</li>
              <li>Open the app in your browser (usually <code>http://localhost:5173</code>)</li>
              <li>Verify the Yarny React shell renders correctly</li>
              <li>Verify project and story side rails render placeholder Drive data from <code>createDriveClient</code> fallback</li>
              <li>Authenticate with Google (if required)</li>
              <li>Select a story from the list</li>
              <li>Verify the TipTap plain text editor loads with sample content</li>
              <li>Verify the editor is editable and responsive</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-1" name="smoke-9-1">
            <label for="smoke-9-1">Local development environment works correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.2: Build & Lint</h4>
          <p>Verify that the project builds successfully and passes linting checks.</p>
          <div class="test-steps">
            <ol>
              <li>Run <code>npm run build</code> in the project root</li>
              <li>Verify the build completes without errors</li>
              <li>Verify a <code>dist/</code> folder is created containing the React bundle</li>
              <li>Run <code>npm run lint</code></li>
              <li>Verify linting executes without fatal errors</li>
              <li>Fix any critical linting errors (warnings are acceptable)</li>
              <li>Run <code>npm run test</code></li>
              <li>Verify the default Vitest suite passes</li>
              <li>Note any test failures that need to be addressed</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-2" name="smoke-9-2">
            <label for="smoke-9-2">Build, lint, and test commands execute successfully</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.3: Netlify Functions & Deployment</h4>
          <p>Verify that Netlify Functions work correctly and deployment succeeds.</p>
          <div class="test-steps">
            <ol>
              <li>Run <code>netlify dev</code> in the project root</li>
              <li>Verify Netlify Functions start successfully</li>
              <li>Test a few API endpoints (e.g., <code>/api/config</code>, <code>/api/verify-google</code>)</li>
              <li>Verify functions return expected responses</li>
              <li>Check Netlify dashboard for environment variables:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Verify <code>GDRIVE_CLIENT_ID</code> is set</li>
                  <li>Verify <code>GDRIVE_CLIENT_SECRET</code> is set</li>
                  <li>Verify <code>GOOGLE_CLIENT_ID</code> is set</li>
                  <li>Verify <code>VITE_TEST_CORPUS_FOLDER_ID</code> is set (if using test corpus)</li>
                </ul>
              </li>
              <li>Run <code>netlify deploy --build</code> (or verify CI/CD deployment)</li>
              <li>Verify deployment completes successfully</li>
              <li>Verify the deployed site loads correctly</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-3" name="smoke-9-3">
            <label for="smoke-9-3">Netlify Functions and deployment work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.4: Editor Plain Text Discipline</h4>
          <p>Verify that the editor only supports plain text and preserves formatting correctly.</p>
          <div class="test-steps">
            <ol>
              <li>Open a snippet in the editor</li>
              <li>Verify the TipTap toolbar is hidden (no formatting buttons visible)</li>
              <li>Verify only plain text input is available</li>
              <li>Try keyboard shortcuts for formatting (Ctrl+B, Ctrl+I, Ctrl+U) - they should NOT work</li>
              <li>Open a Google Doc with formatted text (bold, italic, colors, etc.)</li>
              <li>Copy text from the Google Doc</li>
              <li>Paste into the Yarny editor</li>
              <li>Verify formatting is stripped and only plain text remains</li>
              <li>Verify paragraph breaks (double Enter) are preserved</li>
              <li>Verify hard breaks (Shift+Enter) are preserved</li>
              <li>Save the snippet</li>
              <li>Open the snippet's Google Doc in Google Drive</li>
              <li>Verify paragraph breaks and hard breaks are preserved correctly</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-4" name="smoke-9-4">
            <label for="smoke-9-4">Editor enforces plain text discipline and preserves breaks</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.5: State Management</h4>
          <p>Verify that Zustand store initializes correctly and React Query cache invalidation works.</p>
          <div class="test-steps">
            <ol>
              <li>Open the app in development mode</li>
              <li>Open browser DevTools console</li>
              <li>Verify no runtime warnings appear about Zustand store initialization</li>
              <li>Verify the store initializes without errors in React strict mode</li>
              <li>Install React Query DevTools (if not already installed):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Add <code>import { ReactQueryDevtools } from '@tanstack/react-query-devtools'</code> to your app</li>
                  <li>Add <code>&lt;ReactQueryDevtools initialIsOpen={false} /&gt;</code> to your app component</li>
                </ul>
              </li>
              <li>Open React Query DevTools in the browser</li>
              <li>Make an edit to a snippet</li>
              <li>Manually save the snippet (or wait for auto-save)</li>
              <li>Verify query cache invalidation occurs (check DevTools for cache updates)</li>
              <li>Verify the UI updates reflect the saved changes</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-5" name="smoke-9-5">
            <label for="smoke-9-5">State management and cache invalidation work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.6: Create Operations</h4>
          <p>Verify that all create operations work correctly (stories, chapters, snippets, notes).</p>
          <div class="test-steps">
            <ol>
              <li>Create a new story:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Click "New Story" button</li>
                  <li>Enter a story name</li>
                  <li>Optionally set a goal</li>
                  <li>Click "Create"</li>
                  <li>Verify the story appears in the list</li>
                  <li>Verify the story folder is created in Google Drive</li>
                </ul>
              </li>
              <li>Create a new chapter:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Right-click on the story or use context menu</li>
                  <li>Select "New Chapter"</li>
                  <li>Enter a chapter name</li>
                  <li>Verify the chapter appears in the sidebar</li>
                  <li>Verify the chapter folder is created in Google Drive</li>
                </ul>
              </li>
              <li>Create a new snippet:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Right-click on a chapter or use context menu</li>
                  <li>Select "New Snippet"</li>
                  <li>Enter a snippet name</li>
                  <li>Verify the snippet appears in the sidebar</li>
                  <li>Verify the snippet Google Doc is created in Google Drive</li>
                </ul>
              </li>
              <li>Create a new note (People, Places, or Things):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open the Notes sidebar</li>
                  <li>Click "New People" (or Places/Things)</li>
                  <li>Enter a note name</li>
                  <li>Verify the note appears in the sidebar</li>
                  <li>Verify the note text file is created in Google Drive</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-6" name="smoke-9-6">
            <label for="smoke-9-6">All create operations work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.7: Rename Operations</h4>
          <p>Verify that all rename operations work correctly and persist to Google Drive.</p>
          <div class="test-steps">
            <ol>
              <li>Rename a story:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Right-click on a story</li>
                  <li>Select "Rename"</li>
                  <li>Enter a new name</li>
                  <li>Verify the story name updates in the UI</li>
                  <li>Verify the story folder is renamed in Google Drive</li>
                </ul>
              </li>
              <li>Rename a chapter:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Right-click on a chapter</li>
                  <li>Select "Rename"</li>
                  <li>Enter a new name</li>
                  <li>Verify the chapter name updates in the UI</li>
                  <li>Verify the chapter folder is renamed in Google Drive</li>
                </ul>
              </li>
              <li>Rename a snippet:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Right-click on a snippet</li>
                  <li>Select "Rename"</li>
                  <li>Enter a new name</li>
                  <li>Verify the snippet name updates in the UI</li>
                  <li>Verify the snippet Google Doc is renamed in Google Drive</li>
                </ul>
              </li>
              <li>Rename a note:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Right-click on a note</li>
                  <li>Select "Rename"</li>
                  <li>Enter a new name</li>
                  <li>Verify the note name updates in the UI</li>
                  <li>Verify the note text file is renamed in Google Drive</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-7" name="smoke-9-7">
            <label for="smoke-9-7">All rename operations work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.8: Reorder Operations</h4>
          <p>Verify that drag & drop reordering works correctly and persists to Google Drive.</p>
          <div class="test-steps">
            <ol>
              <li>Reorder chapters:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Drag a chapter up or down in the sidebar</li>
                  <li>Release to drop it in a new position</li>
                  <li>Verify the chapter moves to the new position</li>
                  <li>Refresh the page</li>
                  <li>Verify the chapter order is preserved</li>
                </ul>
              </li>
              <li>Reorder snippets:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Drag a snippet up or down within a chapter</li>
                  <li>Release to drop it in a new position</li>
                  <li>Verify the snippet moves to the new position</li>
                  <li>Refresh the page</li>
                  <li>Verify the snippet order is preserved</li>
                </ul>
              </li>
              <li>Move snippet between chapters:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Drag a snippet from one chapter to another</li>
                  <li>Release to drop it in the new chapter</li>
                  <li>Verify the snippet moves to the new chapter</li>
                  <li>Verify the snippet disappears from the old chapter</li>
                  <li>Verify the snippet Google Doc is moved in Google Drive</li>
                </ul>
              </li>
              <li>Reorder notes:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Drag a note up or down in the Notes sidebar</li>
                  <li>Release to drop it in a new position</li>
                  <li>Verify the note moves to the new position</li>
                  <li>Refresh the page</li>
                  <li>Verify the note order is preserved</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-8" name="smoke-9-8">
            <label for="smoke-9-8">All reorder operations work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.9: Edit Operations</h4>
          <p>Verify that editing snippets and notes works correctly and auto-saves to Google Drive.</p>
          <div class="test-steps">
            <ol>
              <li>Edit a snippet:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a snippet in the editor</li>
                  <li>Type some text</li>
                  <li>Verify the word count updates in real-time</li>
                  <li>Wait for auto-save (check save status indicator)</li>
                  <li>Verify "Saved at X:XX" appears after save</li>
                  <li>Open the snippet's Google Doc in Google Drive</li>
                  <li>Verify your changes appear in the Google Doc</li>
                </ul>
              </li>
              <li>Edit a note:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a note in the Notes sidebar</li>
                  <li>Edit the note content</li>
                  <li>Wait for auto-save</li>
                  <li>Verify the note text file is updated in Google Drive</li>
                </ul>
              </li>
              <li>Test undo/redo (if available):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Make an edit</li>
                  <li>Press Ctrl+Z (or Cmd+Z) to undo</li>
                  <li>Verify the change is undone</li>
                  <li>Press Ctrl+Shift+Z (or Cmd+Shift+Z) to redo</li>
                  <li>Verify the change is redone</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-9" name="smoke-9-9">
            <label for="smoke-9-9">All edit operations work correctly with auto-save</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.10: Export Operations</h4>
          <p>Verify that all export operations work correctly and create Google Docs in Drive.</p>
          <div class="test-steps">
            <ol>
              <li>Export all chapters:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Click "Export" and select "Export All Chapters"</li>
                  <li>Enter a filename</li>
                  <li>Optionally choose to include snippet names</li>
                  <li>Click "Export"</li>
                  <li>Verify a new Google Doc is created in the story folder</li>
                  <li>Open the exported Google Doc</li>
                  <li>Verify all chapters and snippets are included in order</li>
                </ul>
              </li>
              <li>Export outline:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Click "Export" and select "Export Outline"</li>
                  <li>Enter a filename</li>
                  <li>Click "Export"</li>
                  <li>Verify a new Google Doc is created</li>
                  <li>Verify it contains chapter titles, snippet titles, and descriptions</li>
                  <li>Verify it does NOT contain snippet body content</li>
                </ul>
              </li>
              <li>Export notes (People, Places, Things):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Export each note type separately</li>
                  <li>Verify exported Google Docs contain all notes of that type</li>
                  <li>Verify note content is included correctly</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-10" name="smoke-9-10">
            <label for="smoke-9-10">All export operations work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.11: Conflict Resolution (Concurrency Safety)</h4>
          <p>Verify that conflict detection and resolution work correctly when multiple editors modify the same content.</p>
          <div class="test-steps">
            <ol>
              <li>Open Yarny in two browser tabs (Tab 1 and Tab 2)</li>
              <li>In Tab 1, open a snippet and make an edit</li>
              <li>Save the snippet in Tab 1</li>
              <li>In Tab 2, open the same snippet (make it idle, not actively editing)</li>
              <li>In another browser tab, open the snippet's Google Doc in Google Docs</li>
              <li>Make different edits in Google Docs</li>
              <li>Save in Google Docs</li>
              <li>In Tab 2, switch back to the snippet</li>
              <li>Verify a conflict resolution modal appears</li>
              <li>Verify you can see both versions (Yarny vs Google Docs)</li>
              <li>Choose "Keep Yarny Version" and verify it works</li>
              <li>Trigger another conflict</li>
              <li>Choose "Use Google Docs Version" and verify it works</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-11" name="smoke-9-11">
            <label for="smoke-9-11">Conflict resolution works correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.12: Round-Trip Testing (Round-Trip Integrity)</h4>
          <p>Verify that content can be edited in both Yarny and Google Docs with no data loss or format corruption.</p>
          <div class="test-steps">
            <ol>
              <li>Edit a snippet in Yarny with special characters (quotes, em dashes, etc.)</li>
              <li>Add paragraph breaks (double Enter) and line breaks (Shift+Enter)</li>
              <li>Save the snippet in Yarny</li>
              <li>Open the snippet's Google Doc in Google Docs</li>
              <li>Verify all content matches exactly (paragraph breaks, line breaks, special characters)</li>
              <li>Edit in Google Docs (add text, modify existing text)</li>
              <li>Save in Google Docs</li>
              <li>In Yarny, switch to a different snippet and switch back</li>
              <li>Verify Yarny detects the external changes</li>
              <li>Verify all content is preserved correctly (no format loss, no corruption)</li>
              <li>Edit in Yarny again</li>
              <li>Save and verify in Google Docs that all changes are preserved</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-12" name="smoke-9-12">
            <label for="smoke-9-12">Round-trip editing preserves all content correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.13: Performance & Loading</h4>
          <p>Verify that the app performs well with large projects and loads content efficiently.</p>
          <div class="test-steps">
            <ol>
              <li>Open a large story (use test-large project if available):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Verify the app loads in a reasonable time (&lt; 5 seconds)</li>
                  <li>Verify scrolling through chapters/snippets is smooth</li>
                  <li>Verify snippet switching is responsive</li>
                </ul>
              </li>
              <li>Test lazy loading:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a story with many snippets</li>
                  <li>Verify the active snippet loads immediately</li>
                  <li>Check browser network tab</li>
                  <li>Verify other snippets load in the background (lazy loading)</li>
                  <li>Switch to a different snippet</li>
                  <li>Verify it loads quickly (may be from cache if already loaded)</li>
                </ul>
              </li>
              <li>Test performance budgets:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Open a snippet already in cache</li>
                  <li>Click on it and start typing immediately</li>
                  <li>Measure time from click to first character appearing</li>
                  <li>Verify latency is ≤300 ms (hot path)</li>
                  <li>Open a snippet not yet loaded</li>
                  <li>Measure time from click to first character appearing</li>
                  <li>Verify latency is ≤1.5 s (cold path)</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-13" name="smoke-9-13">
            <label for="smoke-9-13">Performance and loading meet requirements</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.14: Error Handling & Rate Limiting</h4>
          <p>Verify that the app handles errors gracefully and respects Drive API rate limits.</p>
          <div class="test-steps">
            <ol>
              <li>Test offline handling:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Disable network (or use browser dev tools)</li>
                  <li>Make an edit to a snippet</li>
                  <li>Verify offline banner appears</li>
                  <li>Verify save status shows "Queued - will save when online"</li>
                  <li>Re-enable network</li>
                  <li>Verify queued saves automatically retry and complete</li>
                </ul>
              </li>
              <li>Test error messages:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Trigger an error (e.g., invalid file ID, network error)</li>
                  <li>Verify a clear error message appears</li>
                  <li>Verify you can retry the action if applicable</li>
                </ul>
              </li>
              <li>Test rate limiting (if possible):
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Make rapid requests (or simulate 429 error)</li>
                  <li>Verify exponential backoff is applied</li>
                  <li>Verify retry only happens when tab is visible</li>
                  <li>Verify a clear error message is displayed</li>
                  <li>Verify automatic retry happens after backoff delay</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-14" name="smoke-9-14">
            <label for="smoke-9-14">Error handling and rate limiting work correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.15: Cross-Tab Conflicts (Yarny vs. Yarny)</h4>
          <p>Verify that Yarny detects and prevents conflicts when the same snippet is edited in multiple tabs.</p>
          <div class="test-steps">
            <ol>
              <li>Open Yarny in two browser tabs (Tab 1 and Tab 2)</li>
              <li>In Tab 1, open a snippet and start editing</li>
              <li>In Tab 2, try to open the same snippet</li>
              <li>Verify Tab 2 shows "Editing in another tab" message or read-only indicator</li>
              <li>Verify Tab 2 is read-only (cannot edit) while Tab 1 is editing</li>
              <li>Save the snippet in Tab 1</li>
              <li>Switch to Tab 2</li>
              <li>Verify Tab 2 updates with the latest content from Tab 1</li>
              <li>Close Tab 1</li>
              <li>Verify Tab 2 regains edit capability (no longer read-only)</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-15" name="smoke-9-15">
            <label for="smoke-9-15">Cross-tab conflict detection works correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Smoke Test 1.16: Visibility-Based Request Gating</h4>
          <p>Verify that Yarny only makes background requests when the browser tab is visible.</p>
          <div class="test-steps">
            <ol>
              <li>Open Yarny in multiple browser tabs</li>
              <li>Open a story with many snippets in Tab 1</li>
              <li>Switch to Tab 2 (Tab 1 becomes hidden)</li>
              <li>Check browser network tab or console</li>
              <li>Verify Tab 1 stops making background prefetch requests when hidden</li>
              <li>Switch back to Tab 1 (tab becomes visible)</li>
              <li>Verify background prefetch requests resume in Tab 1</li>
              <li>Verify only the visible tab makes background requests</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="smoke-9-16" name="smoke-9-16">
            <label for="smoke-9-16">Visibility-based request gating works correctly</label>
          </div>
        </div>

        <div class="note-box" style="margin-top: var(--space-2xl);">
          <p><strong>Smoke Test Execution:</strong> These smoke tests should be executed:</p>
          <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
            <li><strong>Before Phase 2:</strong> Tests 9.1-9.5 (Local Development, Build, Netlify, Editor, State Management)</li>
            <li><strong>After Phase 4:</strong> Tests 9.6-9.10 (Create, Rename, Reorder, Edit, Export)</li>
            <li><strong>After Phase 5:</strong> Tests 9.11-9.12 (Conflict Resolution, Round-Trip)</li>
            <li><strong>After Phase 6:</strong> Tests 9.13-9.16 (Performance, Error Handling, Cross-Tab, Visibility Gating)</li>
            <li><strong>Before Ship:</strong> Re-execute all smoke tests to verify no regressions</li>
          </ul>
        </div>
      </div>

        <!-- Section 10: Round-Trip Validation (Final comprehensive test) -->
        <div class="test-section" id="section-10">
          <h2><i class="material-icons">sync</i> Section 10: Round-Trip Validation (test-small Project)</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This is the comprehensive end-to-end validation that ensures round-trip integrity between Yarny and Google Docs using the test-small project. Complete this section last, after all other sections. This ensures content is preserved correctly in both directions with no data loss or format corruption.</p>
        
          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting validation, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>Yarny Test Corpus folder exists in Google Drive</li>
              <li>test-small story folder created in the corpus folder</li>
              <li>Story structure created (Chapters/, People/, Places/, Things/ folders)</li>
              <li>"Welcome to Yarny" and "Character Seeds" snippets uploaded as Google Docs</li>
              <li>Story folder ID recorded in <code>test-corpus/sample-project/metadata.json</code></li>
              <li>Yarny app is running and user is authenticated with Google</li>
              <li>test-small story is accessible in Yarny stories list</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 10.1: Basic Content Round-Trip (Yarny → Google Docs → Yarny)</h4>
            <p>Verify that basic text content is preserved correctly in a round-trip.</p>
            <div class="test-steps">
              <ol>
                <li>Open the test-small story in Yarny</li>
                <li>Open the "Welcome to Yarny" snippet in the editor</li>
                <li><strong>Record initial content</strong> - Copy the entire content from Yarny editor</li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save to complete (check save status)</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc in Google Drive</li>
                <li><strong>Verify content matches</strong> - Compare Google Docs content with recorded Yarny content:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All text matches exactly</li>
                    <li>No characters are missing</li>
                    <li>No characters are added</li>
                    <li>No characters are corrupted</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add a new paragraph: "This is a test edit from Google Docs."</li>
                <li><strong>Save in Google Docs</strong> - Save the document</li>
                <li><strong>Return to Yarny</strong> - Switch to a different snippet, then switch back to "Welcome to Yarny"</li>
                <li><strong>Verify changes appear</strong> - Check that the edit from Google Docs appears in Yarny</li>
                <li><strong>Verify content integrity</strong> - Compare full content again:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All original content is preserved</li>
                    <li>New edit from Google Docs is present</li>
                    <li>No format loss or corruption</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-1" name="roundtrip-10-1">
              <label for="roundtrip-10-1">Basic content round-trip preserves all content correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.2: Paragraph Breaks Round-Trip</h4>
            <p>Verify that paragraph breaks (double Enter) are preserved correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add paragraph breaks</strong> - Add multiple paragraph breaks:
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">First paragraph.

Second paragraph.

Third paragraph.</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify paragraph breaks</strong> - Check that paragraph breaks are preserved:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Each paragraph is on a separate line with spacing</li>
                    <li>No paragraph breaks are collapsed (merged)</li>
                    <li>No paragraph breaks are duplicated</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add another paragraph: "Fourth paragraph added in Google Docs."</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify paragraph breaks preserved</strong> - Check that all paragraph breaks are still correct:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Original paragraph breaks are preserved</li>
                    <li>New paragraph from Google Docs has proper spacing</li>
                    <li>No paragraph breaks are collapsed or duplicated</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-2" name="roundtrip-10-2">
              <label for="roundtrip-10-2">Paragraph breaks are preserved exactly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.3: Line Breaks Round-Trip</h4>
            <p>Verify that soft line breaks (Shift+Enter) are preserved correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add line breaks</strong> - Add soft line breaks within a paragraph (Use Shift+Enter for line breaks, not Enter):
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">Line one
Line two
Line three</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify line breaks</strong> - Check that line breaks are preserved:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Each line is on a separate line</li>
                    <li>No line breaks are collapsed</li>
                    <li>No line breaks are converted to paragraph breaks</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add another line: "Line four added in Google Docs"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify line breaks preserved</strong> - Check that all line breaks are still correct</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-3" name="roundtrip-10-3">
              <label for="roundtrip-10-3">Line breaks are preserved exactly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.4: Special Characters Round-Trip</h4>
            <p>Verify that special characters are preserved correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add special characters</strong> - Add various special characters:
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">Quotes: "double" and 'single'
Em dash: —
En dash: –
Ellipsis: …
Copyright: ©
Registered: ®
Trademark: ™</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify special characters</strong> - Check that all special characters are preserved:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Double quotes are preserved</li>
                    <li>Single quotes are preserved</li>
                    <li>Em dash (—) is preserved</li>
                    <li>En dash (–) is preserved</li>
                    <li>Ellipsis (…) is preserved</li>
                    <li>Copyright (©) is preserved</li>
                    <li>Registered (®) is preserved</li>
                    <li>Trademark (™) is preserved</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add more special characters: "Curly quotes: "like this" and 'this'"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify all special characters preserved</strong> - Check that all characters are still correct</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-4" name="roundtrip-10-4">
              <label for="roundtrip-10-4">All special characters are preserved exactly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.5: Mixed Formatting Round-Trip</h4>
            <p>Verify that mixed paragraph breaks, line breaks, and special characters all work together.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Character Seeds" snippet in Yarny</li>
                <li><strong>Create complex content</strong> - Add content with multiple paragraph breaks, line breaks within paragraphs, and special characters:
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">Character: John Doe

Description: A "mysterious" character with—wait for it—a secret past.

Traits:
- Brave
- Curious
- Loyal

Notes: He's been to many places… but never talks about them.</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify all formatting preserved</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Paragraph breaks are correct</li>
                    <li>Line breaks are correct</li>
                    <li>Special characters are correct</li>
                    <li>Overall structure is preserved</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add more content with mixed formatting</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify complete round-trip</strong> - Check that all formatting is preserved correctly</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-5" name="roundtrip-10-5">
              <label for="roundtrip-10-5">All formatting elements are preserved correctly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.6: Multiple Round-Trips</h4>
            <p>Verify that content integrity is maintained across multiple round-trips.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Record initial content</strong> - Copy the entire content</li>
                <li><strong>Round-trip 1</strong>: Edit in Yarny → Save → Edit in Google Docs → Save → Check in Yarny
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content is preserved correctly</li>
                  </ul>
                </li>
                <li><strong>Round-trip 2</strong>: Edit in Yarny again → Save → Edit in Google Docs again → Save → Check in Yarny
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content is preserved correctly</li>
                  </ul>
                </li>
                <li><strong>Round-trip 3</strong>: Edit in Google Docs → Save → Edit in Yarny → Save → Check in Google Docs
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content is preserved correctly</li>
                  </ul>
                </li>
                <li><strong>Final verification</strong> - Compare final content with initial content:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All original content is still present</li>
                    <li>All edits from both directions are present</li>
                    <li>No content is lost or corrupted</li>
                    <li>Formatting is preserved</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-6" name="roundtrip-10-6">
              <label for="roundtrip-10-6">Content integrity is maintained across multiple round-trips</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.7: Conflict Detection</h4>
            <p>Verify that conflicts are detected when both Yarny and Google Docs are edited.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Make edit in Yarny</strong> - Add: "Edit from Yarny"</li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Switch to different snippet</strong> - Make the first snippet idle (not actively editing)</li>
                <li><strong>Edit in Google Docs</strong> - Open the snippet's Google Doc and add: "Edit from Google Docs"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch back to "Welcome to Yarny" snippet</li>
                <li><strong>Verify conflict detection</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Conflict resolution modal appears</li>
                    <li>Both versions are displayed (Yarny vs Google Docs)</li>
                    <li>Timestamps are shown for both versions</li>
                  </ul>
                </li>
                <li><strong>Resolve with Yarny version</strong> - Choose "Keep Yarny Version"
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Yarny version is kept</li>
                    <li>Google Doc is updated with Yarny version</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Docs</strong> - Open the Google Doc and verify it matches Yarny version</li>
                <li><strong>Test resolve with Google Docs version</strong> - Trigger another conflict and choose "Use Google Docs Version"
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Docs version replaces Yarny content</li>
                    <li>Editor shows Google Docs content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-7" name="roundtrip-10-7">
              <label for="roundtrip-10-7">Conflicts are detected and resolved correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.8: Empty Content Round-Trip</h4>
            <p>Verify that empty content is handled correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Character Seeds" snippet in Yarny</li>
                <li><strong>Clear all content</strong> - Delete all text (make snippet empty)</li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify empty</strong> - Check that Google Doc is empty (or has minimal content)</li>
                <li><strong>Add content in Google Docs</strong> - Add: "Content added in Google Docs"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify content appears</strong> - Check that content from Google Docs appears in Yarny</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-8" name="roundtrip-10-8">
              <label for="roundtrip-10-8">Empty content is handled correctly, and new content from Google Docs appears</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.9: Format Normalization</h4>
            <p>Verify that format normalization works correctly (line endings, NBSPs, trailing spaces).</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add content with mixed line endings</strong> - Create content with:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Some lines ending with <code>\n</code> (Unix)</li>
                    <li>Some lines ending with <code>\r\n</code> (Windows)</li>
                    <li>Some lines ending with <code>\r</code> (Mac)</li>
                    <li>Non-breaking spaces (NBSP)</li>
                    <li>Trailing spaces</li>
                  </ul>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify normalization</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All line endings are normalized to <code>\n</code> (Unix format)</li>
                    <li>NBSPs are normalized to regular spaces</li>
                    <li>Trailing spaces are handled correctly</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add more content with mixed formatting</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify normalization after round-trip</strong> - Check that formatting is still normalized correctly</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-9" name="roundtrip-10-9">
              <label for="roundtrip-10-9">Format normalization works correctly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.10: Auto-Save and Round-Trip</h4>
            <p>Verify that auto-save works correctly and content is preserved.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Make multiple edits</strong> - Type several sentences, wait for auto-save between edits</li>
                <li><strong>Check save status</strong> - Verify "Saved at X:XX" appears after each auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify all edits saved</strong> - Check that all edits from Yarny appear in Google Docs</li>
                <li><strong>Edit in Google Docs</strong> - Make an edit in Google Docs</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify round-trip</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All Yarny edits are preserved</li>
                    <li>Google Docs edit appears</li>
                    <li>Content is complete and correct</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-10" name="roundtrip-10-10">
              <label for="roundtrip-10-10">Auto-save works correctly and round-trip preserves all content</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.11: Very Long Content Round-Trip (10KB+)</h4>
            <p>Verify that large snippets (10KB or more) round-trip between Yarny and Google Docs without loss or performance issues.</p>
            <div class="test-steps">
              <ol>
                <li>Create or import a snippet with at least 10KB of plain text content (≈ 1,500–2,000 words)</li>
                <li><strong>Record baseline:</strong> Copy entire content and note word count/character count</li>
                <li><strong>Save in Yarny</strong> - wait for auto-save to complete</li>
                <li><strong>Open in Google Docs</strong> - verify:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All content is present with no truncation</li>
                    <li>Paragraph and line breaks match baseline</li>
                    <li>No noticeable performance lag in Google Docs</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Add several new paragraphs at beginning, middle, and end</li>
                    <li>Save the document</li>
                  </ul>
                </li>
                <li><strong>Return to Yarny</strong> - switch away and back to the snippet</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Docs edits appear correctly</li>
                    <li>All original content remains intact</li>
                    <li>Editor remains responsive while scrolling and editing</li>
                  </ul>
                </li>
                <li><strong>Final comparison:</strong> Confirm final content matches Google Docs exactly (no character loss)</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-11" name="roundtrip-10-11">
              <label for="roundtrip-10-11">10KB+ round-trip preserves all content and remains performant</label>
            </div>
          </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Round-Trip Validation Execution:</strong> These tests should be executed:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>After Phase 3:</strong> Complete all 10 round-trip validation tests with test-small project</li>
              <li><strong>Before Phase 4:</strong> Verify all tests pass before proceeding to editor phase</li>
              <li><strong>Document Results:</strong> Record any failures or issues in the notes section of each test</li>
              <li><strong>Report Issues:</strong> Create GitHub issues for any critical failures</li>
            </ul>
          </div>
        </div>

        <!-- Section 11: Operations & Conflict Resolution Validation -->
        <div class="test-section" id="section-11">
          <h2><i class="material-icons">settings</i> Section 11: Operations & Conflict Resolution Validation</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section validates that all CRUD operations work correctly and that conflict resolution handles concurrent edits properly. These tests ensure data integrity and proper synchronization between Yarny and Google Drive.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl); background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3B82F6;">
            <p><strong>React App Testing (Phase 5):</strong> These tests apply to both the classic app and the React app. For React app testing:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>React App URL:</strong> Navigate to <code>/react/editor</code> (or <code>http://localhost:5173/react/editor</code> for local testing)</li>
              <li><strong>UI Differences:</strong> React app uses Material UI components - look for Material UI button styles, dialogs, and menu components</li>
              <li><strong>Story Selection:</strong> React app uses Zustand store - select stories via the stories list at <code>/react/stories</code>, not URL parameters</li>
              <li><strong>Component Structure:</strong> React app components: ConflictResolutionModal, SortableChapterList, SortableSnippetList, ContextMenu, RenameModal</li>
              <li><strong>Drag & Drop:</strong> Implemented using <code>@dnd-kit</code> - test drag and drop operations with Material UI components</li>
              <li><strong>Conflict Resolution:</strong> Uses <code>ConflictResolutionModal</code> component - conflict detection happens when switching snippets</li>
              <li><strong>Automated Tests:</strong> E2E tests in <code>tests/e2e/</code> need updates for React app compatibility (see OPEN_TODOS_CHECKLIST.md Phase 5 notes)</li>
              <li><strong>Manual Testing:</strong> All test steps below apply to React app - use the same verification steps but navigate to <code>/react/editor</code></li>
            </ul>
          </div>
        
          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting validation, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>Yarny app is running and user is authenticated with Google</li>
              <li>You have a test story available (use test-small or create a new one)</li>
              <li>You have access to Google Drive to verify file changes</li>
              <li>You can open Google Docs in a separate browser tab/window</li>
            </ul>
          </div>

          <h3>Chapter & Snippet Management</h3>

          <div class="test-item">
            <h4>Test 11.1: Create Chapter</h4>
            <p>Verify that creating a new chapter works correctly and creates the chapter folder in Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Click "New Chapter" button or use keyboard shortcut (Cmd/Ctrl+Shift+N)</li>
                <li>Enter a chapter name (e.g., "New Chapter")</li>
                <li>Click "Create" or press Enter</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter appears in the sidebar</li>
                    <li>Chapter is visible and can be clicked</li>
                    <li>Initial snippet is created in the new chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter folder is created in Chapters folder</li>
                    <li>Folder name matches chapter name</li>
                    <li>Initial snippet Google Doc is created in chapter folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-1-chapter" name="ops-11-1-chapter">
              <label for="ops-11-1-chapter">Chapter creation works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.2: Create Snippet</h4>
            <p>Verify that creating a new snippet works correctly and appears immediately (optimistic UI).</p>
            <div class="test-steps">
              <ol>
                <li>Click "New Snippet" button or use keyboard shortcut (Cmd/Ctrl+N)</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet appears immediately in the list</li>
                    <li>You can start typing right away (no waiting for Drive file creation)</li>
                    <li>Snippet is selected and editor is focused</li>
                  </ul>
                </li>
                <li>Type some content in the new snippet</li>
                <li>Wait a few seconds</li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Doc is created in the chapter folder</li>
                    <li>File name matches snippet name</li>
                    <li>File content matches what you typed</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-2-snippet" name="ops-11-2-snippet">
              <label for="ops-11-2-snippet">Snippet creation works correctly with optimistic UI</label>
            </div>
          </div>

          <h3>Story Operations</h3>

          <div class="test-item">
            <h4>Test 11.3: Create Story</h4>
            <p>Verify that creating a new story works correctly and creates all required files and folders in Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Click "New Story" button in Yarny</li>
                <li>Enter a story name (e.g., "Operations Test Story")</li>
                <li>Click "Create" or press Enter</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story appears in the stories list</li>
                    <li>Story opens in the editor</li>
                    <li>Initial snippet is created and visible</li>
                    <li>Chapters sidebar shows at least one chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story folder exists in "Yarny Stories" folder</li>
                    <li>Folders created: Chapters/, People/, Places/, Things/</li>
                    <li>Files created: project.json, data.json</li>
                    <li>Initial chapter folder exists in Chapters/</li>
                    <li>Initial snippet Google Doc exists in chapter folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-1" name="ops-11-1">
              <label for="ops-11-1">Story creation works correctly and creates all required structure</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.4: Delete Story</h4>
            <p>Verify that deleting a story removes it from Yarny and Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Select a test story (create one if needed)</li>
                <li>Click the delete/trash icon or use delete option</li>
                <li>Confirm deletion in the confirmation dialog</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story is removed from stories list</li>
                    <li>If it was the active story, editor shows empty state or another story</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story folder is moved to trash or deleted</li>
                    <li>All files and subfolders are removed</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-2" name="ops-11-2">
              <label for="ops-11-2">Story deletion works correctly and removes all data</label>
            </div>
          </div>

          <h3>Chapter Operations</h3>

          <div class="test-item">
            <h4>Test 11.5: Reorder Chapters</h4>
            <p>Verify that dragging chapters to reorder them persists to Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least 2 chapters</li>
                <li><strong>Record initial order</strong> - Note the order of chapters (e.g., "Chapter 1", "Chapter 2")</li>
                <li><strong>Drag to reorder</strong> - Drag "Chapter 2" above "Chapter 1"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapters appear in new order immediately</li>
                    <li>No visual glitches or flickering</li>
                  </ul>
                </li>
                <li>Wait a few seconds for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapters remain in new order after refresh</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json in story folder</li>
                    <li>Check groups object - position values reflect new order</li>
                    <li>Open project.json - groupIds array reflects new order</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-3" name="ops-11-3">
              <label for="ops-11-3">Chapter reordering persists correctly to Drive</label>
            </div>
          </div>

          <h3>Snippet Operations</h3>

          <div class="test-item">
            <h4>Test 11.6: Reorder Snippets Within Chapter</h4>
            <p>Verify that reordering snippets within a chapter persists correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open a chapter with at least 2 snippets</li>
                <li><strong>Record initial order</strong> - Note snippet titles in order</li>
                <li><strong>Drag to reorder</strong> - Drag second snippet above first</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippets appear in new order immediately</li>
                    <li>No visual glitches</li>
                  </ul>
                </li>
                <li>Wait for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippets remain in new order after refresh</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json</li>
                    <li>Check chapter's snippetIds array - order matches new order</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-4" name="ops-11-4">
              <label for="ops-11-4">Snippet reordering within chapter persists correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.7: Move Snippet Between Chapters</h4>
            <p>Verify that moving a snippet from one chapter to another works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least 2 chapters, each with at least 1 snippet</li>
                <li><strong>Record initial state</strong> - Note which snippet is in which chapter</li>
                <li><strong>Move snippet</strong> - Drag a snippet from Chapter 1 to Chapter 2</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet appears in target chapter immediately</li>
                    <li>Snippet is removed from source chapter</li>
                    <li>No duplicate snippets</li>
                  </ul>
                </li>
                <li>Wait for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet remains in target chapter after refresh</li>
                    <li>Snippet is not in source chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json</li>
                    <li>Check source chapter's snippetIds - snippet ID is removed</li>
                    <li>Check target chapter's snippetIds - snippet ID is added</li>
                    <li>Check snippet's groupId - matches target chapter ID</li>
                    <li>Verify snippet file is in target chapter's Drive folder (if file move is implemented)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-5" name="ops-11-5">
              <label for="ops-11-5">Moving snippets between chapters works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.8: Delete Chapter</h4>
            <p>Verify that deleting a chapter removes it and all its snippets correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a chapter (or use delete button)</li>
                <li>Select "Delete" option</li>
                <li>Confirm deletion</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter is removed from sidebar</li>
                    <li>All chapter's snippets are removed</li>
                    <li>No orphaned snippets remain</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter folder is deleted from Chapters folder</li>
                    <li>All snippet files in chapter folder are deleted</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-8" name="ops-11-8">
              <label for="ops-11-8">Chapter deletion works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.9: Delete Snippet</h4>
            <p>Verify that deleting a snippet removes it correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a snippet (or use delete button)</li>
                <li>Select "Delete" option</li>
                <li>Confirm deletion</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet is removed from chapter list</li>
                    <li>If it was active, editor shows empty state or another snippet</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet Google Doc is deleted from chapter folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-9" name="ops-11-9">
              <label for="ops-11-9">Snippet deletion works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.10: Rename Chapter</h4>
            <p>Verify that renaming a chapter updates the folder name in Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Double-click on a chapter title (or right-click and select "Rename")</li>
                <li>Enter a new name (e.g., "Renamed Chapter")</li>
                <li>Press Enter or click Save</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter appears with new name</li>
                    <li>All snippets remain in the chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter folder is renamed to new name</li>
                    <li>Snippet files remain in the folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-10" name="ops-11-10">
              <label for="ops-11-10">Chapter renaming works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.11: Rename Snippet</h4>
            <p>Verify that renaming a snippet updates the Google Doc name.</p>
            <div class="test-steps">
              <ol>
                <li>Double-click on a snippet title (or right-click and select "Rename")</li>
                <li>Enter a new name (e.g., "Renamed Snippet")</li>
                <li>Press Enter or click Save</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet appears with new name</li>
                    <li>Snippet content is unchanged</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Doc is renamed to new name</li>
                    <li>File content is unchanged</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-11" name="ops-11-11">
              <label for="ops-11-11">Snippet renaming works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.12: Collapse and Expand Chapters</h4>
            <p>Verify that collapsing and expanding chapters works correctly and persists across page reloads.</p>
            <div class="test-steps">
              <ol>
                <li>Click the collapse button on a chapter (chevron or collapse icon)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter collapses (snippets are hidden)</li>
                    <li>Collapse icon changes to expand icon</li>
                  </ul>
                </li>
                <li>Click the expand button</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter expands (snippets are visible)</li>
                    <li>Expand icon changes to collapse icon</li>
                  </ul>
                </li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Collapsed state is preserved (chapter remains collapsed if it was collapsed)</li>
                    <li>Expanded state is preserved (chapter remains expanded if it was expanded)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-12" name="ops-11-12">
              <label for="ops-11-12">Chapter collapse/expand works and persists</label>
            </div>
          </div>

          <h3>Conflict Resolution</h3>

          <div class="test-item">
            <h4>Test 11.13: Conflict Detection - Drive Modified While Yarny Open</h4>
            <p>Verify that conflicts are detected when Google Docs is modified while Yarny has the snippet open.</p>
            <div class="test-steps">
              <ol>
                <li>Open a snippet in Yarny editor</li>
                <li><strong>Record initial content</strong> - Note the current content</li>
                <li><strong>Edit in Google Docs</strong> - Open the snippet's Google Doc in a separate tab</li>
                <li>Make a significant edit (add a paragraph or change text)</li>
                <li>Save the document in Google Docs</li>
                <li><strong>Edit in Yarny</strong> - Make a different edit in Yarny (add different text)</li>
                <li>Wait for auto-save to complete in Yarny</li>
                <li><strong>Switch snippets</strong> - Click on a different snippet, then switch back</li>
                <li><strong>Verify conflict modal appears:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Conflict resolution modal is displayed</li>
                    <li>Modal shows "Local Version" with Yarny's content</li>
                    <li>Modal shows "Drive Version" with Google Docs content</li>
                    <li>Both versions show correct modification times</li>
                    <li>Both versions show correct content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-6" name="ops-11-6">
              <label for="ops-11-6">Conflict detection works when Drive is modified while Yarny is open</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.14: Conflict Resolution - Use Local</h4>
            <p>Verify that choosing "Keep Local" in conflict resolution uses Yarny's version.</p>
            <div class="test-steps">
              <ol>
                <li>Create a conflict scenario (see Test 11.6)</li>
                <li>When conflict modal appears, click "Keep Local"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Editor shows Yarny's local content (not Drive's)</li>
                    <li>Modal closes</li>
                    <li>No error messages</li>
                  </ul>
                </li>
                <li>Wait for auto-save to complete</li>
                <li><strong>Verify in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the snippet's Google Doc</li>
                    <li>Content matches Yarny's local version (not the Drive version that was shown in conflict)</li>
                    <li>Yarny's edits are present</li>
                  </ul>
                </li>
                <li><strong>Refresh Yarny</strong> - Reload the page</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content matches what was kept (local version)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-7" name="ops-11-7">
              <label for="ops-11-7">"Keep Local" conflict resolution works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.15: Conflict Resolution - Use Drive</h4>
            <p>Verify that choosing "Use Drive" in conflict resolution uses Google Docs' version.</p>
            <div class="test-steps">
              <ol>
                <li>Create a conflict scenario (see Test 11.6)</li>
                <li>When conflict modal appears, click "Use Drive"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Editor shows Drive's content (not local Yarny's)</li>
                    <li>Modal closes</li>
                    <li>No error messages</li>
                    <li>Local Yarny edits are replaced with Drive content</li>
                  </ul>
                </li>
                <li>Wait for auto-save to complete</li>
                <li><strong>Verify in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the snippet's Google Doc</li>
                    <li>Content is unchanged (still the Drive version)</li>
                  </ul>
                </li>
                <li><strong>Refresh Yarny</strong> - Reload the page</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content matches Drive version</li>
                    <li>Local edits are not present</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-8" name="ops-11-8">
              <label for="ops-11-8">"Use Drive" conflict resolution works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.16: Conflict Resolution - Cancel</h4>
            <p>Verify that canceling conflict resolution keeps the current state.</p>
            <div class="test-steps">
              <ol>
                <li>Create a conflict scenario (see Test 11.6)</li>
                <li>When conflict modal appears, click "Cancel"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Modal closes</li>
                    <li>Editor content remains unchanged (still shows local version)</li>
                    <li>No error messages</li>
                  </ul>
                </li>
                <li><strong>Switch snippets and back</strong> - Conflict modal should appear again</li>
                <li><strong>Verify conflict persists:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Conflict is still detected</li>
                    <li>Modal shows both versions again</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-9" name="ops-11-9">
              <label for="ops-11-9">Canceling conflict resolution preserves current state</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.17: Auto-Save Persistence</h4>
            <p>Verify that auto-save works correctly and persists changes to Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Open a snippet in Yarny editor</li>
                <li><strong>Make an edit</strong> - Type some new text</li>
                <li><strong>Wait for auto-save</strong> - Watch for save status indicator (should show "Saving..." then "Saved")</li>
                <li><strong>Verify save status:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Save status changes from "Saving..." to "Saved"</li>
                    <li>Last synced time updates</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the snippet's Google Doc</li>
                    <li>New text appears in the document</li>
                    <li>Document modification time is recent</li>
                  </ul>
                </li>
                <li><strong>Refresh Yarny</strong> - Reload the page</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Edits are still present after refresh</li>
                    <li>Content matches what was saved</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-17" name="ops-11-17">
              <label for="ops-11-17">Auto-save works correctly and persists to Drive</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.18: Multi-Tab Reorder</h4>
            <p>Verify that reordering chapters/snippets in one tab is reflected in other tabs.</p>
            <div class="test-steps">
              <ol>
                <li>Open Yarny in two browser tabs (same story)</li>
                <li>In Tab 1: Reorder chapters (drag Chapter 2 above Chapter 1)</li>
                <li>Wait a few seconds for save to complete</li>
                <li>In Tab 2: Refresh the page</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter order in Tab 2 matches Tab 1 (Chapter 2 before Chapter 1)</li>
                    <li>No conflicts or errors occur</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-18" name="ops-11-18">
              <label for="ops-11-18">Multi-tab reordering is synchronized correctly</label>
            </div>
          </div>

        <div class="test-item">
          <h4>Test 11.19: Order Persists During Concurrent Edits</h4>
          <p>Verify that chapter order remains stable when other edits occur concurrently.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with multiple chapters and snippets</li>
              <li><strong>Reorder chapters:</strong> Drag Chapter B above Chapter A</li>
              <li>Without refreshing, switch to a different snippet and make edits (add text)</li>
              <li>Trigger an auto-save (wait for "Saved" status)</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapter order stays in the new position during edits</li>
                  <li>No reversion to previous order occurs after auto-save</li>
                </ul>
              </li>
              <li>Refresh the page</li>
              <li><strong>Verify persistence:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapter order remains as reordered</li>
                  <li>Snippet edits are also preserved</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="ops-11-19" name="ops-11-19">
            <label for="ops-11-19">Chapter order persists while concurrent edits occur</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 11.20: Order Persists Through Background Loads</h4>
          <p>Verify that background synchronization (e.g., story reloads, Drive refresh) does not revert chapter order.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story and reorder chapters to a new arrangement</li>
              <li>Trigger a background load:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Use the "Reload from Drive" control if available, or</li>
                  <li>Open DevTools and simulate network reconnect triggering background sync, or</li>
                  <li>Switch to another story and back (if that forces background fetch)</li>
                </ul>
              </li>
              <li><strong>Monitor:</strong> Watch network panel for Drive fetches completing</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapter order remains unchanged after background requests finish</li>
                  <li>No duplicate or missing chapters appear</li>
                </ul>
              </li>
              <li>Refresh the page as a final confirmation</li>
              <li>Verify order persists and matches the reordered state</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="ops-11-20" name="ops-11-20">
            <label for="ops-11-20">Chapter order survives background reloads and sync operations</label>
          </div>
        </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Operations Validation Execution:</strong> These tests should be executed:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>After Phase 5:</strong> Complete all operations tests to verify CRUD functionality</li>
              <li><strong>Before Phase 6:</strong> Verify conflict resolution works before proceeding</li>
              <li><strong>Document Results:</strong> Record any failures, timing issues, or data inconsistencies</li>
              <li><strong>Report Issues:</strong> Create GitHub issues for any critical failures or data loss</li>
              <li><strong>Verify Persistence:</strong> Always refresh and check Google Drive to ensure changes persist</li>
            </ul>
          </div>

          <div class="note-box" style="margin-top: var(--space-xl); background: rgba(251, 191, 36, 0.1); border-left: 4px solid #FBBF24;">
            <p><strong>Automated Test Status (Phase 5):</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>Test Helper Created:</strong> <code>tests/utils/react-app-helpers.ts</code> provides utilities for React app testing</li>
              <li><strong>React Test File:</strong> <code>tests/e2e/conflict-resolution-react.spec.ts</code> - Example React app test</li>
              <li><strong>Manual Verification Required:</strong> Until all E2E tests are updated, manually verify all Phase 5 features work in React app</li>
              <li><strong>Test Update Progress:</strong>
                <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                  <li>Conflict Resolution: Helper created, React test file created, needs full test suite update</li>
                  <li>Chapter/Snippet Management: Needs route updates to <code>/react/editor</code>, API mock updates</li>
                  <li>Color Coding: Needs Material UI selector updates, component interaction updates</li>
                  <li>Goals: Needs Material UI selector updates, modal interaction updates</li>
                </ul>
              </li>
              <li><strong>Next Steps for Automated Tests:</strong>
                <ol style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                  <li>Update test routes from <code>/editor</code> to <code>/react/editor</code></li>
                  <li>Update UI selectors to match Material UI component structure</li>
                  <li>Update API mocks to match React app's normalized payload structure</li>
                  <li>Update story selection to use Zustand store (via localStorage or UI clicks)</li>
                  <li>Use <code>react-app-helpers.ts</code> utilities for common test setup</li>
                </ol>
              </li>
            </ul>
          </div>
        </div>

        <!-- Section 12: Color Coding & Visual Organization -->
        <div class="test-section" id="section-12">
          <h2><i class="material-icons">palette</i> Section 12: Color Coding & Visual Organization</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests chapter color coding functionality, including the color picker, color application, persistence, and visual feedback.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl); background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3B82F6;">
            <p><strong>React App Testing (Phase 5):</strong> Color coding is implemented in the React app using the <code>ColorPicker</code> component. For React app testing:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>React App URL:</strong> Navigate to <code>/react/editor</code> and select a story</li>
              <li><strong>Color Picker Component:</strong> Located in <code>src/components/story/ColorPicker.tsx</code> - uses Material UI Dialog/Popover</li>
              <li><strong>Color Application:</strong> Colors are applied to chapters via the color chip next to chapter titles in the sidebar</li>
              <li><strong>12 Accent Colors:</strong> Red, Orange, Amber, Yellow, Lime, Emerald, Teal, Cyan, Blue, Indigo, Violet, Fuchsia</li>
              <li><strong>Persistence:</strong> Colors are stored in chapter metadata and persist across page reloads</li>
            </ul>
          </div>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story with at least one chapter</li>
              <li>You can see chapter headers in the sidebar</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 12.1: Open Color Picker</h4>
            <p>Verify that clicking the color chip next to a chapter opens the color picker.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least one chapter</li>
                <li>Locate the color chip/button next to a chapter title</li>
                <li>Click on the color chip</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker dialog/popover appears</li>
                    <li>All 12 accent colors are visible (red, orange, amber, yellow, lime, emerald, teal, cyan, blue, indigo, violet, fuchsia)</li>
                    <li>Colors are arranged in a grid (4 columns x 3 rows)</li>
                    <li>Current chapter color (if any) is highlighted/selected</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-1" name="color-12-1">
              <label for="color-12-1">Color picker opens correctly and displays all 12 colors</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.2: Apply Color to Chapter</h4>
            <p>Verify that selecting a color applies it to the chapter and updates the color chip.</p>
            <div class="test-steps">
              <ol>
                <li>Open color picker for a chapter (see Test 12.1)</li>
                <li>Click on a color (e.g., blue)</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>Chapter's color chip updates to show selected color</li>
                    <li>Chapter header or sidebar shows color styling (if implemented)</li>
                    <li>No error messages appear</li>
                  </ul>
                </li>
                <li>Wait a few seconds for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter color is preserved after refresh</li>
                    <li>Color chip shows the selected color</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json or metadata.json in story folder</li>
                    <li>Chapter's color property is saved (e.g., "color": "#3B82F6" for blue)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-2" name="color-12-2">
              <label for="color-12-2">Color application works correctly and persists</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.3: Change Chapter Color</h4>
            <p>Verify that changing a chapter's color from one color to another works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Select a chapter that already has a color applied</li>
                <li>Open color picker</li>
                <li>Select a different color (e.g., change from blue to red)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color chip updates to new color immediately</li>
                    <li>Old color is no longer applied</li>
                    <li>Color change persists after refresh</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-3" name="color-12-3">
              <label for="color-12-3">Changing chapter color works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.4: Keyboard Navigation in Color Picker</h4>
            <p>Verify that color picker can be navigated using keyboard.</p>
            <div class="test-steps">
              <ol>
                <li>Open color picker</li>
                <li>Use arrow keys to navigate between colors</li>
                <li>Press Enter or Space to select a color</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Focus moves between color options</li>
                    <li>Focused color is highlighted</li>
                    <li>Enter/Space selects the focused color</li>
                    <li>Color picker closes after selection</li>
                  </ul>
                </li>
                <li>Press Escape to close without selecting</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>No color change is applied</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-4" name="color-12-4">
              <label for="color-12-4">Keyboard navigation in color picker works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.5: Close Color Picker</h4>
            <p>Verify that color picker closes when clicking outside or pressing Escape.</p>
            <div class="test-steps">
              <ol>
                <li>Open color picker</li>
                <li>Click outside the color picker (on editor or sidebar)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>No color change is applied</li>
                  </ul>
                </li>
                <li>Open color picker again</li>
                <li>Press Escape key</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>No color change is applied</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-5" name="color-12-5">
              <label for="color-12-5">Color picker closes correctly via click outside or Escape</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.6: Multiple Chapters with Different Colors</h4>
            <p>Verify that multiple chapters can have different colors simultaneously.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least 3 chapters</li>
                <li>Apply different colors to each chapter (e.g., Chapter 1 = blue, Chapter 2 = red, Chapter 3 = green)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Each chapter displays its assigned color</li>
                    <li>Colors are visually distinct</li>
                    <li>All colors persist after page refresh</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-6" name="color-12-6">
              <label for="color-12-6">Multiple chapters can have different colors</label>
            </div>
          </div>
        </div>

        <!-- Section 13: Search Functionality -->
        <div class="test-section" id="section-13">
          <h2><i class="material-icons">search</i> Section 13: Search Functionality</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests search functionality across chapters, snippets, and content, including highlighting, filtering, and keyboard shortcuts.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story with multiple chapters and snippets</li>
              <li>Snippets contain varied content with different words</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 13.1: Search Input Display</h4>
            <p>Verify that search input is visible and accessible in the editor.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story in the editor</li>
                <li>Locate the search input field (usually in the left sidebar)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Search input is visible</li>
                    <li>Placeholder text shows "Search..." or similar</li>
                    <li>Input is accessible and can be focused</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-1" name="search-13-1">
              <label for="search-13-1">Search input is visible and accessible</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.2: Search by Snippet Title</h4>
            <p>Verify that searching for a snippet title filters and highlights matching snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Note the title of a snippet (e.g., "Opening Scene")</li>
                <li>Type the snippet title (or part of it) in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Matching snippet is visible</li>
                    <li>Search term is highlighted in the snippet title</li>
                    <li>Non-matching snippets are filtered out or still visible (implementation-dependent)</li>
                  </ul>
                </li>
                <li>Clear the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All snippets are visible again</li>
                    <li>No highlighting remains</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-2" name="search-13-2">
              <label for="search-13-2">Search by snippet title works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.3: Search by Chapter Title</h4>
            <p>Verify that searching for a chapter title filters matching chapters.</p>
            <div class="test-steps">
              <ol>
                <li>Note the title of a chapter (e.g., "The Beginning")</li>
                <li>Type the chapter title (or part of it) in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Matching chapter is visible</li>
                    <li>Search term is highlighted in chapter title</li>
                    <li>Chapter's snippets are also visible (or filtered based on implementation)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-3" name="search-13-3">
              <label for="search-13-3">Search by chapter title works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.4: Search by Content</h4>
            <p>Verify that searching for text within snippet content finds matching snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Open a snippet and note a unique word or phrase in its content</li>
                <li>Type that word or phrase in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet containing the text is found</li>
                    <li>Search term is highlighted in snippet content (if content is displayed)</li>
                    <li>Multiple snippets with the same text are all found</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-4" name="search-13-4">
              <label for="search-13-4">Search by content works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.5: Case-Insensitive Search</h4>
            <p>Verify that search is case-insensitive.</p>
            <div class="test-steps">
              <ol>
                <li>Type a search term in lowercase (e.g., "john")</li>
                <li>Note the results</li>
                <li>Clear search and type the same term in uppercase (e.g., "JOHN")</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Results are the same regardless of case</li>
                    <li>Mixed case (e.g., "John") also returns the same results</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-5" name="search-13-5">
              <label for="search-13-5">Search is case-insensitive</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.6: Multi-Word Search</h4>
            <p>Verify that searching for multiple words finds snippets containing all words.</p>
            <div class="test-steps">
              <ol>
                <li>Type multiple words in search (e.g., "brave explorer")</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippets containing all words are found</li>
                    <li>Both words are highlighted</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-6" name="search-13-6">
              <label for="search-13-6">Multi-word search works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.7: Keyboard Shortcut (Cmd/Ctrl+F)</h4>
            <p>Verify that pressing Cmd/Ctrl+F focuses the search input.</p>
            <div class="test-steps">
              <ol>
                <li>Click somewhere in the editor (to ensure search is not focused)</li>
                <li>Press Cmd+F (Mac) or Ctrl+F (Windows/Linux)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Search input receives focus</li>
                    <li>Cursor appears in search input</li>
                    <li>You can immediately start typing</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-7" name="search-13-7">
              <label for="search-13-7">Keyboard shortcut focuses search input</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.8: Real-Time Search Updates</h4>
            <p>Verify that search results update as you type.</p>
            <div class="test-steps">
              <ol>
                <li>Focus the search input</li>
                <li>Type a single character</li>
                <li>Continue typing character by character</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Search results update immediately as you type</li>
                    <li>No delay or lag in filtering</li>
                    <li>Highlighting updates in real-time</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-8" name="search-13-8">
              <label for="search-13-8">Search updates in real-time as you type</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.9: Search in People/Places/Things Notes</h4>
            <p>Verify that search also finds matches in People, Places, and Things notes.</p>
            <div class="test-steps">
              <ol>
                <li>Create or open a note in People, Places, or Things with unique content</li>
                <li>Type a unique word from that note in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note is found in search results</li>
                    <li>Search term is highlighted in note content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-9" name="search-13-9">
              <label for="search-13-9">Search finds matches in People/Places/Things notes</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.10: No Results Message</h4>
            <p>Verify that a helpful message is shown when no search results are found.</p>
            <div class="test-steps">
              <ol>
                <li>Type a search term that doesn't exist in any snippet, chapter, or note (e.g., "xyzabc123nonexistent")</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>A "No results" or "Nothing found" message is displayed (if implemented)</li>
                    <li>Or, all items are hidden/filtered out</li>
                    <li>UI remains functional (no errors)</li>
                  </ul>
                </li>
                <li>Clear the search</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All items are visible again</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-10" name="search-13-10">
              <label for="search-13-10">No results message is shown when appropriate</label>
            </div>
          </div>
        </div>

        <!-- Section 14: Goals & Daily Writing Targets -->
        <div class="test-section" id="section-14">
          <h2><i class="material-icons">flag</i> Section 14: Goals & Daily Writing Targets</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests goal configuration, Elastic and Strict modes, daily target calculations, and goal tracking features.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl); background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3B82F6;">
            <p><strong>React App Testing (Phase 5):</strong> Goals functionality is implemented in the React app using the GoalsPanelModal, GoalMeter, and TodayChip components. For React app testing:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>React App URL:</strong> Navigate to <code>/react/editor</code> and select a story</li>
              <li><strong>Goals Panel:</strong> Click the "Today" chip to open the GoalsPanelModal - located in <code>src/components/story/GoalsPanelModal.tsx</code></li>
              <li><strong>Goal Meter:</strong> Displays in the left sidebar - shows progress toward word count target - located in <code>src/components/story/GoalMeter.tsx</code></li>
              <li><strong>Today Chip:</strong> Shows daily word count and progress - located in <code>src/components/story/TodayChip.tsx</code></li>
              <li><strong>Goal Storage:</strong> Goals are stored in <code>goal.json</code> file in the story folder in Google Drive</li>
              <li><strong>Modes:</strong> Elastic mode (rebalances daily targets) and Strict mode (fixed daily targets) - both modes are supported</li>
              <li><strong>Manual Testing:</strong> All test steps below apply to React app - use the same verification steps but navigate to <code>/react/editor</code></li>
            </ul>
          </div>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story open in the editor</li>
              <li>You can see the "Today" chip and goal meter in the sidebar</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 14.1: Open Goals Panel</h4>
            <p>Verify that clicking the "Today" chip opens the goals configuration panel.</p>
            <div class="test-steps">
              <ol>
                <li>Locate the "Today" chip in the left sidebar</li>
                <li>Click on the "Today" chip</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goals panel modal/dialog opens</li>
                    <li>Modal shows current goal settings (if any)</li>
                    <li>All goal fields are visible (word count target, deadline, writing days, mode, days off)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-1" name="goals-14-1">
              <label for="goals-14-1">Goals panel opens correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.2: Set Word Count Target</h4>
            <p>Verify that setting a word count target saves correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel (see Test 14.1)</li>
                <li>Enter a word count target (e.g., 75000)</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goal meter updates to show progress (e.g., "0 / 75,000")</li>
                    <li>Modal closes</li>
                    <li>No error messages</li>
                  </ul>
                </li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Word count target is preserved</li>
                    <li>Goal meter shows the saved target</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json file in story folder</li>
                    <li>target field matches the value you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-2" name="goals-14-2">
              <label for="goals-14-2">Word count target is saved correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.3: Set Deadline</h4>
            <p>Verify that setting a deadline saves correctly and enables daily target calculations.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Enter a deadline date (e.g., 6 months from today)</li>
                <li>Set a word count target (e.g., 10000)</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip shows daily word count target</li>
                    <li>Daily target is calculated based on deadline and target</li>
                    <li>Progress bar in "Today" chip shows progress toward daily target</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>deadline field matches the date you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-3" name="goals-14-3">
              <label for="goals-14-3">Deadline is saved and enables daily targets</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.4: Select Writing Days</h4>
            <p>Verify that selecting specific writing days (Mon-Sun) saves correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Uncheck some days (e.g., uncheck Saturday and Sunday)</li>
                <li>Set a deadline and word count target</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Daily target calculation excludes non-writing days</li>
                    <li>"Today" chip shows correct daily target (adjusted for writing days only)</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>writingDays array reflects your selections (e.g., [true, true, true, true, true, false, false])</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-4" name="goals-14-4">
              <label for="goals-14-4">Writing days selection works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.5: Set Mode to Elastic</h4>
            <p>Verify that Elastic mode rebalances daily targets based on progress.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Set word count target: 10000</li>
                <li>Set deadline: 10 days from today</li>
                <li>Select mode: "Elastic"</li>
                <li>Click "Save Goals"</li>
                <li><strong>Note initial daily target</strong> - Record the daily target shown in "Today" chip</li>
                <li>Write some words (e.g., 500 words more than the daily target)</li>
                <li>Wait for goal calculation to update</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Next day's daily target is adjusted (reduced, since you're ahead)</li>
                    <li>Remaining days' targets are rebalanced</li>
                    <li>Total target (10000) remains the same</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>mode field is "elastic"</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-5" name="goals-14-5">
              <label for="goals-14-5">Elastic mode rebalances daily targets correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.6: Set Mode to Strict</h4>
            <p>Verify that Strict mode keeps fixed daily targets regardless of progress.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Set word count target: 10000</li>
                <li>Set deadline: 10 days from today</li>
                <li>Select mode: "Strict"</li>
                <li>Click "Save Goals"</li>
                <li><strong>Note initial daily target</strong> - Record the daily target (e.g., 1000 words per day)</li>
                <li>Write some words (e.g., 500 words more than the daily target)</li>
                <li>Wait for goal calculation to update</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Next day's daily target remains the same (1000 words)</li>
                    <li>Daily targets do not change based on progress</li>
                    <li>Visual indicators may show if you're ahead (green) or behind (red)</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>mode field is "strict"</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-6" name="goals-14-6">
              <label for="goals-14-6">Strict mode keeps fixed daily targets</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.7: Add Days Off</h4>
            <p>Verify that adding days off excludes those days from daily target calculations.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Set word count target and deadline</li>
                <li>Enter days off in format: "YYYY-MM-DD, YYYY-MM-DD" (e.g., "2025-12-25, 2026-01-01")</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Days off are excluded from daily target calculations</li>
                    <li>Daily targets are adjusted to account for days off</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>daysOff array contains the dates you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-7" name="goals-14-7">
              <label for="goals-14-7">Days off are saved and excluded from calculations</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.8: Goal Meter Display</h4>
            <p>Verify that goal meter displays progress correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Set a word count target (e.g., 10000)</li>
                <li>Write some content to reach a portion of the target (e.g., 2500 words)</li>
                <li><strong>Verify goal meter:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goal meter shows "2,500 / 10,000" or similar</li>
                    <li>Progress bar shows 25% filled</li>
                    <li>Progress bar color is appropriate (green for on track, etc.)</li>
                  </ul>
                </li>
                <li>Continue writing to reach the target</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goal meter shows "10,000 / 10,000" when target is reached</li>
                    <li>Progress bar is 100% filled</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-8" name="goals-14-8">
              <label for="goals-14-8">Goal meter displays progress correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.9: Today Chip Updates</h4>
            <p>Verify that "Today" chip shows daily progress and updates correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Set a goal with deadline (see Test 14.3)</li>
                <li><strong>Verify initial state:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip shows daily word count (e.g., "0")</li>
                    <li>Progress bar shows 0%</li>
                    <li>Daily target is visible or implied</li>
                  </ul>
                </li>
                <li>Write some content</li>
                <li><strong>Verify updates:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip updates to show current day's word count</li>
                    <li>Progress bar fills based on daily target</li>
                    <li>Updates happen in real-time or after auto-save</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-9" name="goals-14-9">
              <label for="goals-14-9">Today chip updates correctly with daily progress</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.10: Midnight Rollover</h4>
            <p>Verify that daily word counts reset at midnight in user's timezone.</p>
            <div class="test-steps">
              <ol>
                <li>Set a goal with deadline</li>
                <li>Write some words during the day</li>
                <li>Note the word count in "Today" chip</li>
                <li><strong>Wait until after midnight</strong> (or change system time for testing)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip resets to "0" words</li>
                    <li>Progress bar resets to 0%</li>
                    <li>Daily target recalculates if in Elastic mode</li>
                    <li>Previous day's word count is preserved in ledger</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-10" name="goals-14-10">
              <label for="goals-14-10">Midnight rollover resets daily word count correctly</label>
            </div>
          </div>

        <div class="test-item">
          <h4>Test 14.11: Today Chip Timezone Rollover</h4>
          <p>Verify that the "Today" chip updates correctly when system timezone changes and across IANA regions.</p>
          <div class="test-steps">
            <ol>
              <li>Set a daily goal and accumulate progress (e.g., write 300 words)</li>
              <li>Record current timezone and "Today" chip value</li>
              <li>Change system timezone to a different IANA timezone (e.g., from America/Los_Angeles to Europe/London)</li>
              <li>Reload Yarny and verify:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>"Today" chip reflects correct local day and word count</li>
                  <li>No double counting or reset occurs prematurely</li>
                </ul>
              </li>
              <li>Adjust system clock to just before local midnight in new timezone</li>
              <li>Wait for midnight (or advance clock) and verify:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>"Today" chip rolls over to 0 at midnight</li>
                  <li>Previous day's counts move to ledger/history</li>
                </ul>
              </li>
              <li>Repeat with an additional timezone that observes DST to ensure rollover remains correct</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="goals-14-11" name="goals-14-11">
            <label for="goals-14-11">Today chip handles timezone changes and midnight rollover correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 14.12: Goal Calculations Across DST Boundaries</h4>
          <p>Verify that goal deadlines and remaining days calculations stay accurate when daylight saving transitions occur.</p>
          <div class="test-steps">
            <ol>
              <li>Create a goal with a deadline that spans an upcoming or simulated DST transition</li>
              <li>Note current remaining days/hours displayed in goal meter and goal details</li>
              <li>Adjust system timezone/clock to cross the DST boundary (e.g., move clock forward by 1 hour for "spring forward")</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Remaining days/hours adjust correctly (no +/-24h error)</li>
                  <li>Goal progress meter still reflects correct percentage toward deadline</li>
                </ul>
              </li>
              <li>Repeat with the opposite transition (fall back) and confirm calculations remain consistent</li>
              <li>Document any discrepancies between displayed deadlines and expected values</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="goals-14-12" name="goals-14-12">
            <label for="goals-14-12">Goal deadlines remain accurate across DST changes</label>
          </div>
        </div>
        </div>

        <!-- Section 15: Notes CRUD Operations -->
        <div class="test-section" id="section-15">
          <h2><i class="material-icons">note</i> Section 15: Notes CRUD Operations</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests creating, reading, updating, and deleting notes in People, Places, and Things categories.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story open in the editor</li>
              <li>Notes sidebar is visible (right sidebar)</li>
              <li>You can see People, Places, and Things tabs</li>
            </ul>
          </div>

          <h3>People Notes</h3>

          <div class="test-item">
            <h4>Test 15.1: Create People Note</h4>
            <p>Verify that creating a new note in People category works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Click on "People" tab in notes sidebar</li>
                <li>Click "New" or "+" button (or use keyboard shortcut)</li>
                <li>Enter a note name (e.g., "Alice Character")</li>
                <li>Enter note content (e.g., "Alice is a brave explorer with red hair.")</li>
                <li>Save the note</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note appears in People list</li>
                    <li>Note name is visible</li>
                    <li>Note content preview is visible (if shown)</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open People folder in story folder</li>
                    <li>Text file with note name exists</li>
                    <li>File content matches what you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-1" name="notes-15-1">
              <label for="notes-15-1">People note creation works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.2: Read People Note</h4>
            <p>Verify that clicking a note opens it in the editor.</p>
            <div class="test-steps">
              <ol>
                <li>Click on a People note in the list</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note content appears in the main editor</li>
                    <li>Note name is shown (in editor header or title)</li>
                    <li>You can edit the content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-2" name="notes-15-2">
              <label for="notes-15-2">Reading People note works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.3: Update People Note</h4>
            <p>Verify that editing a note saves changes correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open a People note in the editor</li>
                <li>Make changes to the content (add or modify text)</li>
                <li>Wait for auto-save to complete</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Save status shows "Saved"</li>
                    <li>Changes are preserved in editor</li>
                  </ul>
                </li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Changes are still present after refresh</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the note file in People folder</li>
                    <li>File content matches your edits</li>
                    <li>File modification time is recent</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-3" name="notes-15-3">
              <label for="notes-15-3">Updating People note works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.4: Delete People Note</h4>
            <p>Verify that deleting a note removes it correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a People note (or use delete button)</li>
                <li>Select "Delete" option</li>
                <li>Confirm deletion</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note is removed from People list</li>
                    <li>Note no longer appears in sidebar</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note file is deleted from People folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-4" name="notes-15-4">
              <label for="notes-15-4">Deleting People note works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.5: Rename People Note</h4>
            <p>Verify that renaming a note updates the filename correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a People note (or double-click)</li>
                <li>Select "Rename" option</li>
                <li>Enter a new name (e.g., "Alice Smith" instead of "Alice")</li>
                <li>Save the rename</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note appears with new name in list</li>
                    <li>Note content is unchanged</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>File is renamed to new name</li>
                    <li>File content is unchanged</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-5" name="notes-15-5">
              <label for="notes-15-5">Renaming People note works correctly</label>
            </div>
          </div>

          <h3>Places Notes</h3>

          <div class="test-item">
            <h4>Test 15.6: Create Places Note</h4>
            <p>Verify that creating a new note in Places category works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Click on "Places" tab in notes sidebar</li>
                <li>Click "New" or "+" button</li>
                <li>Enter a note name (e.g., "The Castle")</li>
                <li>Enter note content</li>
                <li>Save the note</li>
                <li><strong>Verify:</strong> Note appears in Places list and is saved to Google Drive Places folder</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-6" name="notes-15-6">
              <label for="notes-15-6">Places note creation works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.7: Update Places Note</h4>
            <p>Verify that editing a Places note saves correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open a Places note</li>
                <li>Make changes to content</li>
                <li>Wait for auto-save</li>
                <li><strong>Verify:</strong> Changes are saved and persist after refresh</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-7" name="notes-15-7">
              <label for="notes-15-7">Updating Places note works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.8: Delete Places Note</h4>
            <p>Verify that deleting a Places note works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a Places note</li>
                <li>Select "Delete" and confirm</li>
                <li><strong>Verify:</strong> Note is removed from list and deleted from Google Drive</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-8" name="notes-15-8">
              <label for="notes-15-8">Deleting Places note works correctly</label>
            </div>
          </div>

          <h3>Things Notes</h3>

          <div class="test-item">
            <h4>Test 15.9: Create Things Note</h4>
            <p>Verify that creating a new note in Things category works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Click on "Things" tab in notes sidebar</li>
                <li>Click "New" or "+" button</li>
                <li>Enter a note name and content</li>
                <li>Save the note</li>
                <li><strong>Verify:</strong> Note appears in Things list and is saved to Google Drive Things folder</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-9" name="notes-15-9">
              <label for="notes-15-9">Things note creation works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.10: Switch Between People/Places/Things Tabs</h4>
            <p>Verify that switching between note category tabs works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Click on "People" tab</li>
                <li><strong>Verify:</strong> People notes are displayed</li>
                <li>Click on "Places" tab</li>
                <li><strong>Verify:</strong> Places notes are displayed</li>
                <li>Click on "Things" tab</li>
                <li><strong>Verify:</strong> Things notes are displayed</li>
                <li>Switch back to "People" tab</li>
                <li><strong>Verify:</strong> People notes are displayed again</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-10" name="notes-15-10">
              <label for="notes-15-10">Tab switching works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 15.11: Empty State Display</h4>
            <p>Verify that empty state message is shown when no notes exist.</p>
            <div class="test-steps">
              <ol>
                <li>Navigate to a category tab (People, Places, or Things) that has no notes</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Empty state message is displayed (e.g., "No People notes yet. Create one to get started.")</li>
                    <li>Message is helpful and encourages action</li>
                    <li>New note button is still accessible</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="notes-15-11" name="notes-15-11">
              <label for="notes-15-11">Empty state is displayed correctly</label>
            </div>
          </div>
        </div>

        <!-- Section 16: Visibility Gating & Performance -->
        <div class="test-section" id="section-16">
          <h2><i class="material-icons">visibility</i> Section 16: Visibility Gating & Performance</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests lazy loading behavior, visibility-based request gating, and performance optimizations for large stories.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story with many snippets (50+ for visibility gating tests)</li>
              <li>Browser DevTools Network tab is open to monitor requests</li>
              <li>You can monitor API calls and request patterns</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 16.1: Initial Load - Only Visible Snippets</h4>
            <p>Verify that only visible snippets are loaded initially, not all snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with 50+ snippets</li>
                <li>Open Browser DevTools → Network tab</li>
                <li>Filter by "drive-read" or "drive-list" requests</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Only first few snippets (3-5) trigger API requests</li>
                    <li>Not all 50+ snippets trigger requests immediately</li>
                    <li>Page loads quickly</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="vis-16-1" name="vis-16-1">
              <label for="vis-16-1">Only visible snippets are loaded initially</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 16.2: Load on Scroll</h4>
            <p>Verify that scrolling down triggers loading of additional snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with 50+ snippets</li>
                <li>Open Browser DevTools → Network tab</li>
                <li>Scroll down in the sidebar to reveal more snippets</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>New API requests are triggered as snippets become visible</li>
                    <li>Snippets load as they enter the viewport</li>
                    <li>Loading happens smoothly without blocking UI</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="vis-16-2" name="vis-16-2">
              <label for="vis-16-2">Scrolling triggers loading of additional snippets</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 16.3: Prefetch First Few Snippets</h4>
            <p>Verify that first 3 snippets are prefetched immediately for faster access.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with many snippets</li>
                <li>Open Browser DevTools → Network tab</li>
                <li>Monitor initial page load</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>First 3 snippets trigger API requests immediately</li>
                    <li>Requests happen in parallel (not sequentially)</li>
                    <li>Snippets are ready when user navigates to them</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="vis-16-3" name="vis-16-3">
              <label for="vis-16-3">First few snippets are prefetched immediately</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 16.4: Click Snippet - Loads Even If Not Visible</h4>
            <p>Verify that clicking on a snippet loads it even if it's not currently visible.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with many snippets</li>
                <li>Scroll to a snippet that's not yet loaded (middle or end of list)</li>
                <li>Click on that snippet</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet content loads immediately</li>
                    <li>Editor displays snippet content</li>
                    <li>No error messages</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="vis-16-4" name="vis-16-4">
              <label for="vis-16-4">Clicking snippet loads it even if not visible</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 16.5: Request Throttling</h4>
            <p>Verify that rapid scrolling doesn't trigger excessive API requests.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with many snippets</li>
                <li>Open Browser DevTools → Network tab</li>
                <li>Scroll rapidly up and down multiple times</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Requests are throttled/debounced</li>
                    <li>Not every scroll event triggers a new request</li>
                    <li>Total number of requests is reasonable (not 50+ for 50 snippets)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="vis-16-5" name="vis-16-5">
              <label for="vis-16-5">Request throttling prevents excessive API calls</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 16.6: Performance with Large Story</h4>
            <p>Verify that large stories (100+ snippets) remain performant.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with 100+ snippets</li>
                <li>Measure initial page load time</li>
                <li>Scroll through the entire list</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Page loads in reasonable time (&lt; 3 seconds)</li>
                    <li>Scrolling is smooth (no jank or lag)</li>
                    <li>Memory usage doesn't grow excessively</li>
                    <li>UI remains responsive</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="vis-16-6" name="vis-16-6">
              <label for="vis-16-6">Large stories remain performant</label>
            </div>
          </div>
        </div>

        <!-- Section 17: Rate Limiting & Error Handling -->
        <div class="test-section" id="section-17">
          <h2><i class="material-icons">warning</i> Section 17: Rate Limiting & Error Handling</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests how the app handles rate limiting (429 errors), retries, exponential backoff, and error recovery.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Note:</strong> These tests require simulating rate limiting scenarios. You may need to use browser DevTools or network throttling to simulate 429 responses, or coordinate with the development team to trigger rate limits in a test environment.</p>
          </div>

          <div class="test-item">
            <h4>Test 17.1: Retry on 429 Rate Limit</h4>
            <p>Verify that the app retries requests after receiving a 429 rate limit error.</p>
            <div class="test-steps">
              <ol>
                <li>Open Browser DevTools → Network tab</li>
                <li>Enable network throttling or use a tool to simulate 429 responses</li>
                <li>Perform an action that triggers an API request (e.g., switch snippets, save content)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Request receives 429 response</li>
                    <li>App automatically retries the request</li>
                    <li>Retry happens after a delay (exponential backoff)</li>
                    <li>Request eventually succeeds after retries</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="rate-17-1" name="rate-17-1">
              <label for="rate-17-1">App retries on 429 rate limit errors</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 17.2: Exponential Backoff</h4>
            <p>Verify that retry delays increase exponentially (e.g., 1s, 2s, 4s).</p>
            <div class="test-steps">
              <ol>
                <li>Simulate continuous 429 responses</li>
                <li>Monitor retry attempts in Network tab</li>
                <li>Measure time between retries</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>First retry happens after ~1 second</li>
                    <li>Second retry happens after ~2 seconds</li>
                    <li>Third retry happens after ~4 seconds</li>
                    <li>Delays increase exponentially (or with jitter)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="rate-17-2" name="rate-17-2">
              <label for="rate-17-2">Exponential backoff is implemented correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 17.3: Respect Retry-After Header</h4>
            <p>Verify that the app respects the Retry-After header in 429 responses.</p>
            <div class="test-steps">
              <ol>
                <li>Simulate a 429 response with Retry-After: 5 header</li>
                <li>Monitor when the next retry occurs</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>App waits at least 5 seconds before retrying</li>
                    <li>Retry-After value is respected (not ignored)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="rate-17-3" name="rate-17-3">
              <label for="rate-17-3">Retry-After header is respected</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 17.4: Max Retries</h4>
            <p>Verify that the app stops retrying after maximum retry attempts.</p>
            <div class="test-steps">
              <ol>
                <li>Simulate continuous 429 responses (never succeed)</li>
                <li>Monitor retry attempts</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>App retries up to maximum attempts (e.g., 3 retries)</li>
                    <li>After max retries, error is shown to user</li>
                    <li>No infinite retry loop occurs</li>
                    <li>User is informed of the error</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="rate-17-4" name="rate-17-4">
              <label for="rate-17-4">Max retries are enforced correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 17.5: User-Friendly Error Messages</h4>
            <p>Verify that rate limiting errors are communicated clearly to users.</p>
            <div class="test-steps">
              <ol>
                <li>Trigger a rate limit scenario that fails after max retries</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Error message is displayed to user</li>
                    <li>Message is user-friendly (not technical)</li>
                    <li>Message suggests what user can do (e.g., "Please try again in a moment")</li>
                    <li>UI remains functional (not broken)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="rate-17-5" name="rate-17-5">
              <label for="rate-17-5">Error messages are user-friendly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 17.6: Queued Operations During Rate Limiting</h4>
            <p>Verify that operations are queued and retried when rate limiting is resolved.</p>
            <div class="test-steps">
              <ol>
                <li>Trigger rate limiting</li>
                <li>While rate limited, perform multiple operations (switch snippets, save content)</li>
                <li>Allow rate limiting to resolve</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Queued operations are retried automatically</li>
                    <li>All operations eventually complete</li>
                    <li>No operations are lost</li>
                    <li>Operations complete in correct order (if order matters)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="rate-17-6" name="rate-17-6">
              <label for="rate-17-6">Queued operations are retried correctly</label>
            </div>
          </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Note:</strong> Rate limiting tests may require coordination with the development team or use of specialized testing tools. Some tests may need to be performed in a staging environment where rate limits can be controlled.</p>
          </div>
        </div>

        <!-- Section 18: Visual Regression Testing -->
        <div class="test-section" id="section-18">
          <h2><i class="material-icons">compare</i> Section 18: Visual Regression Testing</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section covers automated visual regression tests that compare the React app against the legacy app using pixel-diff comparison. These tests ensure visual parity between the two implementations.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>React app must be deployed to <code>/react</code> path</li>
              <li>Legacy app must be accessible at root path</li>
              <li>Both apps must have the same test data loaded</li>
              <li>Development server running (<code>npm run dev</code>)</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 18.1: Run Automated Visual Regression Tests</h4>
            <p>Execute the automated visual regression test suite that compares React and legacy apps using pixel-diff comparison.</p>
            <div class="test-steps">
              <ol>
                <li>Open terminal in the project root directory</li>
                <li>Ensure development server is running: <code>npm run dev</code></li>
                <li>Run the visual regression tests: <code>npm run test:e2e -- tests/e2e/visual-regression.spec.ts</code></li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Tests execute successfully</li>
                    <li>Screenshots are captured for both React and legacy apps</li>
                    <li>Diff images are generated in <code>test-results/visual-regression/</code></li>
                    <li>Test results show pixel difference percentages</li>
                  </ul>
                </li>
                <li>Review test output for any failures or warnings</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-18-1" name="test-18-1">
              <label for="test-18-1">Automated visual regression tests executed successfully</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Expected Test Results:</strong></p>
              <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
                <li><strong>Goal Meter:</strong> Diff percentage ≤ 5%</li>
                <li><strong>Today Chip:</strong> Diff percentage ≤ 5%</li>
                <li><strong>Footer Counts:</strong> Diff percentage ≤ 5%</li>
                <li><strong>Stories Page:</strong> Diff percentage ≤ 10% (full page)</li>
                <li><strong>Editor Layout:</strong> Diff percentage ≤ 10% (full page)</li>
              </ul>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 18.2: Review Screenshots and Diff Images</h4>
            <p>Manually review the captured screenshots and generated diff images to verify visual parity and identify any visual differences.</p>
            <div class="test-steps">
              <ol>
                <li>Navigate to <code>test-results/visual-regression/</code> directory</li>
                <li>Review React app screenshots:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li><code>react-goal-meter.png</code></li>
                    <li><code>react-today-chip.png</code></li>
                    <li><code>react-footer.png</code></li>
                    <li><code>react-stories-page.png</code></li>
                    <li><code>react-editor.png</code></li>
                  </ul>
                </li>
                <li>Review legacy app screenshots:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li><code>legacy-goal-meter.png</code></li>
                    <li><code>legacy-today-chip.png</code></li>
                    <li><code>legacy-footer.png</code></li>
                    <li><code>legacy-stories-page.png</code></li>
                    <li><code>legacy-editor.png</code></li>
                  </ul>
                </li>
                <li>Review diff images (red/blue pixels indicate differences):
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li><code>diff-goal-meter.png</code></li>
                    <li><code>diff-today-chip.png</code></li>
                    <li><code>diff-footer.png</code></li>
                    <li><code>diff-stories-page.png</code></li>
                    <li><code>diff-editor.png</code></li>
                  </ul>
                </li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Diff images show minimal differences (mostly red/blue pixels in non-critical areas)</li>
                    <li>No major layout shifts or missing elements</li>
                    <li>Colors, fonts, and spacing match between React and legacy apps</li>
                    <li>Any differences are acceptable (document if not)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-18-2" name="test-18-2">
              <label for="test-18-2">Screenshots and diff images reviewed, visual parity verified</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Document any significant visual differences found. Red/blue pixels in diff images indicate where React and legacy apps differ. Minor differences in anti-aliasing or sub-pixel rendering are acceptable.</p>
              <textarea style="width: 100%; min-height: 80px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1); margin-top: var(--space-sm);" placeholder="Document any visual differences found..."></textarea>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 18.3: Verify Pixel-Diff Comparison Accuracy</h4>
            <p>Verify that the pixel-diff comparison is working correctly and accurately detecting visual differences.</p>
            <div class="test-steps">
              <ol>
                <li>Run visual regression tests: <code>npm run test:e2e -- tests/e2e/visual-regression.spec.ts</code></li>
                <li>Check test output for pixel difference statistics:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Diff pixels count</li>
                    <li>Diff percentage</li>
                    <li>Test pass/fail status</li>
                  </ul>
                </li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Tests report accurate pixel difference counts</li>
                    <li>Diff percentages are calculated correctly</li>
                    <li>Tests fail when differences exceed threshold (5% for components, 10% for full pages)</li>
                    <li>Diff images are generated for all comparisons</li>
                  </ul>
                </li>
                <li>If tests fail, review diff images to understand why</li>
                <li>If differences are acceptable, adjust thresholds or fix visual issues</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-18-3" name="test-18-3">
              <label for="test-18-3">Pixel-diff comparison verified to be working correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 18.4: Side-by-Side Manual Comparison</h4>
            <p>Perform manual side-by-side comparison of React and legacy apps in the browser to verify visual parity beyond automated tests.</p>
            <div class="test-steps">
              <ol>
                <li>Open two browser windows side-by-side</li>
                <li>In first window, navigate to React app: <code>http://localhost:5173/react/editor</code></li>
                <li>In second window, navigate to legacy app: <code>http://localhost:5173/editor.html</code></li>
                <li>Ensure both apps have the same story and snippet loaded</li>
                <li>Compare the following elements visually:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li><strong>Goal Meter:</strong> Size, colors, progress bar, text alignment</li>
                    <li><strong>Today Chip:</strong> Size, colors, text, border, padding</li>
                    <li><strong>Footer Counts:</strong> Font size, spacing, alignment, colors</li>
                    <li><strong>Editor Layout:</strong> Overall layout, spacing, sidebar widths, header</li>
                    <li><strong>Stories Page:</strong> Card layout, spacing, colors, typography</li>
                  </ul>
                </li>
                <li>Take side-by-side screenshots if differences are found</li>
                <li>Document any visual differences that automated tests might have missed</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-18-4" name="test-18-4">
              <label for="test-18-4">Side-by-side manual comparison completed, visual parity verified</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Document any visual differences found during manual comparison. Include screenshots if significant differences are observed.</p>
              <textarea style="width: 100%; min-height: 80px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1); margin-top: var(--space-sm);" placeholder="Document any visual differences found during manual comparison..."></textarea>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 18.5: Fix Visual Differences</h4>
            <p>If visual regression tests reveal differences exceeding the 5% threshold, fix the visual issues in the React app to match the legacy app.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Review diff images:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open diff images in <code>test-results/visual-regression/</code></li>
                    <li>Red/blue pixels indicate where React and legacy apps differ</li>
                    <li>Identify which components have differences (goal meter, footer, etc.)</li>
                    <li>Note the type of differences (spacing, colors, fonts, layout)</li>
                  </ul>
                </li>
                <li><strong>Compare side-by-side screenshots:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open React app screenshot (e.g., <code>react-goal-meter.png</code>)</li>
                    <li>Open legacy app screenshot (e.g., <code>legacy-goal-meter.png</code>)</li>
                    <li>Use image viewer to compare side-by-side</li>
                    <li>Identify specific visual differences (font size, spacing, colors, etc.)</li>
                  </ul>
                </li>
                <li><strong>Inspect React app component styles:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open React app in browser: <code>http://localhost:5173/react/editor</code></li>
                    <li>Use browser dev tools to inspect the component with differences</li>
                    <li>Check computed styles (font-size, color, margin, padding, etc.)</li>
                    <li>Compare with legacy app styles (open <code>http://localhost:5173/editor.html</code>)</li>
                    <li>Note which CSS properties differ</li>
                  </ul>
                </li>
                <li><strong>Fix React component styles:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Locate the React component file (e.g., <code>src/components/story/GoalMeter.tsx</code>)</li>
                    <li>Update CSS/styling to match legacy app</li>
                    <li>Common fixes:
                      <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                        <li>Font sizes: Match exact pixel values (e.g., <code>fontSize: '13px'</code>)</li>
                        <li>Colors: Match hex values (e.g., <code>color: '#6B7280'</code>)</li>
                        <li>Spacing: Match margin/padding values (e.g., <code>marginBottom: '12px'</code>)</li>
                        <li>Layout: Match flexbox/grid properties</li>
                        <li>Typography: Match font-family, font-weight, line-height</li>
                      </ul>
                    </li>
                    <li>Save changes and verify in browser</li>
                  </ul>
                </li>
                <li><strong>Re-run visual regression tests:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Run: <code>npm run test:e2e -- tests/e2e/visual-regression.spec.ts</code></li>
                    <li>Check if diff percentage decreased</li>
                    <li>Verify diff percentage is now ≤ 5% (for components) or ≤ 10% (for full pages)</li>
                    <li>If still above threshold, repeat steps 3-5</li>
                  </ul>
                </li>
                <li><strong>Document fixes:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Record which components were fixed</li>
                    <li>Note what changes were made (CSS properties updated)</li>
                    <li>Document final diff percentages after fixes</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-18-5" name="test-18-5">
              <label for="test-18-5">Visual differences fixed, all tests pass with diff percentage ≤ 5%</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Notes:</strong> Document which components were fixed and what changes were made.</p>
              <textarea style="width: 100%; min-height: 80px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1); margin-top: var(--space-sm);" placeholder="Document fixes made: component name, CSS properties updated, final diff percentage..."></textarea>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 18.6: Update Visual Regression Baselines</h4>
            <p>If visual differences are intentional (e.g., design improvements), update the visual regression baselines to reflect the new expected appearance.</p>
            <div class="test-steps">
              <ol>
                <li><strong>Verify differences are intentional:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Review diff images to confirm differences are intentional design changes</li>
                    <li>Document why the change was made (design improvement, accessibility, etc.)</li>
                    <li>Get approval if needed (for significant visual changes)</li>
                    <li>Ensure changes don't break accessibility or usability</li>
                  </ul>
                </li>
                <li><strong>Update Playwright screenshot baselines:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Playwright uses <code>toHaveScreenshot()</code> which automatically updates baselines</li>
                    <li>To update baselines, run: <code>npm run test:e2e -- tests/e2e/visual-regression.spec.ts -- --update-snapshots</code> (Note: double dashes are required to pass flags to Playwright)</li>
                    <li>This updates the baseline screenshots in <code>tests/e2e/visual-regression.spec.ts-snapshots/</code></li>
                    <li>Verify new baseline screenshots match current React app appearance</li>
                  </ul>
                </li>
                <li><strong>Update pixel-diff comparison thresholds (if needed):</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>If intentional changes cause higher diff percentages, adjust thresholds in test file</li>
                    <li>Open <code>tests/e2e/visual-regression.spec.ts</code></li>
                    <li>Find <code>maxDiffPercentage</code> constant (line ~174)</li>
                    <li>Update threshold if needed (default is 5% for components, 10% for full pages)</li>
                    <li>Document why threshold was changed</li>
                  </ul>
                </li>
                <li><strong>Update legacy app screenshots (if legacy app changed):</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>If legacy app was updated to match React app, update legacy screenshots</li>
                    <li>Re-run tests to capture new legacy app appearance</li>
                    <li>Verify both React and legacy screenshots are up to date</li>
                  </ul>
                </li>
                <li><strong>Re-run visual regression tests:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Run: <code>npm run test:e2e -- tests/e2e/visual-regression.spec.ts</code></li>
                    <li>Verify all tests pass with updated baselines</li>
                    <li>Check that diff percentages are within acceptable thresholds</li>
                  </ul>
                </li>
                <li><strong>Commit baseline updates:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Commit updated baseline screenshots to version control</li>
                    <li>Include commit message explaining why baselines were updated</li>
                    <li>Example: <code>git commit -m "Update visual regression baselines for intentional design changes"</code></li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="test-18-6" name="test-18-6">
              <label for="test-18-6">Visual regression baselines updated for intentional changes, all tests pass</label>
            </div>
            <div class="note-box" style="margin-top: var(--space-md);">
              <p><strong>Important:</strong> Only update baselines for intentional design changes. If differences are bugs, fix them instead of updating baselines.</p>
              <p style="margin-top: var(--space-sm);"><strong>Notes:</strong> Document which baselines were updated and why.</p>
              <textarea style="width: 100%; min-height: 80px; padding: var(--space-sm); border-radius: 4px; background: rgba(0, 0, 0, 0.3); color: rgba(255, 255, 255, 0.9); border: 1px solid rgba(255, 255, 255, 0.1); margin-top: var(--space-sm);" placeholder="Document baseline updates: which components changed, why (design improvement, accessibility, etc.), threshold adjustments..."></textarea>
            </div>
          </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Visual Regression Testing Summary:</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>Automated Tests Executed:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Screenshots Reviewed:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Diff Images Generated:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Pixel-Diff Comparison Verified:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Manual Side-by-Side Comparison:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
              <li><strong>Visual Differences Fixed:</strong> [ ] ✅ PASS / [ ] ❌ FAIL / [ ] N/A (no differences)</li>
              <li><strong>Baselines Updated:</strong> [ ] ✅ PASS / [ ] ❌ FAIL / [ ] N/A (no intentional changes)</li>
              <li><strong>Overall Visual Parity:</strong> [ ] ✅ PASS / [ ] ❌ FAIL</li>
            </ul>
            <p style="margin-top: var(--space-md);"><strong>Note:</strong> Visual regression tests ensure that the React app maintains visual parity with the legacy app. All tests should pass before considering the migration complete.</p>
          </div>
        </div>

        <!-- Summary Section -->
        <div class="summary-section" id="summary">
          <h2>Testing Summary</h2>
        <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: var(--space-xl);">Use this section to track your overall testing progress.</p>
        
        <div class="summary-stats">
          <div class="stat-box">
            <div class="stat-number" id="totalTests">0</div>
            <div class="stat-label">Total Tests</div>
          </div>
          <div class="stat-box">
            <div class="stat-number" id="completedTests">0</div>
            <div class="stat-label">Completed</div>
          </div>
          <div class="stat-box">
            <div class="stat-number" id="remainingTests">0</div>
            <div class="stat-label">Remaining</div>
          </div>
          <div class="stat-box">
            <div class="stat-number" id="completionPercent">0%</div>
            <div class="stat-label">Completion</div>
          </div>
        </div>
      </div>

        <div class="note-box" style="margin-top: var(--space-4xl);">
          <p><strong>Note:</strong> This testing workbook is designed to be comprehensive. You don't need to complete all tests in one session. Work through them systematically, and note any issues or unexpected behavior you encounter. Report any bugs or problems to the development team.</p>
        </div>
      </div>
    </main>

    <footer class="shared-footer">
      <p>&copy; 2025 Yarny. Your personal writing tool.</p>
      <nav class="shared-footer-nav">
        <a href="/docs.html">User Guide</a>
        <a href="/migration-plan">Migration Plan</a>
        <a href="/migration-plan/testing-workbook">Testing Workbook</a>
      </nav>
    </footer>
  </div>

  <script>
    // Check if user is logged in
    function isTokenExpired(token) {
      if (!token) return true;
      
      try {
        const decoded = atob(token);
        const parts = decoded.split(':');
        
        if (parts.length !== 2) return true;
        
        const timestamp = parseInt(parts[1], 10);
        if (isNaN(timestamp)) return true;
        
        // Check if token is within 48 hours
        const SESSION_DURATION_MS = 48 * 60 * 60 * 1000;
        const now = Date.now();
        const age = now - timestamp;
        
        return age > SESSION_DURATION_MS;
      } catch (error) {
        console.error('Error checking token expiration:', error);
        return true;
      }
    }

    function checkAuthStatus() {
      const authToken = localStorage.getItem('yarny_auth');
      const isLoggedIn = authToken && !isTokenExpired(authToken);
      
      const storiesLink = document.getElementById('storiesNavLink');
      const loginLink = document.getElementById('loginNavLink');
      
      if (isLoggedIn) {
        if (storiesLink) storiesLink.style.display = 'inline-block';
        if (loginLink) loginLink.style.display = 'none';
      } else {
        if (storiesLink) storiesLink.style.display = 'none';
        if (loginLink) loginLink.style.display = 'inline-block';
      }
    }

    // Calculate and update test statistics
    function updateStats() {
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      const total = checkboxes.length;
      const completed = Array.from(checkboxes).filter(cb => cb.checked).length;
      const remaining = total - completed;
      const percent = total > 0 ? Math.round((completed / total) * 100) : 0;

      document.getElementById('totalTests').textContent = total;
      document.getElementById('completedTests').textContent = completed;
      document.getElementById('remainingTests').textContent = remaining;
      document.getElementById('completionPercent').textContent = percent + '%';
    }

    // Update stats when checkboxes change
    document.addEventListener('change', function(e) {
      if (e.target.type === 'checkbox') {
        updateStats();
        // Save state to localStorage
        localStorage.setItem('testingWorkbookState', JSON.stringify(
          Array.from(document.querySelectorAll('input[type="checkbox"]')).map(cb => ({
            id: cb.id,
            checked: cb.checked
          }))
        ));
      }
    });

    // Highlight active navigation item based on scroll position
    document.addEventListener('DOMContentLoaded', function() {
      // Check auth status on page load
      checkAuthStatus();
      
      // Load saved checkbox state
      const saved = localStorage.getItem('testingWorkbookState');
      if (saved) {
        try {
          const state = JSON.parse(saved);
          state.forEach(item => {
            const checkbox = document.getElementById(item.id);
            if (checkbox) {
              checkbox.checked = item.checked;
            }
          });
        } catch (e) {
          console.error('Error loading saved state:', e);
        }
      }
      updateStats();

      const navLinks = document.querySelectorAll('.sidebar-nav .nav-link');
      const sections = document.querySelectorAll('.test-section[id], .workbook-intro[id], .summary-section[id]');
      const sidebar = document.querySelector('.docs-sidebar');

      function updateActiveNav() {
        let current = '';
        const scrollPos = window.scrollY + 100; // Offset for nav buttons

        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
            current = section.getAttribute('id');
          }
        });

        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === '#' + current) {
            link.classList.add('active');
          }
        });
      }

      // Mobile menu toggle
      const menuButton = document.querySelector('.mobile-menu-toggle') || document.createElement('button');
      const backdrop = document.querySelector('.sidebar-backdrop');
      
      if (!menuButton.parentNode) {
        menuButton.className = 'mobile-menu-toggle';
        menuButton.innerHTML = '☰';
        menuButton.setAttribute('aria-label', 'Toggle menu');
        document.body.appendChild(menuButton);
      }

      function toggleSidebar() {
        sidebar.classList.toggle('open');
        if (backdrop) {
          backdrop.classList.toggle('active');
        }
      }

      menuButton.addEventListener('click', function(e) {
        e.stopPropagation();
        toggleSidebar();
      });

      // Close sidebar when clicking backdrop
      if (backdrop) {
        backdrop.addEventListener('click', function() {
          sidebar.classList.remove('open');
          backdrop.classList.remove('active');
        });
      }

      // Close sidebar when clicking outside on mobile
      document.addEventListener('click', function(e) {
        if (window.innerWidth <= 900 && sidebar && sidebar.classList.contains('open')) {
          if (!sidebar.contains(e.target) && !e.target.classList.contains('mobile-menu-toggle')) {
            sidebar.classList.remove('open');
            if (backdrop) {
              backdrop.classList.remove('active');
            }
          }
        }
      });

      // Close sidebar when clicking a nav link on mobile
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          if (window.innerWidth <= 900) {
            sidebar.classList.remove('open');
            if (backdrop) {
              backdrop.classList.remove('active');
            }
          }
        });
      });

      window.addEventListener('scroll', updateActiveNav);
      window.addEventListener('resize', function() {
        // Only auto-close sidebar if we're above mobile breakpoint
        if (window.innerWidth > 900) {
          sidebar.classList.remove('open');
          if (backdrop) {
            backdrop.classList.remove('active');
          }
        }
      });

      updateActiveNav(); // Initial call
    });
  </script>
</body>
</html>

