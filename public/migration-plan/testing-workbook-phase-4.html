<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phase 4 · Yarny Testing Workbook</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="/global.css">
  <link rel="stylesheet" href="/docs.css">
  <link rel="stylesheet" href="/footer.css">
  <link rel="stylesheet" href="/migration-plan/testing-workbook.css">
  <script src="/migration-plan/testing-workbook.js" defer></script>
</head>
<body data-storage-key="testingWorkbookPhase4">
  <div class="docs-container">
    <main class="docs-main">
      <div class="sidebar-backdrop"></div>
      <aside class="docs-sidebar">
        <div class="sidebar-header">
          <div class="sidebar-branding">
            <h1>Yarny</h1>
            <p class="docs-subtitle">Your personal writing tool</p>
          </div>
          <a href="/migration-plan" style="color: var(--color-primary); text-decoration: none; font-weight: var(--font-weight-semibold); display: block; margin-bottom: var(--space-md);">
            Migration Plan
          </a>
          <a href="/migration-plan/testing-workbook" style="color: rgba(255, 255, 255, 0.7); text-decoration: none; font-size: 0.95rem; display: block;">Back to Workbook Overview</a>
        </div>
        <nav class="sidebar-nav">
          <ul class="sidebar-nav-list">
            <li><a href="#phase-intro" class="nav-link">Phase Overview</a></li>
            <li><a href="#section-10" class="nav-link">Section 10 · Round-Trip Validation</a></li>
            <li><a href="#section-11" class="nav-link">Section 11 · Operations &amp; Conflict Resolution</a></li>
            <li><a href="#section-12" class="nav-link">Section 12 · Color Coding</a></li>
            <li><a href="#section-13" class="nav-link">Section 13 · Search</a></li>
            <li><a href="#section-14" class="nav-link">Section 14 · Goals &amp; Targets</a></li>
            <li><a href="#phase-summary" class="nav-link">Phase Progress</a></li>
          </ul>
        </nav>
      </aside>

      <div class="docs-content">
        <nav class="docs-nav">
          <a href="/stories.html" id="storiesNavLink" class="btn-secondary" style="display: none;">My Stories</a>
          <a href="/docs.html" class="btn-secondary">Docs</a>
          <a href="/" id="loginNavLink" class="btn-secondary">Back to Login</a>
        </nav>

        <div class="phase-breadcrumbs">
          <a href="/migration-plan/testing-workbook">Testing Workbook</a>
          <span>/</span>
          <span>Phase 4 · Feature Validation</span>
        </div>

        <div class="workbook-intro" id="phase-intro" data-section-anchor>
          <h1>Phase 4 · Feature Validation</h1>
          <p>Run the comprehensive feature sweeps that ensure writers can complete end-to-end workflows across the React experience.</p>
          <ul style="margin: var(--space-lg) 0 0; padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.78);">
            <li>Validate cross-cutting operations like imports, exports, and conflict resolution.</li>
            <li>Check color coding, search, and goals management for data integrity.</li>
            <li>Use the test corpus (medium/large) to cover edge cases and round-trip flows.</li>
          </ul>
          <div class="phase-nav-links">
            <a href="/migration-plan/testing-workbook-phase-1.html">Phase 1</a>
            <a href="/migration-plan/testing-workbook-phase-2.html">Phase 2</a>
            <a href="/migration-plan/testing-workbook-phase-3.html">Phase 3</a>
            <a href="/migration-plan/testing-workbook-phase-5.html">Next: Phase 5</a>
          </div>
        </div>

        <!-- Section 10: Round-Trip Validation (Final comprehensive test) -->
        <div class="test-section" data-section-anchor id="section-10">
          <h2><i class="material-icons">sync</i> Section 10: Round-Trip Validation (test-small Project)</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This is the comprehensive end-to-end validation that ensures round-trip integrity between Yarny and Google Docs using the test-small project. Complete this section last, after all other sections. This ensures content is preserved correctly in both directions with no data loss or format corruption.</p>
        
          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting validation, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>Yarny Test Corpus folder exists in Google Drive</li>
              <li>test-small story folder created in the corpus folder</li>
              <li>Story structure created (Chapters/, People/, Places/, Things/ folders)</li>
              <li>"Welcome to Yarny" and "Character Seeds" snippets uploaded as Google Docs</li>
              <li>Story folder ID recorded in <code>test-corpus/sample-project/metadata.json</code></li>
              <li>Yarny app is running and user is authenticated with Google</li>
              <li>test-small story is accessible in Yarny stories list</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 10.1: Basic Content Round-Trip (Yarny → Google Docs → Yarny)</h4>
            <p>Verify that basic text content is preserved correctly in a round-trip.</p>
            <div class="test-steps">
              <ol>
                <li>Open the test-small story in Yarny</li>
                <li>Open the "Welcome to Yarny" snippet in the editor</li>
                <li><strong>Record initial content</strong> - Copy the entire content from Yarny editor</li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save to complete (check save status)</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc in Google Drive</li>
                <li><strong>Verify content matches</strong> - Compare Google Docs content with recorded Yarny content:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All text matches exactly</li>
                    <li>No characters are missing</li>
                    <li>No characters are added</li>
                    <li>No characters are corrupted</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add a new paragraph: "This is a test edit from Google Docs."</li>
                <li><strong>Save in Google Docs</strong> - Save the document</li>
                <li><strong>Return to Yarny</strong> - Switch to a different snippet, then switch back to "Welcome to Yarny"</li>
                <li><strong>Verify changes appear</strong> - Check that the edit from Google Docs appears in Yarny</li>
                <li><strong>Verify content integrity</strong> - Compare full content again:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All original content is preserved</li>
                    <li>New edit from Google Docs is present</li>
                    <li>No format loss or corruption</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-1" name="roundtrip-10-1">
              <label for="roundtrip-10-1">Basic content round-trip preserves all content correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.2: Paragraph Breaks Round-Trip</h4>
            <p>Verify that paragraph breaks (double Enter) are preserved correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add paragraph breaks</strong> - Add multiple paragraph breaks:
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">First paragraph.

Second paragraph.

Third paragraph.</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify paragraph breaks</strong> - Check that paragraph breaks are preserved:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Each paragraph is on a separate line with spacing</li>
                    <li>No paragraph breaks are collapsed (merged)</li>
                    <li>No paragraph breaks are duplicated</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add another paragraph: "Fourth paragraph added in Google Docs."</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify paragraph breaks preserved</strong> - Check that all paragraph breaks are still correct:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Original paragraph breaks are preserved</li>
                    <li>New paragraph from Google Docs has proper spacing</li>
                    <li>No paragraph breaks are collapsed or duplicated</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-2" name="roundtrip-10-2">
              <label for="roundtrip-10-2">Paragraph breaks are preserved exactly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.3: Line Breaks Round-Trip</h4>
            <p>Verify that soft line breaks (Shift+Enter) are preserved correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add line breaks</strong> - Add soft line breaks within a paragraph (Use Shift+Enter for line breaks, not Enter):
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">Line one
Line two
Line three</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify line breaks</strong> - Check that line breaks are preserved:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Each line is on a separate line</li>
                    <li>No line breaks are collapsed</li>
                    <li>No line breaks are converted to paragraph breaks</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add another line: "Line four added in Google Docs"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify line breaks preserved</strong> - Check that all line breaks are still correct</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-3" name="roundtrip-10-3">
              <label for="roundtrip-10-3">Line breaks are preserved exactly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.4: Special Characters Round-Trip</h4>
            <p>Verify that special characters are preserved correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add special characters</strong> - Add various special characters:
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">Quotes: "double" and 'single'
Em dash: —
En dash: –
Ellipsis: …
Copyright: ©
Registered: ®
Trademark: ™</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify special characters</strong> - Check that all special characters are preserved:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Double quotes are preserved</li>
                    <li>Single quotes are preserved</li>
                    <li>Em dash (—) is preserved</li>
                    <li>En dash (–) is preserved</li>
                    <li>Ellipsis (…) is preserved</li>
                    <li>Copyright (©) is preserved</li>
                    <li>Registered (®) is preserved</li>
                    <li>Trademark (™) is preserved</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add more special characters: "Curly quotes: "like this" and 'this'"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify all special characters preserved</strong> - Check that all characters are still correct</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-4" name="roundtrip-10-4">
              <label for="roundtrip-10-4">All special characters are preserved exactly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.5: Mixed Formatting Round-Trip</h4>
            <p>Verify that mixed paragraph breaks, line breaks, and special characters all work together.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Character Seeds" snippet in Yarny</li>
                <li><strong>Create complex content</strong> - Add content with multiple paragraph breaks, line breaks within paragraphs, and special characters:
                  <pre style="background: rgba(0, 0, 0, 0.3); padding: var(--space-md); border-radius: 4px; margin: var(--space-sm) 0;">Character: John Doe

Description: A "mysterious" character with—wait for it—a secret past.

Traits:
- Brave
- Curious
- Loyal

Notes: He's been to many places… but never talks about them.</pre>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify all formatting preserved</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Paragraph breaks are correct</li>
                    <li>Line breaks are correct</li>
                    <li>Special characters are correct</li>
                    <li>Overall structure is preserved</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add more content with mixed formatting</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify complete round-trip</strong> - Check that all formatting is preserved correctly</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-5" name="roundtrip-10-5">
              <label for="roundtrip-10-5">All formatting elements are preserved correctly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.6: Multiple Round-Trips</h4>
            <p>Verify that content integrity is maintained across multiple round-trips.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Record initial content</strong> - Copy the entire content</li>
                <li><strong>Round-trip 1</strong>: Edit in Yarny → Save → Edit in Google Docs → Save → Check in Yarny
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content is preserved correctly</li>
                  </ul>
                </li>
                <li><strong>Round-trip 2</strong>: Edit in Yarny again → Save → Edit in Google Docs again → Save → Check in Yarny
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content is preserved correctly</li>
                  </ul>
                </li>
                <li><strong>Round-trip 3</strong>: Edit in Google Docs → Save → Edit in Yarny → Save → Check in Google Docs
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content is preserved correctly</li>
                  </ul>
                </li>
                <li><strong>Final verification</strong> - Compare final content with initial content:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All original content is still present</li>
                    <li>All edits from both directions are present</li>
                    <li>No content is lost or corrupted</li>
                    <li>Formatting is preserved</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-6" name="roundtrip-10-6">
              <label for="roundtrip-10-6">Content integrity is maintained across multiple round-trips</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.7: Conflict Detection</h4>
            <p>Verify that conflicts are detected when both Yarny and Google Docs are edited.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Make edit in Yarny</strong> - Add: "Edit from Yarny"</li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Switch to different snippet</strong> - Make the first snippet idle (not actively editing)</li>
                <li><strong>Edit in Google Docs</strong> - Open the snippet's Google Doc and add: "Edit from Google Docs"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch back to "Welcome to Yarny" snippet</li>
                <li><strong>Verify conflict detection</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Conflict resolution modal appears</li>
                    <li>Both versions are displayed (Yarny vs Google Docs)</li>
                    <li>Timestamps are shown for both versions</li>
                  </ul>
                </li>
                <li><strong>Resolve with Yarny version</strong> - Choose "Keep Yarny Version"
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Yarny version is kept</li>
                    <li>Google Doc is updated with Yarny version</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Docs</strong> - Open the Google Doc and verify it matches Yarny version</li>
                <li><strong>Test resolve with Google Docs version</strong> - Trigger another conflict and choose "Use Google Docs Version"
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Docs version replaces Yarny content</li>
                    <li>Editor shows Google Docs content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-7" name="roundtrip-10-7">
              <label for="roundtrip-10-7">Conflicts are detected and resolved correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.8: Empty Content Round-Trip</h4>
            <p>Verify that empty content is handled correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Character Seeds" snippet in Yarny</li>
                <li><strong>Clear all content</strong> - Delete all text (make snippet empty)</li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify empty</strong> - Check that Google Doc is empty (or has minimal content)</li>
                <li><strong>Add content in Google Docs</strong> - Add: "Content added in Google Docs"</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify content appears</strong> - Check that content from Google Docs appears in Yarny</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-8" name="roundtrip-10-8">
              <label for="roundtrip-10-8">Empty content is handled correctly, and new content from Google Docs appears</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.9: Format Normalization</h4>
            <p>Verify that format normalization works correctly (line endings, NBSPs, trailing spaces).</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Add content with mixed line endings</strong> - Create content with:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Some lines ending with <code>\n</code> (Unix)</li>
                    <li>Some lines ending with <code>\r\n</code> (Windows)</li>
                    <li>Some lines ending with <code>\r</code> (Mac)</li>
                    <li>Non-breaking spaces (NBSP)</li>
                    <li>Trailing spaces</li>
                  </ul>
                </li>
                <li><strong>Save in Yarny</strong> - Wait for auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify normalization</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All line endings are normalized to <code>\n</code> (Unix format)</li>
                    <li>NBSPs are normalized to regular spaces</li>
                    <li>Trailing spaces are handled correctly</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs</strong> - Add more content with mixed formatting</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify normalization after round-trip</strong> - Check that formatting is still normalized correctly</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-9" name="roundtrip-10-9">
              <label for="roundtrip-10-9">Format normalization works correctly in both directions</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.10: Auto-Save and Round-Trip</h4>
            <p>Verify that auto-save works correctly and content is preserved.</p>
            <div class="test-steps">
              <ol>
                <li>Open "Welcome to Yarny" snippet in Yarny</li>
                <li><strong>Make multiple edits</strong> - Type several sentences, wait for auto-save between edits</li>
                <li><strong>Check save status</strong> - Verify "Saved at X:XX" appears after each auto-save</li>
                <li><strong>Open in Google Docs</strong> - Open the snippet's Google Doc</li>
                <li><strong>Verify all edits saved</strong> - Check that all edits from Yarny appear in Google Docs</li>
                <li><strong>Edit in Google Docs</strong> - Make an edit in Google Docs</li>
                <li><strong>Save in Google Docs</strong></li>
                <li><strong>Return to Yarny</strong> - Switch snippets and switch back</li>
                <li><strong>Verify round-trip</strong> - Check that:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All Yarny edits are preserved</li>
                    <li>Google Docs edit appears</li>
                    <li>Content is complete and correct</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-10" name="roundtrip-10-10">
              <label for="roundtrip-10-10">Auto-save works correctly and round-trip preserves all content</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 10.11: Very Long Content Round-Trip (10KB+)</h4>
            <p>Verify that large snippets (10KB or more) round-trip between Yarny and Google Docs without loss or performance issues.</p>
            <div class="test-steps">
              <ol>
                <li>Create or import a snippet with at least 10KB of plain text content (≈ 1,500–2,000 words)</li>
                <li><strong>Record baseline:</strong> Copy entire content and note word count/character count</li>
                <li><strong>Save in Yarny</strong> - wait for auto-save to complete</li>
                <li><strong>Open in Google Docs</strong> - verify:
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All content is present with no truncation</li>
                    <li>Paragraph and line breaks match baseline</li>
                    <li>No noticeable performance lag in Google Docs</li>
                  </ul>
                </li>
                <li><strong>Edit in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Add several new paragraphs at beginning, middle, and end</li>
                    <li>Save the document</li>
                  </ul>
                </li>
                <li><strong>Return to Yarny</strong> - switch away and back to the snippet</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Docs edits appear correctly</li>
                    <li>All original content remains intact</li>
                    <li>Editor remains responsive while scrolling and editing</li>
                  </ul>
                </li>
                <li><strong>Final comparison:</strong> Confirm final content matches Google Docs exactly (no character loss)</li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="roundtrip-10-11" name="roundtrip-10-11">
              <label for="roundtrip-10-11">10KB+ round-trip preserves all content and remains performant</label>
            </div>
          </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Round-Trip Validation Execution:</strong> These tests should be executed:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>After Phase 3:</strong> Complete all 10 round-trip validation tests with test-small project</li>
              <li><strong>Before Phase 4:</strong> Verify all tests pass before proceeding to editor phase</li>
              <li><strong>Document Results:</strong> Record any failures or issues in the notes section of each test</li>
              <li><strong>Report Issues:</strong> Create GitHub issues for any critical failures</li>
            </ul>
          </div>
        </div>

        <!-- Section 11: Operations & Conflict Resolution Validation -->
        <div class="test-section" data-section-anchor id="section-11">
          <h2><i class="material-icons">settings</i> Section 11: Operations & Conflict Resolution Validation</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section validates that all CRUD operations work correctly and that conflict resolution handles concurrent edits properly. These tests ensure data integrity and proper synchronization between Yarny and Google Drive.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl); background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3B82F6;">
            <p><strong>React App Testing (Phase 5):</strong> These tests apply to both the classic app and the React app. For React app testing:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>React App URL:</strong> Navigate to <code>/editor</code> (or <code>http://localhost:5173/editor</code> for local testing)</li>
              <li><strong>UI Differences:</strong> React app uses Material UI components - look for Material UI button styles, dialogs, and menu components</li>
              <li><strong>Story Selection:</strong> React app uses Zustand store - select stories via the stories list at <code>/stories</code>, not URL parameters</li>
              <li><strong>Component Structure:</strong> React app components: ConflictResolutionModal, SortableChapterList, SortableSnippetList, ContextMenu, RenameModal</li>
              <li><strong>Drag & Drop:</strong> Implemented using <code>@dnd-kit</code> - test drag and drop operations with Material UI components</li>
              <li><strong>Conflict Resolution:</strong> Uses <code>ConflictResolutionModal</code> component - conflict detection happens when switching snippets</li>
              <li><strong>Automated Tests:</strong> E2E tests in <code>tests/e2e/</code> need updates for React app compatibility (see OPEN_TODOS_CHECKLIST.md Phase 5 notes)</li>
              <li><strong>Manual Testing:</strong> All test steps below apply to React app - use the same verification steps but navigate to <code>/editor</code></li>
            </ul>
          </div>
        
          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting validation, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>Yarny app is running and user is authenticated with Google</li>
              <li>You have a test story available (use test-small or create a new one)</li>
              <li>You have access to Google Drive to verify file changes</li>
              <li>You can open Google Docs in a separate browser tab/window</li>
            </ul>
          </div>

          <h3>Chapter & Snippet Management</h3>

          <div class="test-item">
            <h4>Test 11.1: Create Chapter</h4>
            <p>Verify that creating a new chapter works correctly and creates the chapter folder in Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Click "New Chapter" button or use keyboard shortcut (Cmd/Ctrl+Shift+N)</li>
                <li>Enter a chapter name (e.g., "New Chapter")</li>
                <li>Click "Create" or press Enter</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter appears in the sidebar</li>
                    <li>Chapter is visible and can be clicked</li>
                    <li>Initial snippet is created in the new chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter folder is created in Chapters folder</li>
                    <li>Folder name matches chapter name</li>
                    <li>Initial snippet Google Doc is created in chapter folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-1-chapter" name="ops-11-1-chapter">
              <label for="ops-11-1-chapter">Chapter creation works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.2: Create Snippet</h4>
            <p>Verify that creating a new snippet works correctly and appears immediately (optimistic UI).</p>
            <div class="test-steps">
              <ol>
                <li>Click "New Snippet" button or use keyboard shortcut (Cmd/Ctrl+N)</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet appears immediately in the list</li>
                    <li>You can start typing right away (no waiting for Drive file creation)</li>
                    <li>Snippet is selected and editor is focused</li>
                  </ul>
                </li>
                <li>Type some content in the new snippet</li>
                <li>Wait a few seconds</li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Doc is created in the chapter folder</li>
                    <li>File name matches snippet name</li>
                    <li>File content matches what you typed</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-2-snippet" name="ops-11-2-snippet">
              <label for="ops-11-2-snippet">Snippet creation works correctly with optimistic UI</label>
            </div>
          </div>

          <h3>Story Operations</h3>

          <div class="test-item">
            <h4>Test 11.3: Create Story</h4>
            <p>Verify that creating a new story works correctly and creates all required files and folders in Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Click "New Story" button in Yarny</li>
                <li>Enter a story name (e.g., "Operations Test Story")</li>
                <li>Click "Create" or press Enter</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story appears in the stories list</li>
                    <li>Story opens in the editor</li>
                    <li>Initial snippet is created and visible</li>
                    <li>Chapters sidebar shows at least one chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story folder exists in "Yarny Stories" folder</li>
                    <li>Folders created: Chapters/, People/, Places/, Things/</li>
                    <li>Files created: project.json, data.json</li>
                    <li>Initial chapter folder exists in Chapters/</li>
                    <li>Initial snippet Google Doc exists in chapter folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-1" name="ops-11-1">
              <label for="ops-11-1">Story creation works correctly and creates all required structure</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.4: Delete Story</h4>
            <p>Verify that deleting a story removes it from Yarny and Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Select a test story (create one if needed)</li>
                <li>Click the delete/trash icon or use delete option</li>
                <li>Confirm deletion in the confirmation dialog</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story is removed from stories list</li>
                    <li>If it was the active story, editor shows empty state or another story</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Story folder is moved to trash or deleted</li>
                    <li>All files and subfolders are removed</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-2" name="ops-11-2">
              <label for="ops-11-2">Story deletion works correctly and removes all data</label>
            </div>
          </div>

          <h3>Chapter Operations</h3>

          <div class="test-item">
            <h4>Test 11.5: Reorder Chapters</h4>
            <p>Verify that dragging chapters to reorder them persists to Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least 2 chapters</li>
                <li><strong>Record initial order</strong> - Note the order of chapters (e.g., "Chapter 1", "Chapter 2")</li>
                <li><strong>Drag to reorder</strong> - Drag "Chapter 2" above "Chapter 1"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapters appear in new order immediately</li>
                    <li>No visual glitches or flickering</li>
                  </ul>
                </li>
                <li>Wait a few seconds for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapters remain in new order after refresh</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json in story folder</li>
                    <li>Check groups object - position values reflect new order</li>
                    <li>Open project.json - groupIds array reflects new order</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-3" name="ops-11-3">
              <label for="ops-11-3">Chapter reordering persists correctly to Drive</label>
            </div>
          </div>

          <h3>Snippet Operations</h3>

          <div class="test-item">
            <h4>Test 11.6: Reorder Snippets Within Chapter</h4>
            <p>Verify that reordering snippets within a chapter persists correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open a chapter with at least 2 snippets</li>
                <li><strong>Record initial order</strong> - Note snippet titles in order</li>
                <li><strong>Drag to reorder</strong> - Drag second snippet above first</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippets appear in new order immediately</li>
                    <li>No visual glitches</li>
                  </ul>
                </li>
                <li>Wait for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippets remain in new order after refresh</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json</li>
                    <li>Check chapter's snippetIds array - order matches new order</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-4" name="ops-11-4">
              <label for="ops-11-4">Snippet reordering within chapter persists correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.7: Move Snippet Between Chapters</h4>
            <p>Verify that moving a snippet from one chapter to another works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least 2 chapters, each with at least 1 snippet</li>
                <li><strong>Record initial state</strong> - Note which snippet is in which chapter</li>
                <li><strong>Move snippet</strong> - Drag a snippet from Chapter 1 to Chapter 2</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet appears in target chapter immediately</li>
                    <li>Snippet is removed from source chapter</li>
                    <li>No duplicate snippets</li>
                  </ul>
                </li>
                <li>Wait for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet remains in target chapter after refresh</li>
                    <li>Snippet is not in source chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json</li>
                    <li>Check source chapter's snippetIds - snippet ID is removed</li>
                    <li>Check target chapter's snippetIds - snippet ID is added</li>
                    <li>Check snippet's groupId - matches target chapter ID</li>
                    <li>Verify snippet file is in target chapter's Drive folder (if file move is implemented)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-5" name="ops-11-5">
              <label for="ops-11-5">Moving snippets between chapters works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.8: Delete Chapter</h4>
            <p>Verify that deleting a chapter removes it and all its snippets correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a chapter (or use delete button)</li>
                <li>Select "Delete" option</li>
                <li>Confirm deletion</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter is removed from sidebar</li>
                    <li>All chapter's snippets are removed</li>
                    <li>No orphaned snippets remain</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter folder is deleted from Chapters folder</li>
                    <li>All snippet files in chapter folder are deleted</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-8" name="ops-11-8">
              <label for="ops-11-8">Chapter deletion works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.9: Delete Snippet</h4>
            <p>Verify that deleting a snippet removes it correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Right-click on a snippet (or use delete button)</li>
                <li>Select "Delete" option</li>
                <li>Confirm deletion</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet is removed from chapter list</li>
                    <li>If it was active, editor shows empty state or another snippet</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet Google Doc is deleted from chapter folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-9" name="ops-11-9">
              <label for="ops-11-9">Snippet deletion works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.10: Rename Chapter</h4>
            <p>Verify that renaming a chapter updates the folder name in Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Double-click on a chapter title (or right-click and select "Rename")</li>
                <li>Enter a new name (e.g., "Renamed Chapter")</li>
                <li>Press Enter or click Save</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter appears with new name</li>
                    <li>All snippets remain in the chapter</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter folder is renamed to new name</li>
                    <li>Snippet files remain in the folder</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-10" name="ops-11-10">
              <label for="ops-11-10">Chapter renaming works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.11: Rename Snippet</h4>
            <p>Verify that renaming a snippet updates the Google Doc name.</p>
            <div class="test-steps">
              <ol>
                <li>Double-click on a snippet title (or right-click and select "Rename")</li>
                <li>Enter a new name (e.g., "Renamed Snippet")</li>
                <li>Press Enter or click Save</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet appears with new name</li>
                    <li>Snippet content is unchanged</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Google Doc is renamed to new name</li>
                    <li>File content is unchanged</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-11" name="ops-11-11">
              <label for="ops-11-11">Snippet renaming works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.12: Collapse and Expand Chapters</h4>
            <p>Verify that collapsing and expanding chapters works correctly and persists across page reloads.</p>
            <div class="test-steps">
              <ol>
                <li>Click the collapse button on a chapter (chevron or collapse icon)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter collapses (snippets are hidden)</li>
                    <li>Collapse icon changes to expand icon</li>
                  </ul>
                </li>
                <li>Click the expand button</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter expands (snippets are visible)</li>
                    <li>Expand icon changes to collapse icon</li>
                  </ul>
                </li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Collapsed state is preserved (chapter remains collapsed if it was collapsed)</li>
                    <li>Expanded state is preserved (chapter remains expanded if it was expanded)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-12" name="ops-11-12">
              <label for="ops-11-12">Chapter collapse/expand works and persists</label>
            </div>
          </div>

          <h3>Conflict Resolution</h3>

          <div class="test-item">
            <h4>Test 11.13: Conflict Detection - Drive Modified While Yarny Open</h4>
            <p>Verify that conflicts are detected when Google Docs is modified while Yarny has the snippet open.</p>
            <div class="test-steps">
              <ol>
                <li>Open a snippet in Yarny editor</li>
                <li><strong>Record initial content</strong> - Note the current content</li>
                <li><strong>Edit in Google Docs</strong> - Open the snippet's Google Doc in a separate tab</li>
                <li>Make a significant edit (add a paragraph or change text)</li>
                <li>Save the document in Google Docs</li>
                <li><strong>Edit in Yarny</strong> - Make a different edit in Yarny (add different text)</li>
                <li>Wait for auto-save to complete in Yarny</li>
                <li><strong>Switch snippets</strong> - Click on a different snippet, then switch back</li>
                <li><strong>Verify conflict modal appears:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Conflict resolution modal is displayed</li>
                    <li>Modal shows "Local Version" with Yarny's content</li>
                    <li>Modal shows "Drive Version" with Google Docs content</li>
                    <li>Both versions show correct modification times</li>
                    <li>Both versions show correct content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-6" name="ops-11-6">
              <label for="ops-11-6">Conflict detection works when Drive is modified while Yarny is open</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.14: Conflict Resolution - Use Local</h4>
            <p>Verify that choosing "Keep Local" in conflict resolution uses Yarny's version.</p>
            <div class="test-steps">
              <ol>
                <li>Create a conflict scenario (see Test 11.6)</li>
                <li>When conflict modal appears, click "Keep Local"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Editor shows Yarny's local content (not Drive's)</li>
                    <li>Modal closes</li>
                    <li>No error messages</li>
                  </ul>
                </li>
                <li>Wait for auto-save to complete</li>
                <li><strong>Verify in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the snippet's Google Doc</li>
                    <li>Content matches Yarny's local version (not the Drive version that was shown in conflict)</li>
                    <li>Yarny's edits are present</li>
                  </ul>
                </li>
                <li><strong>Refresh Yarny</strong> - Reload the page</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content matches what was kept (local version)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-7" name="ops-11-7">
              <label for="ops-11-7">"Keep Local" conflict resolution works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.15: Conflict Resolution - Use Drive</h4>
            <p>Verify that choosing "Use Drive" in conflict resolution uses Google Docs' version.</p>
            <div class="test-steps">
              <ol>
                <li>Create a conflict scenario (see Test 11.6)</li>
                <li>When conflict modal appears, click "Use Drive"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Editor shows Drive's content (not local Yarny's)</li>
                    <li>Modal closes</li>
                    <li>No error messages</li>
                    <li>Local Yarny edits are replaced with Drive content</li>
                  </ul>
                </li>
                <li>Wait for auto-save to complete</li>
                <li><strong>Verify in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the snippet's Google Doc</li>
                    <li>Content is unchanged (still the Drive version)</li>
                  </ul>
                </li>
                <li><strong>Refresh Yarny</strong> - Reload the page</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Content matches Drive version</li>
                    <li>Local edits are not present</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-8" name="ops-11-8">
              <label for="ops-11-8">"Use Drive" conflict resolution works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.16: Conflict Resolution - Cancel</h4>
            <p>Verify that canceling conflict resolution keeps the current state.</p>
            <div class="test-steps">
              <ol>
                <li>Create a conflict scenario (see Test 11.6)</li>
                <li>When conflict modal appears, click "Cancel"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Modal closes</li>
                    <li>Editor content remains unchanged (still shows local version)</li>
                    <li>No error messages</li>
                  </ul>
                </li>
                <li><strong>Switch snippets and back</strong> - Conflict modal should appear again</li>
                <li><strong>Verify conflict persists:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Conflict is still detected</li>
                    <li>Modal shows both versions again</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-9" name="ops-11-9">
              <label for="ops-11-9">Canceling conflict resolution preserves current state</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.17: Auto-Save Persistence</h4>
            <p>Verify that auto-save works correctly and persists changes to Google Drive.</p>
            <div class="test-steps">
              <ol>
                <li>Open a snippet in Yarny editor</li>
                <li><strong>Make an edit</strong> - Type some new text</li>
                <li><strong>Wait for auto-save</strong> - Watch for save status indicator (should show "Saving..." then "Saved")</li>
                <li><strong>Verify save status:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Save status changes from "Saving..." to "Saved"</li>
                    <li>Last synced time updates</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Docs:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open the snippet's Google Doc</li>
                    <li>New text appears in the document</li>
                    <li>Document modification time is recent</li>
                  </ul>
                </li>
                <li><strong>Refresh Yarny</strong> - Reload the page</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Edits are still present after refresh</li>
                    <li>Content matches what was saved</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-17" name="ops-11-17">
              <label for="ops-11-17">Auto-save works correctly and persists to Drive</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 11.18: Multi-Tab Reorder</h4>
            <p>Verify that reordering chapters/snippets in one tab is reflected in other tabs.</p>
            <div class="test-steps">
              <ol>
                <li>Open Yarny in two browser tabs (same story)</li>
                <li>In Tab 1: Reorder chapters (drag Chapter 2 above Chapter 1)</li>
                <li>Wait a few seconds for save to complete</li>
                <li>In Tab 2: Refresh the page</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter order in Tab 2 matches Tab 1 (Chapter 2 before Chapter 1)</li>
                    <li>No conflicts or errors occur</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="ops-11-18" name="ops-11-18">
              <label for="ops-11-18">Multi-tab reordering is synchronized correctly</label>
            </div>
          </div>

        <div class="test-item">
          <h4>Test 11.19: Order Persists During Concurrent Edits</h4>
          <p>Verify that chapter order remains stable when other edits occur concurrently.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story with multiple chapters and snippets</li>
              <li><strong>Reorder chapters:</strong> Drag Chapter B above Chapter A</li>
              <li>Without refreshing, switch to a different snippet and make edits (add text)</li>
              <li>Trigger an auto-save (wait for "Saved" status)</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapter order stays in the new position during edits</li>
                  <li>No reversion to previous order occurs after auto-save</li>
                </ul>
              </li>
              <li>Refresh the page</li>
              <li><strong>Verify persistence:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapter order remains as reordered</li>
                  <li>Snippet edits are also preserved</li>
                </ul>
              </li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="ops-11-19" name="ops-11-19">
            <label for="ops-11-19">Chapter order persists while concurrent edits occur</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 11.20: Order Persists Through Background Loads</h4>
          <p>Verify that background synchronization (e.g., story reloads, Drive refresh) does not revert chapter order.</p>
          <div class="test-steps">
            <ol>
              <li>Open a story and reorder chapters to a new arrangement</li>
              <li>Trigger a background load:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Use the "Reload from Drive" control if available, or</li>
                  <li>Open DevTools and simulate network reconnect triggering background sync, or</li>
                  <li>Switch to another story and back (if that forces background fetch)</li>
                </ul>
              </li>
              <li><strong>Monitor:</strong> Watch network panel for Drive fetches completing</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Chapter order remains unchanged after background requests finish</li>
                  <li>No duplicate or missing chapters appear</li>
                </ul>
              </li>
              <li>Refresh the page as a final confirmation</li>
              <li>Verify order persists and matches the reordered state</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="ops-11-20" name="ops-11-20">
            <label for="ops-11-20">Chapter order survives background reloads and sync operations</label>
          </div>
        </div>

          <div class="note-box" style="margin-top: var(--space-2xl);">
            <p><strong>Operations Validation Execution:</strong> These tests should be executed:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>After Phase 5:</strong> Complete all operations tests to verify CRUD functionality</li>
              <li><strong>Before Phase 6:</strong> Verify conflict resolution works before proceeding</li>
              <li><strong>Document Results:</strong> Record any failures, timing issues, or data inconsistencies</li>
              <li><strong>Report Issues:</strong> Create GitHub issues for any critical failures or data loss</li>
              <li><strong>Verify Persistence:</strong> Always refresh and check Google Drive to ensure changes persist</li>
            </ul>
          </div>

          <div class="note-box" style="margin-top: var(--space-xl); background: rgba(251, 191, 36, 0.1); border-left: 4px solid #FBBF24;">
            <p><strong>Automated Test Status (Phase 5):</strong></p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>Test Helper Created:</strong> <code>tests/utils/react-app-helpers.ts</code> provides utilities for React app testing</li>
              <li><strong>React Test File:</strong> <code>tests/e2e/conflict-resolution-react.spec.ts</code> - Example React app test</li>
              <li><strong>Manual Verification Required:</strong> Until all E2E tests are updated, manually verify all Phase 5 features work in React app</li>
              <li><strong>Test Update Progress:</strong>
                <ul style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                  <li>Conflict Resolution: Helper created, React test file created, needs full test suite update</li>
                    <li>Chapter/Snippet Management: Needs route updates to <code>/editor</code>, API mock updates</li>
                  <li>Color Coding: Needs Material UI selector updates, component interaction updates</li>
                  <li>Goals: Needs Material UI selector updates, modal interaction updates</li>
                </ul>
              </li>
              <li><strong>Next Steps for Automated Tests:</strong>
                <ol style="margin-top: var(--space-xs); padding-left: var(--space-lg);">
                    <li>Update test routes from classic `/editor.html` to React SPA `/editor`</li>
                  <li>Update UI selectors to match Material UI component structure</li>
                  <li>Update API mocks to match React app's normalized payload structure</li>
                  <li>Update story selection to use Zustand store (via localStorage or UI clicks)</li>
                  <li>Use <code>react-app-helpers.ts</code> utilities for common test setup</li>
                </ol>
              </li>
            </ul>
          </div>
        </div>

        <!-- Section 12: Color Coding & Visual Organization -->
        <div class="test-section" data-section-anchor id="section-12">
          <h2><i class="material-icons">palette</i> Section 12: Color Coding & Visual Organization</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests chapter color coding functionality, including the color picker, color application, persistence, and visual feedback.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl); background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3B82F6;">
            <p><strong>React App Testing (Phase 5):</strong> Color coding is implemented in the React app using the <code>ColorPicker</code> component. For React app testing:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>React App URL:</strong> Navigate to <code>/editor</code> and select a story</li>
              <li><strong>Color Picker Component:</strong> Located in <code>src/components/story/ColorPicker.tsx</code> - uses Material UI Dialog/Popover</li>
              <li><strong>Color Application:</strong> Colors are applied to chapters via the color chip next to chapter titles in the sidebar</li>
              <li><strong>12 Accent Colors:</strong> Red, Orange, Amber, Yellow, Lime, Emerald, Teal, Cyan, Blue, Indigo, Violet, Fuchsia</li>
              <li><strong>Persistence:</strong> Colors are stored in chapter metadata and persist across page reloads</li>
            </ul>
          </div>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story with at least one chapter</li>
              <li>You can see chapter headers in the sidebar</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 12.1: Open Color Picker</h4>
            <p>Verify that clicking the color chip next to a chapter opens the color picker.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least one chapter</li>
                <li>Locate the color chip/button next to a chapter title</li>
                <li>Click on the color chip</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker dialog/popover appears</li>
                    <li>All 12 accent colors are visible (red, orange, amber, yellow, lime, emerald, teal, cyan, blue, indigo, violet, fuchsia)</li>
                    <li>Colors are arranged in a grid (4 columns x 3 rows)</li>
                    <li>Current chapter color (if any) is highlighted/selected</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-1" name="color-12-1">
              <label for="color-12-1">Color picker opens correctly and displays all 12 colors</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.2: Apply Color to Chapter</h4>
            <p>Verify that selecting a color applies it to the chapter and updates the color chip.</p>
            <div class="test-steps">
              <ol>
                <li>Open color picker for a chapter (see Test 12.1)</li>
                <li>Click on a color (e.g., blue)</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>Chapter's color chip updates to show selected color</li>
                    <li>Chapter header or sidebar shows color styling (if implemented)</li>
                    <li>No error messages appear</li>
                  </ul>
                </li>
                <li>Wait a few seconds for save to complete</li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Chapter color is preserved after refresh</li>
                    <li>Color chip shows the selected color</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open data.json or metadata.json in story folder</li>
                    <li>Chapter's color property is saved (e.g., "color": "#3B82F6" for blue)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-2" name="color-12-2">
              <label for="color-12-2">Color application works correctly and persists</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.3: Change Chapter Color</h4>
            <p>Verify that changing a chapter's color from one color to another works correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Select a chapter that already has a color applied</li>
                <li>Open color picker</li>
                <li>Select a different color (e.g., change from blue to red)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color chip updates to new color immediately</li>
                    <li>Old color is no longer applied</li>
                    <li>Color change persists after refresh</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-3" name="color-12-3">
              <label for="color-12-3">Changing chapter color works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.4: Keyboard Navigation in Color Picker</h4>
            <p>Verify that color picker can be navigated using keyboard.</p>
            <div class="test-steps">
              <ol>
                <li>Open color picker</li>
                <li>Use arrow keys to navigate between colors</li>
                <li>Press Enter or Space to select a color</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Focus moves between color options</li>
                    <li>Focused color is highlighted</li>
                    <li>Enter/Space selects the focused color</li>
                    <li>Color picker closes after selection</li>
                  </ul>
                </li>
                <li>Press Escape to close without selecting</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>No color change is applied</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-4" name="color-12-4">
              <label for="color-12-4">Keyboard navigation in color picker works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.5: Close Color Picker</h4>
            <p>Verify that color picker closes when clicking outside or pressing Escape.</p>
            <div class="test-steps">
              <ol>
                <li>Open color picker</li>
                <li>Click outside the color picker (on editor or sidebar)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>No color change is applied</li>
                  </ul>
                </li>
                <li>Open color picker again</li>
                <li>Press Escape key</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Color picker closes</li>
                    <li>No color change is applied</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-5" name="color-12-5">
              <label for="color-12-5">Color picker closes correctly via click outside or Escape</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 12.6: Multiple Chapters with Different Colors</h4>
            <p>Verify that multiple chapters can have different colors simultaneously.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story with at least 3 chapters</li>
                <li>Apply different colors to each chapter (e.g., Chapter 1 = blue, Chapter 2 = red, Chapter 3 = green)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Each chapter displays its assigned color</li>
                    <li>Colors are visually distinct</li>
                    <li>All colors persist after page refresh</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="color-12-6" name="color-12-6">
              <label for="color-12-6">Multiple chapters can have different colors</label>
            </div>
          </div>
        </div>

        <!-- Section 13: Search Functionality -->
        <div class="test-section" data-section-anchor id="section-13">
          <h2><i class="material-icons">search</i> Section 13: Search Functionality</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests search functionality across chapters, snippets, and content, including highlighting, filtering, and keyboard shortcuts.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story with multiple chapters and snippets</li>
              <li>Snippets contain varied content with different words</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 13.1: Search Input Display</h4>
            <p>Verify that search input is visible and accessible in the editor.</p>
            <div class="test-steps">
              <ol>
                <li>Open a story in the editor</li>
                <li>Locate the search input field (usually in the left sidebar)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Search input is visible</li>
                    <li>Placeholder text shows "Search..." or similar</li>
                    <li>Input is accessible and can be focused</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-1" name="search-13-1">
              <label for="search-13-1">Search input is visible and accessible</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.2: Search by Snippet Title</h4>
            <p>Verify that searching for a snippet title filters and highlights matching snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Note the title of a snippet (e.g., "Opening Scene")</li>
                <li>Type the snippet title (or part of it) in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Matching snippet is visible</li>
                    <li>Search term is highlighted in the snippet title</li>
                    <li>Non-matching snippets are filtered out or still visible (implementation-dependent)</li>
                  </ul>
                </li>
                <li>Clear the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All snippets are visible again</li>
                    <li>No highlighting remains</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-2" name="search-13-2">
              <label for="search-13-2">Search by snippet title works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.3: Search by Chapter Title</h4>
            <p>Verify that searching for a chapter title filters matching chapters.</p>
            <div class="test-steps">
              <ol>
                <li>Note the title of a chapter (e.g., "The Beginning")</li>
                <li>Type the chapter title (or part of it) in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Matching chapter is visible</li>
                    <li>Search term is highlighted in chapter title</li>
                    <li>Chapter's snippets are also visible (or filtered based on implementation)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-3" name="search-13-3">
              <label for="search-13-3">Search by chapter title works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.4: Search by Content</h4>
            <p>Verify that searching for text within snippet content finds matching snippets.</p>
            <div class="test-steps">
              <ol>
                <li>Open a snippet and note a unique word or phrase in its content</li>
                <li>Type that word or phrase in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippet containing the text is found</li>
                    <li>Search term is highlighted in snippet content (if content is displayed)</li>
                    <li>Multiple snippets with the same text are all found</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-4" name="search-13-4">
              <label for="search-13-4">Search by content works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.5: Case-Insensitive Search</h4>
            <p>Verify that search is case-insensitive.</p>
            <div class="test-steps">
              <ol>
                <li>Type a search term in lowercase (e.g., "john")</li>
                <li>Note the results</li>
                <li>Clear search and type the same term in uppercase (e.g., "JOHN")</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Results are the same regardless of case</li>
                    <li>Mixed case (e.g., "John") also returns the same results</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-5" name="search-13-5">
              <label for="search-13-5">Search is case-insensitive</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.6: Multi-Word Search</h4>
            <p>Verify that searching for multiple words finds snippets containing all words.</p>
            <div class="test-steps">
              <ol>
                <li>Type multiple words in search (e.g., "brave explorer")</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Snippets containing all words are found</li>
                    <li>Both words are highlighted</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-6" name="search-13-6">
              <label for="search-13-6">Multi-word search works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.7: Keyboard Shortcut (Cmd/Ctrl+F)</h4>
            <p>Verify that pressing Cmd/Ctrl+F focuses the search input.</p>
            <div class="test-steps">
              <ol>
                <li>Click somewhere in the editor (to ensure search is not focused)</li>
                <li>Press Cmd+F (Mac) or Ctrl+F (Windows/Linux)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Search input receives focus</li>
                    <li>Cursor appears in search input</li>
                    <li>You can immediately start typing</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-7" name="search-13-7">
              <label for="search-13-7">Keyboard shortcut focuses search input</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.8: Real-Time Search Updates</h4>
            <p>Verify that search results update as you type.</p>
            <div class="test-steps">
              <ol>
                <li>Focus the search input</li>
                <li>Type a single character</li>
                <li>Continue typing character by character</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Search results update immediately as you type</li>
                    <li>No delay or lag in filtering</li>
                    <li>Highlighting updates in real-time</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-8" name="search-13-8">
              <label for="search-13-8">Search updates in real-time as you type</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.9: Search in People/Places/Things Notes</h4>
            <p>Verify that search also finds matches in People, Places, and Things notes.</p>
            <div class="test-steps">
              <ol>
                <li>Create or open a note in People, Places, or Things with unique content</li>
                <li>Type a unique word from that note in the search input</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Note is found in search results</li>
                    <li>Search term is highlighted in note content</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-9" name="search-13-9">
              <label for="search-13-9">Search finds matches in People/Places/Things notes</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 13.10: No Results Message</h4>
            <p>Verify that a helpful message is shown when no search results are found.</p>
            <div class="test-steps">
              <ol>
                <li>Type a search term that doesn't exist in any snippet, chapter, or note (e.g., "xyzabc123nonexistent")</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>A "No results" or "Nothing found" message is displayed (if implemented)</li>
                    <li>Or, all items are hidden/filtered out</li>
                    <li>UI remains functional (no errors)</li>
                  </ul>
                </li>
                <li>Clear the search</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>All items are visible again</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="search-13-10" name="search-13-10">
              <label for="search-13-10">No results message is shown when appropriate</label>
            </div>
          </div>
        </div>

        <!-- Section 14: Goals & Daily Writing Targets -->
        <div class="test-section" data-section-anchor id="section-14">
          <h2><i class="material-icons">flag</i> Section 14: Goals & Daily Writing Targets</h2>
          <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: var(--space-lg);">This section tests goal configuration, Elastic and Strict modes, daily target calculations, and goal tracking features.</p>

          <div class="note-box" style="margin-bottom: var(--space-xl); background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3B82F6;">
            <p><strong>React App Testing (Phase 5):</strong> Goals functionality is implemented in the React app using the GoalsPanelModal, GoalMeter, and TodayChip components. For React app testing:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li><strong>React App URL:</strong> Navigate to <code>/editor</code> and select a story</li>
              <li><strong>Goals Panel:</strong> Click the "Today" chip to open the GoalsPanelModal - located in <code>src/components/story/GoalsPanelModal.tsx</code></li>
              <li><strong>Goal Meter:</strong> Displays in the left sidebar - shows progress toward word count target - located in <code>src/components/story/GoalMeter.tsx</code></li>
              <li><strong>Today Chip:</strong> Shows daily word count and progress - located in <code>src/components/story/TodayChip.tsx</code></li>
              <li><strong>Goal Storage:</strong> Goals are stored in <code>goal.json</code> file in the story folder in Google Drive</li>
              <li><strong>Modes:</strong> Elastic mode (rebalances daily targets) and Strict mode (fixed daily targets) - both modes are supported</li>
              <li><strong>Manual Testing:</strong> All test steps below apply to React app - use the same verification steps but navigate to <code>/editor</code></li>
            </ul>
          </div>

          <div class="note-box" style="margin-bottom: var(--space-xl);">
            <p><strong>Prerequisites:</strong> Before starting, ensure:</p>
            <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl); color: rgba(255, 255, 255, 0.9);">
              <li>You have a story open in the editor</li>
              <li>You can see the "Today" chip and goal meter in the sidebar</li>
            </ul>
          </div>

          <div class="test-item">
            <h4>Test 14.1: Open Goals Panel</h4>
            <p>Verify that clicking the "Today" chip opens the goals configuration panel.</p>
            <div class="test-steps">
              <ol>
                <li>Locate the "Today" chip in the left sidebar</li>
                <li>Click on the "Today" chip</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goals panel modal/dialog opens</li>
                    <li>Modal shows current goal settings (if any)</li>
                    <li>All goal fields are visible (word count target, deadline, writing days, mode, days off)</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-1" name="goals-14-1">
              <label for="goals-14-1">Goals panel opens correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.2: Set Word Count Target</h4>
            <p>Verify that setting a word count target saves correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel (see Test 14.1)</li>
                <li>Enter a word count target (e.g., 75000)</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goal meter updates to show progress (e.g., "0 / 75,000")</li>
                    <li>Modal closes</li>
                    <li>No error messages</li>
                  </ul>
                </li>
                <li><strong>Refresh page</strong> - Reload Yarny</li>
                <li><strong>Verify persistence:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Word count target is preserved</li>
                    <li>Goal meter shows the saved target</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json file in story folder</li>
                    <li>target field matches the value you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-2" name="goals-14-2">
              <label for="goals-14-2">Word count target is saved correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.3: Set Deadline</h4>
            <p>Verify that setting a deadline saves correctly and enables daily target calculations.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Enter a deadline date (e.g., 6 months from today)</li>
                <li>Set a word count target (e.g., 10000)</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip shows daily word count target</li>
                    <li>Daily target is calculated based on deadline and target</li>
                    <li>Progress bar in "Today" chip shows progress toward daily target</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>deadline field matches the date you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-3" name="goals-14-3">
              <label for="goals-14-3">Deadline is saved and enables daily targets</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.4: Select Writing Days</h4>
            <p>Verify that selecting specific writing days (Mon-Sun) saves correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Uncheck some days (e.g., uncheck Saturday and Sunday)</li>
                <li>Set a deadline and word count target</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify in Yarny:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Daily target calculation excludes non-writing days</li>
                    <li>"Today" chip shows correct daily target (adjusted for writing days only)</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>writingDays array reflects your selections (e.g., [true, true, true, true, true, false, false])</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-4" name="goals-14-4">
              <label for="goals-14-4">Writing days selection works correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.5: Set Mode to Elastic</h4>
            <p>Verify that Elastic mode rebalances daily targets based on progress.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Set word count target: 10000</li>
                <li>Set deadline: 10 days from today</li>
                <li>Select mode: "Elastic"</li>
                <li>Click "Save Goals"</li>
                <li><strong>Note initial daily target</strong> - Record the daily target shown in "Today" chip</li>
                <li>Write some words (e.g., 500 words more than the daily target)</li>
                <li>Wait for goal calculation to update</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Next day's daily target is adjusted (reduced, since you're ahead)</li>
                    <li>Remaining days' targets are rebalanced</li>
                    <li>Total target (10000) remains the same</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>mode field is "elastic"</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-5" name="goals-14-5">
              <label for="goals-14-5">Elastic mode rebalances daily targets correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.6: Set Mode to Strict</h4>
            <p>Verify that Strict mode keeps fixed daily targets regardless of progress.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Set word count target: 10000</li>
                <li>Set deadline: 10 days from today</li>
                <li>Select mode: "Strict"</li>
                <li>Click "Save Goals"</li>
                <li><strong>Note initial daily target</strong> - Record the daily target (e.g., 1000 words per day)</li>
                <li>Write some words (e.g., 500 words more than the daily target)</li>
                <li>Wait for goal calculation to update</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Next day's daily target remains the same (1000 words)</li>
                    <li>Daily targets do not change based on progress</li>
                    <li>Visual indicators may show if you're ahead (green) or behind (red)</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>mode field is "strict"</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-6" name="goals-14-6">
              <label for="goals-14-6">Strict mode keeps fixed daily targets</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.7: Add Days Off</h4>
            <p>Verify that adding days off excludes those days from daily target calculations.</p>
            <div class="test-steps">
              <ol>
                <li>Open goals panel</li>
                <li>Set word count target and deadline</li>
                <li>Enter days off in format: "YYYY-MM-DD, YYYY-MM-DD" (e.g., "2025-12-25, 2026-01-01")</li>
                <li>Click "Save Goals"</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Days off are excluded from daily target calculations</li>
                    <li>Daily targets are adjusted to account for days off</li>
                  </ul>
                </li>
                <li><strong>Verify in Google Drive:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Open goal.json</li>
                    <li>daysOff array contains the dates you entered</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-7" name="goals-14-7">
              <label for="goals-14-7">Days off are saved and excluded from calculations</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.8: Goal Meter Display</h4>
            <p>Verify that goal meter displays progress correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Set a word count target (e.g., 10000)</li>
                <li>Write some content to reach a portion of the target (e.g., 2500 words)</li>
                <li><strong>Verify goal meter:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goal meter shows "2,500 / 10,000" or similar</li>
                    <li>Progress bar shows 25% filled</li>
                    <li>Progress bar color is appropriate (green for on track, etc.)</li>
                  </ul>
                </li>
                <li>Continue writing to reach the target</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>Goal meter shows "10,000 / 10,000" when target is reached</li>
                    <li>Progress bar is 100% filled</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-8" name="goals-14-8">
              <label for="goals-14-8">Goal meter displays progress correctly</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.9: Today Chip Updates</h4>
            <p>Verify that "Today" chip shows daily progress and updates correctly.</p>
            <div class="test-steps">
              <ol>
                <li>Set a goal with deadline (see Test 14.3)</li>
                <li><strong>Verify initial state:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip shows daily word count (e.g., "0")</li>
                    <li>Progress bar shows 0%</li>
                    <li>Daily target is visible or implied</li>
                  </ul>
                </li>
                <li>Write some content</li>
                <li><strong>Verify updates:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip updates to show current day's word count</li>
                    <li>Progress bar fills based on daily target</li>
                    <li>Updates happen in real-time or after auto-save</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-9" name="goals-14-9">
              <label for="goals-14-9">Today chip updates correctly with daily progress</label>
            </div>
          </div>

          <div class="test-item">
            <h4>Test 14.10: Midnight Rollover</h4>
            <p>Verify that daily word counts reset at midnight in user's timezone.</p>
            <div class="test-steps">
              <ol>
                <li>Set a goal with deadline</li>
                <li>Write some words during the day</li>
                <li>Note the word count in "Today" chip</li>
                <li><strong>Wait until after midnight</strong> (or change system time for testing)</li>
                <li><strong>Verify:</strong>
                  <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                    <li>"Today" chip resets to "0" words</li>
                    <li>Progress bar resets to 0%</li>
                    <li>Daily target recalculates if in Elastic mode</li>
                    <li>Previous day's word count is preserved in ledger</li>
                  </ul>
                </li>
              </ol>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="goals-14-10" name="goals-14-10">
              <label for="goals-14-10">Midnight rollover resets daily word count correctly</label>
            </div>
          </div>

        <div class="test-item">
          <h4>Test 14.11: Today Chip Timezone Rollover</h4>
          <p>Verify that the "Today" chip updates correctly when system timezone changes and across IANA regions.</p>
          <div class="test-steps">
            <ol>
              <li>Set a daily goal and accumulate progress (e.g., write 300 words)</li>
              <li>Record current timezone and "Today" chip value</li>
              <li>Change system timezone to a different IANA timezone (e.g., from America/Los_Angeles to Europe/London)</li>
              <li>Reload Yarny and verify:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>"Today" chip reflects correct local day and word count</li>
                  <li>No double counting or reset occurs prematurely</li>
                </ul>
              </li>
              <li>Adjust system clock to just before local midnight in new timezone</li>
              <li>Wait for midnight (or advance clock) and verify:
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>"Today" chip rolls over to 0 at midnight</li>
                  <li>Previous day's counts move to ledger/history</li>
                </ul>
              </li>
              <li>Repeat with an additional timezone that observes DST to ensure rollover remains correct</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="goals-14-11" name="goals-14-11">
            <label for="goals-14-11">Today chip handles timezone changes and midnight rollover correctly</label>
          </div>
        </div>

        <div class="test-item">
          <h4>Test 14.12: Goal Calculations Across DST Boundaries</h4>
          <p>Verify that goal deadlines and remaining days calculations stay accurate when daylight saving transitions occur.</p>
          <div class="test-steps">
            <ol>
              <li>Create a goal with a deadline that spans an upcoming or simulated DST transition</li>
              <li>Note current remaining days/hours displayed in goal meter and goal details</li>
              <li>Adjust system timezone/clock to cross the DST boundary (e.g., move clock forward by 1 hour for "spring forward")</li>
              <li><strong>Verify:</strong>
                <ul style="margin-top: var(--space-sm); padding-left: var(--space-xl);">
                  <li>Remaining days/hours adjust correctly (no +/-24h error)</li>
                  <li>Goal progress meter still reflects correct percentage toward deadline</li>
                </ul>
              </li>
              <li>Repeat with the opposite transition (fall back) and confirm calculations remain consistent</li>
              <li>Document any discrepancies between displayed deadlines and expected values</li>
            </ol>
          </div>
          <div class="checkbox-container">
            <input type="checkbox" id="goals-14-12" name="goals-14-12">
            <label for="goals-14-12">Goal deadlines remain accurate across DST changes</label>
          </div>
        </div>
        </div>

        <div class="summary-section" id="phase-summary" data-section-anchor>
          <h2>Phase 4 Progress</h2>
          <p style="color: rgba(255, 255, 255, 0.78); margin-bottom: var(--space-xl);">Confirm complex workflows before moving to hardening and visual QA.</p>
          <div class="summary-stats">
            <div class="stat-box">
              <div class="stat-number" id="totalTests">0</div>
              <div class="stat-label">Total Tasks</div>
            </div>
            <div class="stat-box">
              <div class="stat-number" id="completedTests">0</div>
              <div class="stat-label">Completed</div>
            </div>
            <div class="stat-box">
              <div class="stat-number" id="remainingTests">0</div>
              <div class="stat-label">Remaining</div>
            </div>
            <div class="stat-box">
              <div class="stat-number" id="completionPercent">0%</div>
              <div class="stat-label">Completion</div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="shared-footer">
      <p>&copy; 2025 Yarny. Your personal writing tool.</p>
      <nav class="shared-footer-nav">
        <a href="/docs.html">User Guide</a>
        <a href="/migration-plan">Migration Plan</a>
        <a href="/migration-plan/testing-workbook">Testing Workbook</a>
      </nav>
    </footer>
  </div>
</body>
</html>
